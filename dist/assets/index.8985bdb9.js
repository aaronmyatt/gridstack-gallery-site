(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();var Q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pt={},V={},D={};Object.defineProperty(D,"__esModule",{value:!0});D.Utils=D.obsoleteAttr=D.obsoleteOptsDel=D.obsoleteOpts=D.obsolete=void 0;function bt(p,t,e,s,r){let l=(...h)=>(console.warn("gridstack.js: Function `"+e+"` is deprecated in "+r+" and has been replaced with `"+s+"`. It will be **completely** removed in v1.0"),t.apply(p,h));return l.prototype=t.prototype,l}D.obsolete=bt;function wt(p,t,e,s){p[t]!==void 0&&(p[e]=p[t],console.warn("gridstack.js: Option `"+t+"` is deprecated in "+s+" and has been replaced with `"+e+"`. It will be **completely** removed in v1.0"))}D.obsoleteOpts=wt;function xt(p,t,e,s){p[t]!==void 0&&console.warn("gridstack.js: Option `"+t+"` is deprecated in "+e+s)}D.obsoleteOptsDel=xt;function Et(p,t,e,s){let r=p.getAttribute(t);r!==null&&(p.setAttribute(e,r),console.warn("gridstack.js: attribute `"+t+"`="+r+" is deprecated on this object in "+s+" and has been replaced with `"+e+"`. It will be **completely** removed in v1.0"))}D.obsoleteAttr=Et;class F{static getElements(t){if(typeof t=="string"){let e=document.querySelectorAll(t);return!e.length&&t[0]!=="."&&t[0]!=="#"&&(e=document.querySelectorAll("."+t),e.length||(e=document.querySelectorAll("#"+t))),Array.from(e)}return[t]}static getElement(t){if(typeof t=="string"){if(!t.length)return null;if(t[0]==="#")return document.getElementById(t.substring(1));if(t[0]==="."||t[0]==="[")return document.querySelector(t);if(!isNaN(+t[0]))return document.getElementById(t);let e=document.querySelector(t);return e||(e=document.getElementById(t)),e||(e=document.querySelector("."+t)),e}return t}static isIntercepted(t,e){return!(t.y>=e.y+e.h||t.y+t.h<=e.y||t.x+t.w<=e.x||t.x>=e.x+e.w)}static isTouching(t,e){return F.isIntercepted(t,{x:e.x-.5,y:e.y-.5,w:e.w+1,h:e.h+1})}static sort(t,e,s){return s=s||t.reduce((r,l)=>Math.max(l.x+l.w,r),0)||12,e===-1?t.sort((r,l)=>l.x+l.y*s-(r.x+r.y*s)):t.sort((r,l)=>r.x+r.y*s-(l.x+l.y*s))}static createStylesheet(t,e){let s=document.createElement("style");return s.setAttribute("type","text/css"),s.setAttribute("gs-style-id",t),s.styleSheet?s.styleSheet.cssText="":s.appendChild(document.createTextNode("")),e?e.insertBefore(s,e.firstChild):(e=document.getElementsByTagName("head")[0],e.appendChild(s)),s.sheet}static removeStylesheet(t){let e=document.querySelector("STYLE[gs-style-id="+t+"]");e&&e.parentNode&&e.remove()}static addCSSRule(t,e,s){typeof t.addRule=="function"?t.addRule(e,s):typeof t.insertRule=="function"&&t.insertRule(`${e}{${s}}`)}static toBool(t){return typeof t=="boolean"?t:typeof t=="string"?(t=t.toLowerCase(),!(t===""||t==="no"||t==="false"||t==="0")):Boolean(t)}static toNumber(t){return t===null||t.length===0?void 0:Number(t)}static parseHeight(t){let e,s="px";if(typeof t=="string"){let r=t.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%)?$/);if(!r)throw new Error("Invalid height");s=r[2]||"px",e=parseFloat(r[1])}else e=t;return{h:e,unit:s}}static defaults(t,...e){return e.forEach(s=>{for(const r in s){if(!s.hasOwnProperty(r))return;t[r]===null||t[r]===void 0?t[r]=s[r]:typeof s[r]=="object"&&typeof t[r]=="object"&&this.defaults(t[r],s[r])}}),t}static same(t,e){if(typeof t!="object")return t==e;if(typeof t!=typeof e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}static copyPos(t,e,s=!1){return t.x=e.x,t.y=e.y,t.w=e.w,t.h=e.h,s&&(e.minW&&(t.minW=e.minW),e.minH&&(t.minH=e.minH),e.maxW&&(t.maxW=e.maxW),e.maxH&&(t.maxH=e.maxH)),t}static samePos(t,e){return t&&e&&t.x===e.x&&t.y===e.y&&t.w===e.w&&t.h===e.h}static removeInternalAndSame(t,e){if(!(typeof t!="object"||typeof e!="object"))for(let s in t){let r=t[s];if(s[0]==="_"||r===e[s])delete t[s];else if(r&&typeof r=="object"&&e[s]!==void 0){for(let l in r)(r[l]===e[s][l]||l[0]==="_")&&delete r[l];Object.keys(r).length||delete t[s]}}}static closestByClass(t,e){for(;t;){if(t.classList.contains(e))return t;t=t.parentElement}return null}static throttle(t,e){let s=!1;return(...r)=>{s||(s=!0,setTimeout(()=>{t(...r),s=!1},e))}}static removePositioningStyles(t){let e=t.style;e.position&&e.removeProperty("position"),e.left&&e.removeProperty("left"),e.top&&e.removeProperty("top"),e.width&&e.removeProperty("width"),e.height&&e.removeProperty("height")}static getScrollElement(t){if(!t)return document.scrollingElement||document.documentElement;const e=getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowY)?t:this.getScrollElement(t.parentElement)}static updateScrollPosition(t,e,s){let r=t.getBoundingClientRect(),l=window.innerHeight||document.documentElement.clientHeight;if(r.top<0||r.bottom>l){let h=r.bottom-l,u=r.top,d=this.getScrollElement(t);if(d!==null){let i=d.scrollTop;r.top<0&&s<0?t.offsetHeight>l?d.scrollTop+=s:d.scrollTop+=Math.abs(u)>Math.abs(s)?s:u:s>0&&(t.offsetHeight>l?d.scrollTop+=s:d.scrollTop+=h>s?s:h),e.top+=d.scrollTop-i}}}static updateScrollResize(t,e,s){const r=this.getScrollElement(e),l=r.clientHeight,h=r===this.getScrollElement()?0:r.getBoundingClientRect().top,u=t.clientY-h,d=u<s,i=u>l-s;d?r.scrollBy({behavior:"smooth",top:u-s}):i&&r.scrollBy({behavior:"smooth",top:s-(l-u)})}static clone(t){return t==null||typeof t!="object"?t:t instanceof Array?[...t]:Object.assign({},t)}static cloneDeep(t){const e=F.clone(t);for(const s in e)e.hasOwnProperty(s)&&typeof e[s]=="object"&&s.substring(0,2)!=="__"&&!Ct.find(r=>r===s)&&(e[s]=F.cloneDeep(t[s]));return e}}D.Utils=F;const Ct=["_isNested","el","grid","subGrid","engine"];Object.defineProperty(V,"__esModule",{value:!0});V.GridStackEngine=void 0;const b=D;class U{constructor(t={}){this.addedNodes=[],this.removedNodes=[],this.column=t.column||12,this.maxRow=t.maxRow,this._float=t.float,this.nodes=t.nodes||[],this.onChange=t.onChange}batchUpdate(){return this.batchMode?this:(this.batchMode=!0,this._prevFloat=this._float,this._float=!0,this.saveInitial())}commit(){return this.batchMode?(this.batchMode=!1,this._float=this._prevFloat,delete this._prevFloat,this._packNodes()._notify()):this}_useEntireRowArea(t,e){return!this.float&&!this._hasLocked&&(!t._moving||t._skipDown||e.y<=t.y)}_fixCollisions(t,e=t,s,r={}){if(this.sortNodes(-1),s=s||this.collide(t,e),!s)return!1;if(t._moving&&!r.nested&&!this.float&&this.swap(t,s))return!0;let l=e;this._useEntireRowArea(t,e)&&(l={x:0,w:this.column,y:e.y,h:e.h},s=this.collide(t,l,r.skip));let h=!1,u={nested:!0,pack:!1};for(;s=s||this.collide(t,l,r.skip);){let d;if(s.locked||t._moving&&!t._skipDown&&e.y>t.y&&!this.float&&(!this.collide(s,Object.assign(Object.assign({},s),{y:t.y}),t)||!this.collide(s,Object.assign(Object.assign({},s),{y:e.y-s.h}),t))?(t._skipDown=t._skipDown||e.y>t.y,d=this.moveNode(t,Object.assign(Object.assign(Object.assign({},e),{y:s.y+s.h}),u)),s.locked&&d?b.Utils.copyPos(e,t):!s.locked&&d&&r.pack&&(this._packNodes(),e.y=s.y+s.h,b.Utils.copyPos(t,e)),h=h||d):d=this.moveNode(s,Object.assign(Object.assign(Object.assign({},s),{y:e.y+e.h,skip:t}),u)),!d)return h;s=void 0}return h}collide(t,e=t,s){return this.nodes.find(r=>r!==t&&r!==s&&b.Utils.isIntercepted(r,e))}collideAll(t,e=t,s){return this.nodes.filter(r=>r!==t&&r!==s&&b.Utils.isIntercepted(r,e))}collideCoverage(t,e,s){if(!e.rect||!t._rect)return;let r=t._rect,l=Object.assign({},e.rect);l.y>r.y?(l.h+=l.y-r.y,l.y=r.y):l.h+=r.y-l.y,l.x>r.x?(l.w+=l.x-r.x,l.x=r.x):l.w+=r.x-l.x;let h;return s.forEach(u=>{if(u.locked||!u._rect)return;let d=u._rect,i=Number.MAX_VALUE,o=Number.MAX_VALUE,n=.5;r.y<d.y?i=(l.y+l.h-d.y)/d.h:r.y+r.h>d.y+d.h&&(i=(d.y+d.h-l.y)/d.h),r.x<d.x?o=(l.x+l.w-d.x)/d.w:r.x+r.w>d.x+d.w&&(o=(d.x+d.w-l.x)/d.w);let a=Math.min(o,i);a>n&&(n=a,h=u)}),h}cacheRects(t,e,s,r,l,h){return this.nodes.forEach(u=>u._rect={y:u.y*e+s,x:u.x*t+h,w:u.w*t-h-r,h:u.h*e-s-l}),this}swap(t,e){if(!e||e.locked||!t||t.locked)return!1;function s(){let l=e.x,h=e.y;return e.x=t.x,e.y=t.y,t.h!=e.h?(t.x=l,t.y=e.y+e.h):t.w!=e.w?(t.x=e.x+e.w,t.y=h):(t.x=l,t.y=h),t._dirty=e._dirty=!0,!0}let r;if(t.w===e.w&&t.h===e.h&&(t.x===e.x||t.y===e.y)&&(r=b.Utils.isTouching(t,e)))return s();if(r!==!1){if(t.w===e.w&&t.x===e.x&&(r||(r=b.Utils.isTouching(t,e)))){if(e.y<t.y){let l=t;t=e,e=l}return s()}if(r!==!1){if(t.h===e.h&&t.y===e.y&&(r||(r=b.Utils.isTouching(t,e)))){if(e.x<t.x){let l=t;t=e,e=l}return s()}return!1}}}isAreaEmpty(t,e,s,r){let l={x:t||0,y:e||0,w:s||1,h:r||1};return!this.collide(l)}compact(){if(this.nodes.length===0)return this;this.batchUpdate().sortNodes();let t=this.nodes;return this.nodes=[],t.forEach(e=>{e.locked||(e.autoPosition=!0),this.addNode(e,!1),e._dirty=!0}),this.commit()}set float(t){this._float!==t&&(this._float=t||!1,t||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(t){return this.nodes=b.Utils.sort(this.nodes,t,this.column),this}_packNodes(){return this.batchMode?this:(this.sortNodes(),this.float?this.nodes.forEach(t=>{if(t._updating||t._orig===void 0||t.y===t._orig.y)return;let e=t.y;for(;e>t._orig.y;)--e,this.collide(t,{x:t.x,y:e,w:t.w,h:t.h})||(t._dirty=!0,t.y=e)}):this.nodes.forEach((t,e)=>{if(!t.locked)for(;t.y>0;){let s=e===0?0:t.y-1;if(!(e===0||!this.collide(t,{x:t.x,y:s,w:t.w,h:t.h})))break;t._dirty=t.y!==s,t.y=s}}),this)}prepareNode(t,e){t=t||{},t._id=t._id||U._idSeq++,(t.x===void 0||t.y===void 0||t.x===null||t.y===null)&&(t.autoPosition=!0);let s={x:0,y:0,w:1,h:1};return b.Utils.defaults(t,s),t.autoPosition||delete t.autoPosition,t.noResize||delete t.noResize,t.noMove||delete t.noMove,typeof t.x=="string"&&(t.x=Number(t.x)),typeof t.y=="string"&&(t.y=Number(t.y)),typeof t.w=="string"&&(t.w=Number(t.w)),typeof t.h=="string"&&(t.h=Number(t.h)),isNaN(t.x)&&(t.x=s.x,t.autoPosition=!0),isNaN(t.y)&&(t.y=s.y,t.autoPosition=!0),isNaN(t.w)&&(t.w=s.w),isNaN(t.h)&&(t.h=s.h),this.nodeBoundFix(t,e)}nodeBoundFix(t,e){let s=t._orig||b.Utils.copyPos({},t);return t.maxW&&(t.w=Math.min(t.w,t.maxW)),t.maxH&&(t.h=Math.min(t.h,t.maxH)),t.minW&&t.minW<=this.column&&(t.w=Math.max(t.w,t.minW)),t.minH&&(t.h=Math.max(t.h,t.minH)),t.w>this.column?(this.column<12&&!this._inColumnResize&&(t.w=Math.min(12,t.w),this.cacheOneLayout(t,12)),t.w=this.column):t.w<1&&(t.w=1),this.maxRow&&t.h>this.maxRow?t.h=this.maxRow:t.h<1&&(t.h=1),t.x<0&&(t.x=0),t.y<0&&(t.y=0),t.x+t.w>this.column&&(e?t.w=this.column-t.x:t.x=this.column-t.w),this.maxRow&&t.y+t.h>this.maxRow&&(e?t.h=this.maxRow-t.y:t.y=this.maxRow-t.h),b.Utils.samePos(t,s)||(t._dirty=!0),t}getDirtyNodes(t){return t?this.nodes.filter(e=>e._dirty&&!b.Utils.samePos(e,e._orig)):this.nodes.filter(e=>e._dirty)}_notify(t){if(this.batchMode||!this.onChange)return this;let e=(t||[]).concat(this.getDirtyNodes());return this.onChange(e),this}cleanNodes(){return this.batchMode?this:(this.nodes.forEach(t=>{delete t._dirty,delete t._lastTried}),this)}saveInitial(){return this.nodes.forEach(t=>{t._orig=b.Utils.copyPos({},t),delete t._dirty}),this._hasLocked=this.nodes.some(t=>t.locked),this}restoreInitial(){return this.nodes.forEach(t=>{b.Utils.samePos(t,t._orig)||(b.Utils.copyPos(t,t._orig),t._dirty=!0)}),this._notify(),this}addNode(t,e=!1){let s=this.nodes.find(r=>r._id===t._id);if(s)return s;if(t=this._inColumnResize?this.nodeBoundFix(t):this.prepareNode(t),delete t._temporaryRemoved,delete t._removeDOM,t.autoPosition){this.sortNodes();for(let r=0;;++r){let l=r%this.column,h=Math.floor(r/this.column);if(l+t.w>this.column)continue;let u={x:l,y:h,w:t.w,h:t.h};if(!this.nodes.find(d=>b.Utils.isIntercepted(u,d))){t.x=l,t.y=h,delete t.autoPosition;break}}}return this.nodes.push(t),e&&this.addedNodes.push(t),this._fixCollisions(t),this.batchMode||this._packNodes()._notify(),t}removeNode(t,e=!0,s=!1){return this.nodes.find(r=>r===t)?(s&&this.removedNodes.push(t),e&&(t._removeDOM=!0),this.nodes=this.nodes.filter(r=>r!==t),this._packNodes()._notify([t])):this}removeAll(t=!0){return delete this._layouts,this.nodes.length===0?this:(t&&this.nodes.forEach(e=>e._removeDOM=!0),this.removedNodes=this.nodes,this.nodes=[],this._notify(this.removedNodes))}moveNodeCheck(t,e){if(!this.changedPosConstrain(t,e))return!1;if(e.pack=!0,!this.maxRow)return this.moveNode(t,e);let s,r=new U({column:this.column,float:this.float,nodes:this.nodes.map(h=>h===t?(s=Object.assign({},h),s):Object.assign({},h))});if(!s)return!1;let l=r.moveNode(s,e)&&r.getRow()<=this.maxRow;if(!l&&!e.resizing){let h=this.collide(t,e);if(h&&this.swap(t,h))return this._notify(),!0}return l?(r.nodes.filter(h=>h._dirty).forEach(h=>{let u=this.nodes.find(d=>d._id===h._id);!u||(b.Utils.copyPos(u,h),u._dirty=!0)}),this._notify(),!0):!1}willItFit(t){if(delete t._willFitPos,!this.maxRow)return!0;let e=new U({column:this.column,float:this.float,nodes:this.nodes.map(r=>Object.assign({},r))}),s=Object.assign({},t);return this.cleanupNode(s),delete s.el,delete s._id,delete s.content,delete s.grid,e.addNode(s),e.getRow()<=this.maxRow?(t._willFitPos=b.Utils.copyPos({},s),!0):!1}changedPosConstrain(t,e){return e.w=e.w||t.w,e.h=e.h||t.h,t.x!==e.x||t.y!==e.y?!0:(t.maxW&&(e.w=Math.min(e.w,t.maxW)),t.maxH&&(e.h=Math.min(e.h,t.maxH)),t.minW&&(e.w=Math.max(e.w,t.minW)),t.minH&&(e.h=Math.max(e.h,t.minH)),t.w!==e.w||t.h!==e.h)}moveNode(t,e){if(!t||!e)return!1;e.pack===void 0&&(e.pack=!0),typeof e.x!="number"&&(e.x=t.x),typeof e.y!="number"&&(e.y=t.y),typeof e.w!="number"&&(e.w=t.w),typeof e.h!="number"&&(e.h=t.h);let s=t.w!==e.w||t.h!==e.h,r=b.Utils.copyPos({},t,!0);if(b.Utils.copyPos(r,e),r=this.nodeBoundFix(r,s),b.Utils.copyPos(e,r),b.Utils.samePos(t,e))return!1;let l=b.Utils.copyPos({},t),h=this.collideAll(t,r,e.skip),u=!0;if(h.length){let d=t._moving&&!e.nested?this.collideCoverage(t,e,h):h[0];d?u=!this._fixCollisions(t,r,d,e):u=!1}return u&&(t._dirty=!0,b.Utils.copyPos(t,r)),e.pack&&this._packNodes()._notify(),!b.Utils.samePos(t,l)}getRow(){return this.nodes.reduce((t,e)=>Math.max(t,e.y+e.h),0)}beginUpdate(t){return t._updating||(t._updating=!0,delete t._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){let t=this.nodes.find(e=>e._updating);return t&&(delete t._updating,delete t._skipDown),this}save(t=!0){var e;let s=(e=this._layouts)===null||e===void 0?void 0:e.length,r=s&&this.column!==s-1?this._layouts[s-1]:null,l=[];return this.sortNodes(),this.nodes.forEach(h=>{let u=r==null?void 0:r.find(i=>i._id===h._id),d=Object.assign({},h);u&&(d.x=u.x,d.y=u.y,d.w=u.w);for(let i in d)(i[0]==="_"||d[i]===null||d[i]===void 0)&&delete d[i];delete d.grid,t||delete d.el,d.autoPosition||delete d.autoPosition,d.noResize||delete d.noResize,d.noMove||delete d.noMove,d.locked||delete d.locked,l.push(d)}),l}layoutsNodesChange(t){return!this._layouts||this._inColumnResize?this:(this._layouts.forEach((e,s)=>{if(!e||s===this.column)return this;if(s<this.column)this._layouts[s]=void 0;else{let r=s/this.column;t.forEach(l=>{if(!l._orig)return;let h=e.find(u=>u._id===l._id);!h||(l.y!==l._orig.y&&(h.y+=l.y-l._orig.y),l.x!==l._orig.x&&(h.x=Math.round(l.x*r)),l.w!==l._orig.w&&(h.w=Math.round(l.w*r)))})}}),this)}updateNodeWidths(t,e,s,r="moveScale"){var l;if(!this.nodes.length||!e||t===e)return this;this.cacheLayout(this.nodes,t),this.batchUpdate();let h=[],u=!1;if(e===1&&(s==null?void 0:s.length)){u=!0;let i=0;s.forEach(o=>{o.x=0,o.w=1,o.y=Math.max(o.y,i),i=o.y+o.h}),h=s,s=[]}else s=b.Utils.sort(this.nodes,-1,t);let d=[];if(e>t){d=this._layouts[e]||[];let i=this._layouts.length-1;!d.length&&t!==i&&((l=this._layouts[i])===null||l===void 0?void 0:l.length)&&(t=i,this._layouts[i].forEach(o=>{let n=s.find(a=>a._id===o._id);n&&(n.x=o.x,n.y=o.y,n.w=o.w)}))}if(d.forEach(i=>{let o=s.findIndex(n=>n._id===i._id);o!==-1&&(s[o].x=i.x,s[o].y=i.y,s[o].w=i.w,h.push(s[o]),s.splice(o,1))}),s.length){if(typeof r=="function")r(e,t,h,s);else if(!u){let i=e/t,o=r==="move"||r==="moveScale",n=r==="scale"||r==="moveScale";s.forEach(a=>{a.x=e===1?0:o?Math.round(a.x*i):Math.min(a.x,e-1),a.w=e===1||t===1?1:n?Math.round(a.w*i)||1:Math.min(a.w,e),h.push(a)}),s=[]}}return h=b.Utils.sort(h,-1,e),this._inColumnResize=!0,this.nodes=[],h.forEach(i=>{this.addNode(i,!1),delete i._orig}),this.commit(),delete this._inColumnResize,this}cacheLayout(t,e,s=!1){let r=[];return t.forEach((l,h)=>{l._id=l._id||U._idSeq++,r[h]={x:l.x,y:l.y,w:l.w,_id:l._id}}),this._layouts=s?[]:this._layouts||[],this._layouts[e]=r,this}cacheOneLayout(t,e){t._id=t._id||U._idSeq++;let s={x:t.x,y:t.y,w:t.w,_id:t._id};this._layouts=this._layouts||[],this._layouts[e]=this._layouts[e]||[];let r=this._layouts[e].findIndex(l=>l._id===t._id);return r===-1?this._layouts[e].push(s):this._layouts[e][r]=s,this}cleanupNode(t){for(let e in t)e[0]==="_"&&e!=="_id"&&delete t[e];return this}}V.GridStackEngine=U;U._idSeq=1;var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.GridStackDDI=void 0;class L{static registerPlugin(t){return L.ddi=new t,L.ddi}static get(){return L.ddi||L.registerPlugin(L)}remove(t){return this}}Y.GridStackDDI=L;var mt={};Object.defineProperty(mt,"__esModule",{value:!0});(function(p){var t=Q&&Q.__createBinding||(Object.create?function(d,i,o,n){n===void 0&&(n=o),Object.defineProperty(d,n,{enumerable:!0,get:function(){return i[o]}})}:function(d,i,o,n){n===void 0&&(n=o),d[n]=i[o]}),e=Q&&Q.__exportStar||function(d,i){for(var o in d)o!=="default"&&!i.hasOwnProperty(o)&&t(i,d,o)};Object.defineProperty(p,"__esModule",{value:!0}),p.GridStack=void 0;/*!
 * GridStack 5.1.1
 * https://gridstackjs.com/
 *
 * Copyright (c) 2021-2022 Alain Dumesny
 * see root license https://github.com/gridstack/gridstack.js/tree/master/LICENSE
 */const s=V,r=D,l=Y;e(mt,p),e(D,p),e(V,p),e(Y,p);const h={column:12,minRow:0,maxRow:0,itemClass:"grid-stack-item",placeholderClass:"grid-stack-placeholder",placeholderText:"",handle:".grid-stack-item-content",handleClass:null,styleInHead:!1,cellHeight:"auto",cellHeightThrottle:100,margin:10,auto:!0,oneColumnSize:768,float:!1,staticGrid:!1,animate:!0,alwaysShowResizeHandle:!1,resizable:{autoHide:!0,handles:"se"},draggable:{handle:".grid-stack-item-content",scroll:!1,appendTo:"body"},disableDrag:!1,disableResize:!1,rtl:"auto",removable:!1,removableOptions:{accept:".grid-stack-item"},marginUnit:"px",cellHeightUnit:"px",disableOneColumnMode:!1,oneColumnModeDomSort:!1};class u{constructor(i,o={}){this._gsEventHandler={},this._extraDragRow=0,this.el=i,o=o||{},o.row&&(o.minRow=o.maxRow=o.row,delete o.row);let n=r.Utils.toNumber(i.getAttribute("gs-row"));o.column==="auto"&&delete o.column;let a=o;a.minWidth!==void 0&&(o.oneColumnSize=o.oneColumnSize||a.minWidth,delete a.minWidth);let g=Object.assign(Object.assign({},r.Utils.cloneDeep(h)),{column:r.Utils.toNumber(i.getAttribute("gs-column"))||12,minRow:n||r.Utils.toNumber(i.getAttribute("gs-min-row"))||0,maxRow:n||r.Utils.toNumber(i.getAttribute("gs-max-row"))||0,staticGrid:r.Utils.toBool(i.getAttribute("gs-static"))||!1,_styleSheetClass:"grid-stack-instance-"+(Math.random()*1e4).toFixed(0),alwaysShowResizeHandle:o.alwaysShowResizeHandle||!1,resizable:{autoHide:!o.alwaysShowResizeHandle,handles:"se"},draggable:{handle:(o.handleClass?"."+o.handleClass:o.handle?o.handle:"")||".grid-stack-item-content",scroll:!1,appendTo:"body"},removableOptions:{accept:"."+(o.itemClass||"grid-stack-item")}});i.getAttribute("gs-animate")&&(g.animate=r.Utils.toBool(i.getAttribute("gs-animate"))),this.opts=r.Utils.defaults(o,g),o=null,this._initMargin(),this.opts.column!==1&&!this.opts.disableOneColumnMode&&this._widthOrContainer()<=this.opts.oneColumnSize&&(this._prevColumn=this.getColumn(),this.opts.column=1),this.opts.rtl==="auto"&&(this.opts.rtl=i.style.direction==="rtl"),this.opts.rtl&&this.el.classList.add("grid-stack-rtl");let y=r.Utils.closestByClass(this.el,h.itemClass);y&&y.gridstackNode&&(this.opts._isNested=y.gridstackNode,this.opts._isNested.subGrid=this,y.classList.add("grid-stack-nested"),this.el.classList.add("grid-stack-nested")),this._isAutoCellHeight=this.opts.cellHeight==="auto",this._isAutoCellHeight||this.opts.cellHeight==="initial"?this.cellHeight(void 0,!1):(typeof this.opts.cellHeight=="number"&&this.opts.cellHeightUnit&&this.opts.cellHeightUnit!==h.cellHeightUnit&&(this.opts.cellHeight=this.opts.cellHeight+this.opts.cellHeightUnit,delete this.opts.cellHeightUnit),this.cellHeight(this.opts.cellHeight,!1)),this.el.classList.add(this.opts._styleSheetClass),this._setStaticClass();let c=this.opts.engineClass||u.engineClass||s.GridStackEngine;if(this.engine=new c({column:this.getColumn(),float:this.opts.float,maxRow:this.opts.maxRow,onChange:m=>{let _=0;this.engine.nodes.forEach(f=>{_=Math.max(_,f.y+f.h)}),m.forEach(f=>{let v=f.el;!v||(f._removeDOM?(v&&v.remove(),delete f._removeDOM):this._writePosAttr(v,f))}),this._updateStyles(!1,_)}}),this.opts.auto){this.batchUpdate();let m=[];this.getGridItems().forEach(_=>{let f=parseInt(_.getAttribute("gs-x")),v=parseInt(_.getAttribute("gs-y"));m.push({el:_,i:(Number.isNaN(f)?1e3:f)+(Number.isNaN(v)?1e3:v)*this.getColumn()})}),m.sort((_,f)=>_.i-f.i).forEach(_=>this._prepareElement(_.el)),this.commit()}this.setAnimation(this.opts.animate),this._updateStyles(),this.opts.column!=12&&this.el.classList.add("grid-stack-"+this.opts.column),this.opts.dragIn&&u.setupDragIn(this.opts.dragIn,this.opts.dragInOptions),delete this.opts.dragIn,delete this.opts.dragInOptions,this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateWindowResizeEvent()}static init(i={},o=".grid-stack"){let n=u.getGridElement(o);return n?(n.gridstack||(n.gridstack=new u(n,r.Utils.cloneDeep(i))),n.gridstack):(console.error(typeof o=="string"?'GridStack.initAll() no grid was found with selector "'+o+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`:"GridStack.init() no grid element was passed."),null)}static initAll(i={},o=".grid-stack"){let n=[];return u.getGridElements(o).forEach(a=>{a.gridstack||(a.gridstack=new u(a,r.Utils.cloneDeep(i)),delete i.dragIn,delete i.dragInOptions),n.push(a.gridstack)}),n.length===0&&console.error('GridStack.initAll() no grid was found with selector "'+o+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`),n}static addGrid(i,o={}){if(!i)return null;let n=i;if(!i.classList.contains("grid-stack")){let g=document.implementation.createHTMLDocument("");g.body.innerHTML=`<div class="grid-stack ${o.class||""}"></div>`,n=g.body.children[0],i.appendChild(n)}let a=u.init(o,n);if(a.opts.children){let g=a.opts.children;delete a.opts.children,a.load(g)}return a}static registerEngine(i){u.engineClass=i}get placeholder(){if(!this._placeholder){let i=document.createElement("div");i.className="placeholder-content",this.opts.placeholderText&&(i.innerHTML=this.opts.placeholderText),this._placeholder=document.createElement("div"),this._placeholder.classList.add(this.opts.placeholderClass,h.itemClass,this.opts.itemClass),this.placeholder.appendChild(i)}return this._placeholder}addWidget(i,o){if(arguments.length>2){console.warn("gridstack.ts: `addWidget(el, x, y, width...)` is deprecated. Use `addWidget({x, y, w, content, ...})`. It will be removed soon");let c=arguments,m=1,_={x:c[m++],y:c[m++],w:c[m++],h:c[m++],autoPosition:c[m++],minW:c[m++],maxW:c[m++],minH:c[m++],maxH:c[m++],id:c[m++]};return this.addWidget(i,_)}function n(c){return c.x!==void 0||c.y!==void 0||c.w!==void 0||c.h!==void 0||c.content!==void 0}let a;if(typeof i=="string"){let c=document.implementation.createHTMLDocument("");c.body.innerHTML=i,a=c.body.children[0]}else if(arguments.length===0||arguments.length===1&&n(i)){let c=i&&i.content||"";o=i;let m=document.implementation.createHTMLDocument("");m.body.innerHTML=`<div class="grid-stack-item ${this.opts.itemClass||""}"><div class="grid-stack-item-content">${c}</div></div>`,a=m.body.children[0]}else a=i;let g=this._readAttr(a);o=r.Utils.cloneDeep(o)||{},r.Utils.defaults(o,g);let y=this.engine.prepareNode(o);if(this._writeAttr(a,o),this._insertNotAppend?this.el.prepend(a):this.el.appendChild(a),this._prepareElement(a,!0,o),this._updateContainerHeight(),y.subGrid&&!y.subGrid.el){let c,m=y.subGrid;m.column==="auto"&&(m.column=y.w,m.disableOneColumnMode=!0,c=!0);let _=y.el.querySelector(".grid-stack-item-content");y.subGrid=u.addGrid(_,y.subGrid),c&&(y.subGrid._autoColumn=!0)}return this._triggerAddEvent(),this._triggerChangeEvent(),a}save(i=!0,o=!1){let n=this.engine.save(i);if(n.forEach(a=>{if(i&&a.el&&!a.subGrid){let g=a.el.querySelector(".grid-stack-item-content");a.content=g?g.innerHTML:void 0,a.content||delete a.content}else i||delete a.content,a.subGrid&&(a.subGrid=a.subGrid.save(i,!0));delete a.el}),o){let a=r.Utils.cloneDeep(this.opts);return a.marginBottom===a.marginTop&&a.marginRight===a.marginLeft&&a.marginTop===a.marginRight&&(a.margin=a.marginTop,delete a.marginTop,delete a.marginRight,delete a.marginBottom,delete a.marginLeft),a.rtl===(this.el.style.direction==="rtl")&&(a.rtl="auto"),this._isAutoCellHeight&&(a.cellHeight="auto"),this._autoColumn&&(a.column="auto",delete a.disableOneColumnMode),r.Utils.removeInternalAndSame(a,h),a.children=n,a}return n}load(i,o=!0){let n=u.Utils.sort([...i],-1,this._prevColumn||this.getColumn());this._insertNotAppend=!0,this._prevColumn&&this._prevColumn!==this.opts.column&&n.some(g=>g.x+g.w>this.opts.column)&&(this._ignoreLayoutsNodeChange=!0,this.engine.cacheLayout(n,this._prevColumn,!0));let a=[];return this.batchUpdate(),o&&[...this.engine.nodes].forEach(y=>{n.find(m=>y.id===m.id)||(typeof o=="function"?o(this,y,!1):(a.push(y),this.removeWidget(y.el,!0,!1)))}),n.forEach(g=>{let y=g.id||g.id===0?this.engine.nodes.find(c=>c.id===g.id):void 0;if(y){if(this.update(y.el,g),g.subGrid&&g.subGrid.children){let c=y.el.querySelector(".grid-stack");c&&c.gridstack&&(c.gridstack.load(g.subGrid.children),this._insertNotAppend=!0)}}else o&&(typeof o=="function"?g=o(this,g,!0).gridstackNode:g=this.addWidget(g).gridstackNode)}),this.engine.removedNodes=a,this.commit(),delete this._ignoreLayoutsNodeChange,delete this._insertNotAppend,this}batchUpdate(){return this.engine.batchUpdate(),this}getCellHeight(i=!1){if(this.opts.cellHeight&&this.opts.cellHeight!=="auto"&&(!i||!this.opts.cellHeightUnit||this.opts.cellHeightUnit==="px"))return this.opts.cellHeight;let o=this.el.querySelector("."+this.opts.itemClass);if(o){let a=r.Utils.toNumber(o.getAttribute("gs-h"));return Math.round(o.offsetHeight/a)}let n=parseInt(this.el.getAttribute("gs-current-row"));return n?Math.round(this.el.getBoundingClientRect().height/n):this.opts.cellHeight}cellHeight(i,o=!0){if(o&&i!==void 0&&this._isAutoCellHeight!==(i==="auto")&&(this._isAutoCellHeight=i==="auto",this._updateWindowResizeEvent()),(i==="initial"||i==="auto")&&(i=void 0),i===void 0){let a=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;i=this.cellWidth()+a}let n=r.Utils.parseHeight(i);return this.opts.cellHeightUnit===n.unit&&this.opts.cellHeight===n.h?this:(this.opts.cellHeightUnit=n.unit,this.opts.cellHeight=n.h,o&&this._updateStyles(!0,this.getRow()),this)}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(){return this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}commit(){return this.engine.commit(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent(),this}compact(){return this.engine.compact(),this._triggerChangeEvent(),this}column(i,o="moveScale"){if(i<1||this.opts.column===i)return this;let n=this.getColumn();i===1?this._prevColumn=n:delete this._prevColumn,this.el.classList.remove("grid-stack-"+n),this.el.classList.add("grid-stack-"+i),this.opts.column=this.engine.column=i;let a;return i===1&&this.opts.oneColumnModeDomSort&&(a=[],this.getGridItems().forEach(g=>{g.gridstackNode&&a.push(g.gridstackNode)}),a.length||(a=void 0)),this.engine.updateNodeWidths(n,i,a,o),this._isAutoCellHeight&&this.cellHeight(),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter(i=>i.matches("."+this.opts.itemClass)&&!i.matches("."+this.opts.placeholderClass))}destroy(i=!0){if(!!this.el)return this._updateWindowResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),i?this.el.parentNode.removeChild(this.el):(this.removeAll(i),this.el.classList.remove(this.opts._styleSheetClass)),this._removeStylesheet(),this.el.removeAttribute("gs-current-row"),delete this.opts._isNested,delete this.opts,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(i){return this.engine.float=i,this._triggerChangeEvent(),this}getFloat(){return this.engine.float}getCellFromPixel(i,o=!1){let n=this.el.getBoundingClientRect(),a;o?a={top:n.top+document.documentElement.scrollTop,left:n.left}:a={top:this.el.offsetTop,left:this.el.offsetLeft};let g=i.left-a.left,y=i.top-a.top,c=n.width/this.getColumn(),m=n.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(g/c),y:Math.floor(y/m)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow)}isAreaEmpty(i,o,n,a){return this.engine.isAreaEmpty(i,o,n,a)}makeWidget(i){let o=u.getElement(i);return this._prepareElement(o,!0),this._updateContainerHeight(),this._triggerAddEvent(),this._triggerChangeEvent(),o}on(i,o){return i.indexOf(" ")!==-1?(i.split(" ").forEach(a=>this.on(a,o)),this):(i==="change"||i==="added"||i==="removed"||i==="enable"||i==="disable"?(i==="enable"||i==="disable"?this._gsEventHandler[i]=a=>o(a):this._gsEventHandler[i]=a=>o(a,a.detail),this.el.addEventListener(i,this._gsEventHandler[i])):i==="drag"||i==="dragstart"||i==="dragstop"||i==="resizestart"||i==="resize"||i==="resizestop"||i==="dropped"?this._gsEventHandler[i]=o:console.log("GridStack.on("+i+') event not supported, but you can still use $(".grid-stack").on(...) while jquery-ui is still used internally.'),this)}off(i){return i.indexOf(" ")!==-1?(i.split(" ").forEach(n=>this.off(n)),this):((i==="change"||i==="added"||i==="removed"||i==="enable"||i==="disable")&&this._gsEventHandler[i]&&this.el.removeEventListener(i,this._gsEventHandler[i]),delete this._gsEventHandler[i],this)}removeWidget(i,o=!0,n=!0){return u.getElements(i).forEach(a=>{if(a.parentElement!==this.el)return;let g=a.gridstackNode;g||(g=this.engine.nodes.find(y=>a===y.el)),g&&(delete a.gridstackNode,l.GridStackDDI.get().remove(a),this.engine.removeNode(g,o,n),o&&a.parentElement&&a.remove())}),n&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this}removeAll(i=!0){return this.engine.nodes.forEach(o=>{delete o.el.gridstackNode,l.GridStackDDI.get().remove(o.el)}),this.engine.removeAll(i),this._triggerRemoveEvent(),this}setAnimation(i){return i?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this}setStatic(i,o=!0){return this.opts.staticGrid===i?this:(this.opts.staticGrid=i,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach(n=>this._prepareDragDropByNode(n)),o&&this._setStaticClass(),this)}update(i,o){if(arguments.length>2){console.warn("gridstack.ts: `update(el, x, y, w, h)` is deprecated. Use `update(el, {x, w, content, ...})`. It will be removed soon");let n=arguments,a=1;return o={x:n[a++],y:n[a++],w:n[a++],h:n[a++]},this.update(i,o)}return u.getElements(i).forEach(n=>{if(!n||!n.gridstackNode)return;let a=n.gridstackNode,g=r.Utils.cloneDeep(o);delete g.autoPosition;let y=["x","y","w","h"],c;if(y.some(f=>g[f]!==void 0&&g[f]!==a[f])&&(c={},y.forEach(f=>{c[f]=g[f]!==void 0?g[f]:a[f],delete g[f]})),!c&&(g.minW||g.minH||g.maxW||g.maxH)&&(c={}),g.content){let f=n.querySelector(".grid-stack-item-content");f&&f.innerHTML!==g.content&&(f.innerHTML=g.content),delete g.content}let m=!1,_=!1;for(const f in g)f[0]!=="_"&&a[f]!==g[f]&&(a[f]=g[f],m=!0,_=_||!this.opts.staticGrid&&(f==="noResize"||f==="noMove"||f==="locked"));c&&(this.engine.cleanNodes().beginUpdate(a).moveNode(a,c),this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate()),m&&this._writeAttr(n,a),_&&this._prepareDragDropByNode(a)}),this}margin(i){if(!(typeof i=="string"&&i.split(" ").length>1)){let n=r.Utils.parseHeight(i);if(this.opts.marginUnit===n.unit&&this.opts.margin===n.h)return}return this.opts.margin=i,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this._updateStyles(!0),this}getMargin(){return this.opts.margin}willItFit(i){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");let o=arguments,n=0,a={x:o[n++],y:o[n++],w:o[n++],h:o[n++],autoPosition:o[n++]};return this.willItFit(a)}return this.engine.willItFit(i)}_triggerChangeEvent(){if(this.engine.batchMode)return this;let i=this.engine.getDirtyNodes(!0);return i&&i.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(i),this._triggerEvent("change",i)),this.engine.saveInitial(),this}_triggerAddEvent(){return this.engine.batchMode?this:(this.engine.addedNodes&&this.engine.addedNodes.length>0&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach(i=>{delete i._dirty}),this._triggerEvent("added",this.engine.addedNodes),this.engine.addedNodes=[]),this)}_triggerRemoveEvent(){return this.engine.batchMode?this:(this.engine.removedNodes&&this.engine.removedNodes.length>0&&(this._triggerEvent("removed",this.engine.removedNodes),this.engine.removedNodes=[]),this)}_triggerEvent(i,o){let n=o?new CustomEvent(i,{bubbles:!1,detail:o}):new Event(i);return this.el.dispatchEvent(n),this}_removeStylesheet(){return this._styles&&(r.Utils.removeStylesheet(this._styles._id),delete this._styles),this}_updateStyles(i=!1,o){if(i&&this._removeStylesheet(),this._updateContainerHeight(),this.opts.cellHeight===0)return this;let n=this.opts.cellHeight,a=this.opts.cellHeightUnit,g=`.${this.opts._styleSheetClass} > .${this.opts.itemClass}`;if(!this._styles){let y="gridstack-style-"+(Math.random()*1e5).toFixed(),c=this.opts.styleInHead?void 0:this.el.parentNode;if(this._styles=r.Utils.createStylesheet(y,c),!this._styles)return this;this._styles._id=y,this._styles._max=0,r.Utils.addCSSRule(this._styles,g,`min-height: ${n}${a}`);let m=this.opts.marginTop+this.opts.marginUnit,_=this.opts.marginBottom+this.opts.marginUnit,f=this.opts.marginRight+this.opts.marginUnit,v=this.opts.marginLeft+this.opts.marginUnit,E=`${g} > .grid-stack-item-content`,S=`.${this.opts._styleSheetClass} > .grid-stack-placeholder > .placeholder-content`;r.Utils.addCSSRule(this._styles,E,`top: ${m}; right: ${f}; bottom: ${_}; left: ${v};`),r.Utils.addCSSRule(this._styles,S,`top: ${m}; right: ${f}; bottom: ${_}; left: ${v};`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-ne`,`right: ${f}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-e`,`right: ${f}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-se`,`right: ${f}; bottom: ${_}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-nw`,`left: ${v}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-w`,`left: ${v}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-sw`,`left: ${v}; bottom: ${_}`)}if(o=o||this._styles._max,o>this._styles._max){let y=c=>n*c+a;for(let c=this._styles._max+1;c<=o;c++){let m=y(c);r.Utils.addCSSRule(this._styles,`${g}[gs-y="${c-1}"]`,`top: ${y(c-1)}`),r.Utils.addCSSRule(this._styles,`${g}[gs-h="${c}"]`,`height: ${m}`),r.Utils.addCSSRule(this._styles,`${g}[gs-min-h="${c}"]`,`min-height: ${m}`),r.Utils.addCSSRule(this._styles,`${g}[gs-max-h="${c}"]`,`max-height: ${m}`)}this._styles._max=o}return this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;let i=this.getRow()+this._extraDragRow;if(this.el.setAttribute("gs-current-row",String(i)),i===0)return this.el.style.removeProperty("height"),this;let o=this.opts.cellHeight,n=this.opts.cellHeightUnit;return o?(this.el.style.height=i*o+n,this):this}_prepareElement(i,o=!1,n){n||(i.classList.add(this.opts.itemClass),n=this._readAttr(i)),i.gridstackNode=n,n.el=i,n.grid=this;let a=Object.assign({},n);return n=this.engine.addNode(n,o),r.Utils.same(n,a)||this._writeAttr(i,n),this._prepareDragDropByNode(n),this}_writePosAttr(i,o){return o.x!==void 0&&o.x!==null&&i.setAttribute("gs-x",String(o.x)),o.y!==void 0&&o.y!==null&&i.setAttribute("gs-y",String(o.y)),o.w&&i.setAttribute("gs-w",String(o.w)),o.h&&i.setAttribute("gs-h",String(o.h)),this}_writeAttr(i,o){if(!o)return this;this._writePosAttr(i,o);let n={autoPosition:"gs-auto-position",minW:"gs-min-w",minH:"gs-min-h",maxW:"gs-max-w",maxH:"gs-max-h",noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id",resizeHandles:"gs-resize-handles"};for(const a in n)o[a]?i.setAttribute(n[a],String(o[a])):i.removeAttribute(n[a]);return this}_readAttr(i){let o={};o.x=r.Utils.toNumber(i.getAttribute("gs-x")),o.y=r.Utils.toNumber(i.getAttribute("gs-y")),o.w=r.Utils.toNumber(i.getAttribute("gs-w")),o.h=r.Utils.toNumber(i.getAttribute("gs-h")),o.maxW=r.Utils.toNumber(i.getAttribute("gs-max-w")),o.minW=r.Utils.toNumber(i.getAttribute("gs-min-w")),o.maxH=r.Utils.toNumber(i.getAttribute("gs-max-h")),o.minH=r.Utils.toNumber(i.getAttribute("gs-min-h")),o.autoPosition=r.Utils.toBool(i.getAttribute("gs-auto-position")),o.noResize=r.Utils.toBool(i.getAttribute("gs-no-resize")),o.noMove=r.Utils.toBool(i.getAttribute("gs-no-move")),o.locked=r.Utils.toBool(i.getAttribute("gs-locked")),o.resizeHandles=i.getAttribute("gs-resize-handles"),o.id=i.getAttribute("gs-id");for(const n in o){if(!o.hasOwnProperty(n))return;!o[n]&&o[n]!==0&&delete o[n]}return o}_setStaticClass(){let i=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...i),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...i),this.el.removeAttribute("gs-static")),this}onParentResize(){if(!this.el||!this.el.clientWidth)return;let i=!1;if(this._autoColumn&&this.opts._isNested)this.opts.column!==this.opts._isNested.w&&(i=!0,this.column(this.opts._isNested.w,"none"));else{let o=!this.opts.disableOneColumnMode&&this.el.clientWidth<=this.opts.oneColumnSize;this.opts.column===1!==o&&(i=!0,this.opts.animate&&this.setAnimation(!1),this.column(o?1:this._prevColumn),this.opts.animate&&this.setAnimation(!0))}return this._isAutoCellHeight&&(!i&&this.opts.cellHeightThrottle?(this._cellHeightThrottle||(this._cellHeightThrottle=r.Utils.throttle(()=>this.cellHeight(),this.opts.cellHeightThrottle)),this._cellHeightThrottle()):this.cellHeight()),this.engine.nodes.forEach(o=>{o.subGrid&&o.subGrid.onParentResize()}),this}_updateWindowResizeEvent(i=!1){const o=(this._isAutoCellHeight||!this.opts.disableOneColumnMode)&&!this.opts._isNested;return!i&&o&&!this._windowResizeBind?(this._windowResizeBind=this.onParentResize.bind(this),window.addEventListener("resize",this._windowResizeBind)):(i||!o)&&this._windowResizeBind&&(window.removeEventListener("resize",this._windowResizeBind),delete this._windowResizeBind),this}static getElement(i=".grid-stack-item"){return r.Utils.getElement(i)}static getElements(i=".grid-stack-item"){return r.Utils.getElements(i)}static getGridElement(i){return u.getElement(i)}static getGridElements(i){return r.Utils.getElements(i)}_initMargin(){let i,o=0,n=[];return typeof this.opts.margin=="string"&&(n=this.opts.margin.split(" ")),n.length===2?(this.opts.marginTop=this.opts.marginBottom=n[0],this.opts.marginLeft=this.opts.marginRight=n[1]):n.length===4?(this.opts.marginTop=n[0],this.opts.marginRight=n[1],this.opts.marginBottom=n[2],this.opts.marginLeft=n[3]):(i=r.Utils.parseHeight(this.opts.margin),this.opts.marginUnit=i.unit,o=this.opts.margin=i.h),this.opts.marginTop===void 0?this.opts.marginTop=o:(i=r.Utils.parseHeight(this.opts.marginTop),this.opts.marginTop=i.h,delete this.opts.margin),this.opts.marginBottom===void 0?this.opts.marginBottom=o:(i=r.Utils.parseHeight(this.opts.marginBottom),this.opts.marginBottom=i.h,delete this.opts.margin),this.opts.marginRight===void 0?this.opts.marginRight=o:(i=r.Utils.parseHeight(this.opts.marginRight),this.opts.marginRight=i.h,delete this.opts.margin),this.opts.marginLeft===void 0?this.opts.marginLeft=o:(i=r.Utils.parseHeight(this.opts.marginLeft),this.opts.marginLeft=i.h,delete this.opts.margin),this.opts.marginUnit=i.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop),this}static setupDragIn(i,o){}movable(i,o){return this}resizable(i,o){return this}disable(){return this}enable(){return this}enableMove(i){return this}enableResize(i){return this}_setupAcceptWidget(){return this}_setupRemoveDrop(){return this}_prepareDragDropByNode(i){return this}_onStartMoving(i,o,n,a,g,y){}_dragOrResize(i,o,n,a,g,y){}_leave(i,o){}}p.GridStack=u,u.Utils=r.Utils,u.Engine=s.GridStackEngine})(pt);var H=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dt={},X={},x={};Object.defineProperty(x,"__esModule",{value:!0});x.Utils=x.obsoleteAttr=x.obsoleteOptsDel=x.obsoleteOpts=x.obsolete=void 0;function Dt(p,t,e,s,r){let l=(...h)=>(console.warn("gridstack.js: Function `"+e+"` is deprecated in "+r+" and has been replaced with `"+s+"`. It will be **completely** removed in v1.0"),t.apply(p,h));return l.prototype=t.prototype,l}x.obsolete=Dt;function Rt(p,t,e,s){p[t]!==void 0&&(p[e]=p[t],console.warn("gridstack.js: Option `"+t+"` is deprecated in "+s+" and has been replaced with `"+e+"`. It will be **completely** removed in v1.0"))}x.obsoleteOpts=Rt;function St(p,t,e,s){p[t]!==void 0&&console.warn("gridstack.js: Option `"+t+"` is deprecated in "+e+s)}x.obsoleteOptsDel=St;function Nt(p,t,e,s){let r=p.getAttribute(t);r!==null&&(p.setAttribute(e,r),console.warn("gridstack.js: attribute `"+t+"`="+r+" is deprecated on this object in "+s+" and has been replaced with `"+e+"`. It will be **completely** removed in v1.0"))}x.obsoleteAttr=Nt;class q{static getElements(t){if(typeof t=="string"){let e=document.querySelectorAll(t);return!e.length&&t[0]!=="."&&t[0]!=="#"&&(e=document.querySelectorAll("."+t),e.length||(e=document.querySelectorAll("#"+t))),Array.from(e)}return[t]}static getElement(t){if(typeof t=="string"){if(!t.length)return null;if(t[0]==="#")return document.getElementById(t.substring(1));if(t[0]==="."||t[0]==="[")return document.querySelector(t);if(!isNaN(+t[0]))return document.getElementById(t);let e=document.querySelector(t);return e||(e=document.getElementById(t)),e||(e=document.querySelector("."+t)),e}return t}static isIntercepted(t,e){return!(t.y>=e.y+e.h||t.y+t.h<=e.y||t.x+t.w<=e.x||t.x>=e.x+e.w)}static isTouching(t,e){return q.isIntercepted(t,{x:e.x-.5,y:e.y-.5,w:e.w+1,h:e.h+1})}static sort(t,e,s){return s=s||t.reduce((r,l)=>Math.max(l.x+l.w,r),0)||12,e===-1?t.sort((r,l)=>l.x+l.y*s-(r.x+r.y*s)):t.sort((r,l)=>r.x+r.y*s-(l.x+l.y*s))}static createStylesheet(t,e){let s=document.createElement("style");return s.setAttribute("type","text/css"),s.setAttribute("gs-style-id",t),s.styleSheet?s.styleSheet.cssText="":s.appendChild(document.createTextNode("")),e?e.insertBefore(s,e.firstChild):(e=document.getElementsByTagName("head")[0],e.appendChild(s)),s.sheet}static removeStylesheet(t){let e=document.querySelector("STYLE[gs-style-id="+t+"]");e&&e.parentNode&&e.remove()}static addCSSRule(t,e,s){typeof t.addRule=="function"?t.addRule(e,s):typeof t.insertRule=="function"&&t.insertRule(`${e}{${s}}`)}static toBool(t){return typeof t=="boolean"?t:typeof t=="string"?(t=t.toLowerCase(),!(t===""||t==="no"||t==="false"||t==="0")):Boolean(t)}static toNumber(t){return t===null||t.length===0?void 0:Number(t)}static parseHeight(t){let e,s="px";if(typeof t=="string"){let r=t.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%)?$/);if(!r)throw new Error("Invalid height");s=r[2]||"px",e=parseFloat(r[1])}else e=t;return{h:e,unit:s}}static defaults(t,...e){return e.forEach(s=>{for(const r in s){if(!s.hasOwnProperty(r))return;t[r]===null||t[r]===void 0?t[r]=s[r]:typeof s[r]=="object"&&typeof t[r]=="object"&&this.defaults(t[r],s[r])}}),t}static same(t,e){if(typeof t!="object")return t==e;if(typeof t!=typeof e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}static copyPos(t,e,s=!1){return t.x=e.x,t.y=e.y,t.w=e.w,t.h=e.h,s&&(e.minW&&(t.minW=e.minW),e.minH&&(t.minH=e.minH),e.maxW&&(t.maxW=e.maxW),e.maxH&&(t.maxH=e.maxH)),t}static samePos(t,e){return t&&e&&t.x===e.x&&t.y===e.y&&t.w===e.w&&t.h===e.h}static removeInternalAndSame(t,e){if(!(typeof t!="object"||typeof e!="object"))for(let s in t){let r=t[s];if(s[0]==="_"||r===e[s])delete t[s];else if(r&&typeof r=="object"&&e[s]!==void 0){for(let l in r)(r[l]===e[s][l]||l[0]==="_")&&delete r[l];Object.keys(r).length||delete t[s]}}}static closestByClass(t,e){for(;t;){if(t.classList.contains(e))return t;t=t.parentElement}return null}static throttle(t,e){let s=!1;return(...r)=>{s||(s=!0,setTimeout(()=>{t(...r),s=!1},e))}}static removePositioningStyles(t){let e=t.style;e.position&&e.removeProperty("position"),e.left&&e.removeProperty("left"),e.top&&e.removeProperty("top"),e.width&&e.removeProperty("width"),e.height&&e.removeProperty("height")}static getScrollElement(t){if(!t)return document.scrollingElement||document.documentElement;const e=getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowY)?t:this.getScrollElement(t.parentElement)}static updateScrollPosition(t,e,s){let r=t.getBoundingClientRect(),l=window.innerHeight||document.documentElement.clientHeight;if(r.top<0||r.bottom>l){let h=r.bottom-l,u=r.top,d=this.getScrollElement(t);if(d!==null){let i=d.scrollTop;r.top<0&&s<0?t.offsetHeight>l?d.scrollTop+=s:d.scrollTop+=Math.abs(u)>Math.abs(s)?s:u:s>0&&(t.offsetHeight>l?d.scrollTop+=s:d.scrollTop+=h>s?s:h),e.top+=d.scrollTop-i}}}static updateScrollResize(t,e,s){const r=this.getScrollElement(e),l=r.clientHeight,h=r===this.getScrollElement()?0:r.getBoundingClientRect().top,u=t.clientY-h,d=u<s,i=u>l-s;d?r.scrollBy({behavior:"smooth",top:u-s}):i&&r.scrollBy({behavior:"smooth",top:s-(l-u)})}static clone(t){return t==null||typeof t!="object"?t:t instanceof Array?[...t]:Object.assign({},t)}static cloneDeep(t){const e=q.clone(t);for(const s in e)e.hasOwnProperty(s)&&typeof e[s]=="object"&&s.substring(0,2)!=="__"&&!Ht.find(r=>r===s)&&(e[s]=q.cloneDeep(t[s]));return e}}x.Utils=q;const Ht=["_isNested","el","grid","subGrid","engine"];Object.defineProperty(X,"__esModule",{value:!0});X.GridStackEngine=void 0;const w=x;class A{constructor(t={}){this.addedNodes=[],this.removedNodes=[],this.column=t.column||12,this.maxRow=t.maxRow,this._float=t.float,this.nodes=t.nodes||[],this.onChange=t.onChange}batchUpdate(){return this.batchMode?this:(this.batchMode=!0,this._prevFloat=this._float,this._float=!0,this.saveInitial())}commit(){return this.batchMode?(this.batchMode=!1,this._float=this._prevFloat,delete this._prevFloat,this._packNodes()._notify()):this}_useEntireRowArea(t,e){return!this.float&&!this._hasLocked&&(!t._moving||t._skipDown||e.y<=t.y)}_fixCollisions(t,e=t,s,r={}){if(this.sortNodes(-1),s=s||this.collide(t,e),!s)return!1;if(t._moving&&!r.nested&&!this.float&&this.swap(t,s))return!0;let l=e;this._useEntireRowArea(t,e)&&(l={x:0,w:this.column,y:e.y,h:e.h},s=this.collide(t,l,r.skip));let h=!1,u={nested:!0,pack:!1};for(;s=s||this.collide(t,l,r.skip);){let d;if(s.locked||t._moving&&!t._skipDown&&e.y>t.y&&!this.float&&(!this.collide(s,Object.assign(Object.assign({},s),{y:t.y}),t)||!this.collide(s,Object.assign(Object.assign({},s),{y:e.y-s.h}),t))?(t._skipDown=t._skipDown||e.y>t.y,d=this.moveNode(t,Object.assign(Object.assign(Object.assign({},e),{y:s.y+s.h}),u)),s.locked&&d?w.Utils.copyPos(e,t):!s.locked&&d&&r.pack&&(this._packNodes(),e.y=s.y+s.h,w.Utils.copyPos(t,e)),h=h||d):d=this.moveNode(s,Object.assign(Object.assign(Object.assign({},s),{y:e.y+e.h,skip:t}),u)),!d)return h;s=void 0}return h}collide(t,e=t,s){return this.nodes.find(r=>r!==t&&r!==s&&w.Utils.isIntercepted(r,e))}collideAll(t,e=t,s){return this.nodes.filter(r=>r!==t&&r!==s&&w.Utils.isIntercepted(r,e))}collideCoverage(t,e,s){if(!e.rect||!t._rect)return;let r=t._rect,l=Object.assign({},e.rect);l.y>r.y?(l.h+=l.y-r.y,l.y=r.y):l.h+=r.y-l.y,l.x>r.x?(l.w+=l.x-r.x,l.x=r.x):l.w+=r.x-l.x;let h;return s.forEach(u=>{if(u.locked||!u._rect)return;let d=u._rect,i=Number.MAX_VALUE,o=Number.MAX_VALUE,n=.5;r.y<d.y?i=(l.y+l.h-d.y)/d.h:r.y+r.h>d.y+d.h&&(i=(d.y+d.h-l.y)/d.h),r.x<d.x?o=(l.x+l.w-d.x)/d.w:r.x+r.w>d.x+d.w&&(o=(d.x+d.w-l.x)/d.w);let a=Math.min(o,i);a>n&&(n=a,h=u)}),h}cacheRects(t,e,s,r,l,h){return this.nodes.forEach(u=>u._rect={y:u.y*e+s,x:u.x*t+h,w:u.w*t-h-r,h:u.h*e-s-l}),this}swap(t,e){if(!e||e.locked||!t||t.locked)return!1;function s(){let l=e.x,h=e.y;return e.x=t.x,e.y=t.y,t.h!=e.h?(t.x=l,t.y=e.y+e.h):t.w!=e.w?(t.x=e.x+e.w,t.y=h):(t.x=l,t.y=h),t._dirty=e._dirty=!0,!0}let r;if(t.w===e.w&&t.h===e.h&&(t.x===e.x||t.y===e.y)&&(r=w.Utils.isTouching(t,e)))return s();if(r!==!1){if(t.w===e.w&&t.x===e.x&&(r||(r=w.Utils.isTouching(t,e)))){if(e.y<t.y){let l=t;t=e,e=l}return s()}if(r!==!1){if(t.h===e.h&&t.y===e.y&&(r||(r=w.Utils.isTouching(t,e)))){if(e.x<t.x){let l=t;t=e,e=l}return s()}return!1}}}isAreaEmpty(t,e,s,r){let l={x:t||0,y:e||0,w:s||1,h:r||1};return!this.collide(l)}compact(){if(this.nodes.length===0)return this;this.batchUpdate().sortNodes();let t=this.nodes;return this.nodes=[],t.forEach(e=>{e.locked||(e.autoPosition=!0),this.addNode(e,!1),e._dirty=!0}),this.commit()}set float(t){this._float!==t&&(this._float=t||!1,t||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(t){return this.nodes=w.Utils.sort(this.nodes,t,this.column),this}_packNodes(){return this.batchMode?this:(this.sortNodes(),this.float?this.nodes.forEach(t=>{if(t._updating||t._orig===void 0||t.y===t._orig.y)return;let e=t.y;for(;e>t._orig.y;)--e,this.collide(t,{x:t.x,y:e,w:t.w,h:t.h})||(t._dirty=!0,t.y=e)}):this.nodes.forEach((t,e)=>{if(!t.locked)for(;t.y>0;){let s=e===0?0:t.y-1;if(!(e===0||!this.collide(t,{x:t.x,y:s,w:t.w,h:t.h})))break;t._dirty=t.y!==s,t.y=s}}),this)}prepareNode(t,e){t=t||{},t._id=t._id||A._idSeq++,(t.x===void 0||t.y===void 0||t.x===null||t.y===null)&&(t.autoPosition=!0);let s={x:0,y:0,w:1,h:1};return w.Utils.defaults(t,s),t.autoPosition||delete t.autoPosition,t.noResize||delete t.noResize,t.noMove||delete t.noMove,typeof t.x=="string"&&(t.x=Number(t.x)),typeof t.y=="string"&&(t.y=Number(t.y)),typeof t.w=="string"&&(t.w=Number(t.w)),typeof t.h=="string"&&(t.h=Number(t.h)),isNaN(t.x)&&(t.x=s.x,t.autoPosition=!0),isNaN(t.y)&&(t.y=s.y,t.autoPosition=!0),isNaN(t.w)&&(t.w=s.w),isNaN(t.h)&&(t.h=s.h),this.nodeBoundFix(t,e)}nodeBoundFix(t,e){let s=t._orig||w.Utils.copyPos({},t);return t.maxW&&(t.w=Math.min(t.w,t.maxW)),t.maxH&&(t.h=Math.min(t.h,t.maxH)),t.minW&&t.minW<=this.column&&(t.w=Math.max(t.w,t.minW)),t.minH&&(t.h=Math.max(t.h,t.minH)),t.w>this.column?(this.column<12&&!this._inColumnResize&&(t.w=Math.min(12,t.w),this.cacheOneLayout(t,12)),t.w=this.column):t.w<1&&(t.w=1),this.maxRow&&t.h>this.maxRow?t.h=this.maxRow:t.h<1&&(t.h=1),t.x<0&&(t.x=0),t.y<0&&(t.y=0),t.x+t.w>this.column&&(e?t.w=this.column-t.x:t.x=this.column-t.w),this.maxRow&&t.y+t.h>this.maxRow&&(e?t.h=this.maxRow-t.y:t.y=this.maxRow-t.h),w.Utils.samePos(t,s)||(t._dirty=!0),t}getDirtyNodes(t){return t?this.nodes.filter(e=>e._dirty&&!w.Utils.samePos(e,e._orig)):this.nodes.filter(e=>e._dirty)}_notify(t){if(this.batchMode||!this.onChange)return this;let e=(t||[]).concat(this.getDirtyNodes());return this.onChange(e),this}cleanNodes(){return this.batchMode?this:(this.nodes.forEach(t=>{delete t._dirty,delete t._lastTried}),this)}saveInitial(){return this.nodes.forEach(t=>{t._orig=w.Utils.copyPos({},t),delete t._dirty}),this._hasLocked=this.nodes.some(t=>t.locked),this}restoreInitial(){return this.nodes.forEach(t=>{w.Utils.samePos(t,t._orig)||(w.Utils.copyPos(t,t._orig),t._dirty=!0)}),this._notify(),this}addNode(t,e=!1){let s=this.nodes.find(r=>r._id===t._id);if(s)return s;if(t=this._inColumnResize?this.nodeBoundFix(t):this.prepareNode(t),delete t._temporaryRemoved,delete t._removeDOM,t.autoPosition){this.sortNodes();for(let r=0;;++r){let l=r%this.column,h=Math.floor(r/this.column);if(l+t.w>this.column)continue;let u={x:l,y:h,w:t.w,h:t.h};if(!this.nodes.find(d=>w.Utils.isIntercepted(u,d))){t.x=l,t.y=h,delete t.autoPosition;break}}}return this.nodes.push(t),e&&this.addedNodes.push(t),this._fixCollisions(t),this.batchMode||this._packNodes()._notify(),t}removeNode(t,e=!0,s=!1){return this.nodes.find(r=>r===t)?(s&&this.removedNodes.push(t),e&&(t._removeDOM=!0),this.nodes=this.nodes.filter(r=>r!==t),this._packNodes()._notify([t])):this}removeAll(t=!0){return delete this._layouts,this.nodes.length===0?this:(t&&this.nodes.forEach(e=>e._removeDOM=!0),this.removedNodes=this.nodes,this.nodes=[],this._notify(this.removedNodes))}moveNodeCheck(t,e){if(!this.changedPosConstrain(t,e))return!1;if(e.pack=!0,!this.maxRow)return this.moveNode(t,e);let s,r=new A({column:this.column,float:this.float,nodes:this.nodes.map(h=>h===t?(s=Object.assign({},h),s):Object.assign({},h))});if(!s)return!1;let l=r.moveNode(s,e)&&r.getRow()<=this.maxRow;if(!l&&!e.resizing){let h=this.collide(t,e);if(h&&this.swap(t,h))return this._notify(),!0}return l?(r.nodes.filter(h=>h._dirty).forEach(h=>{let u=this.nodes.find(d=>d._id===h._id);!u||(w.Utils.copyPos(u,h),u._dirty=!0)}),this._notify(),!0):!1}willItFit(t){if(delete t._willFitPos,!this.maxRow)return!0;let e=new A({column:this.column,float:this.float,nodes:this.nodes.map(r=>Object.assign({},r))}),s=Object.assign({},t);return this.cleanupNode(s),delete s.el,delete s._id,delete s.content,delete s.grid,e.addNode(s),e.getRow()<=this.maxRow?(t._willFitPos=w.Utils.copyPos({},s),!0):!1}changedPosConstrain(t,e){return e.w=e.w||t.w,e.h=e.h||t.h,t.x!==e.x||t.y!==e.y?!0:(t.maxW&&(e.w=Math.min(e.w,t.maxW)),t.maxH&&(e.h=Math.min(e.h,t.maxH)),t.minW&&(e.w=Math.max(e.w,t.minW)),t.minH&&(e.h=Math.max(e.h,t.minH)),t.w!==e.w||t.h!==e.h)}moveNode(t,e){if(!t||!e)return!1;e.pack===void 0&&(e.pack=!0),typeof e.x!="number"&&(e.x=t.x),typeof e.y!="number"&&(e.y=t.y),typeof e.w!="number"&&(e.w=t.w),typeof e.h!="number"&&(e.h=t.h);let s=t.w!==e.w||t.h!==e.h,r=w.Utils.copyPos({},t,!0);if(w.Utils.copyPos(r,e),r=this.nodeBoundFix(r,s),w.Utils.copyPos(e,r),w.Utils.samePos(t,e))return!1;let l=w.Utils.copyPos({},t),h=this.collideAll(t,r,e.skip),u=!0;if(h.length){let d=t._moving&&!e.nested?this.collideCoverage(t,e,h):h[0];d?u=!this._fixCollisions(t,r,d,e):u=!1}return u&&(t._dirty=!0,w.Utils.copyPos(t,r)),e.pack&&this._packNodes()._notify(),!w.Utils.samePos(t,l)}getRow(){return this.nodes.reduce((t,e)=>Math.max(t,e.y+e.h),0)}beginUpdate(t){return t._updating||(t._updating=!0,delete t._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){let t=this.nodes.find(e=>e._updating);return t&&(delete t._updating,delete t._skipDown),this}save(t=!0){var e;let s=(e=this._layouts)===null||e===void 0?void 0:e.length,r=s&&this.column!==s-1?this._layouts[s-1]:null,l=[];return this.sortNodes(),this.nodes.forEach(h=>{let u=r==null?void 0:r.find(i=>i._id===h._id),d=Object.assign({},h);u&&(d.x=u.x,d.y=u.y,d.w=u.w);for(let i in d)(i[0]==="_"||d[i]===null||d[i]===void 0)&&delete d[i];delete d.grid,t||delete d.el,d.autoPosition||delete d.autoPosition,d.noResize||delete d.noResize,d.noMove||delete d.noMove,d.locked||delete d.locked,l.push(d)}),l}layoutsNodesChange(t){return!this._layouts||this._inColumnResize?this:(this._layouts.forEach((e,s)=>{if(!e||s===this.column)return this;if(s<this.column)this._layouts[s]=void 0;else{let r=s/this.column;t.forEach(l=>{if(!l._orig)return;let h=e.find(u=>u._id===l._id);!h||(l.y!==l._orig.y&&(h.y+=l.y-l._orig.y),l.x!==l._orig.x&&(h.x=Math.round(l.x*r)),l.w!==l._orig.w&&(h.w=Math.round(l.w*r)))})}}),this)}updateNodeWidths(t,e,s,r="moveScale"){var l;if(!this.nodes.length||!e||t===e)return this;this.cacheLayout(this.nodes,t),this.batchUpdate();let h=[],u=!1;if(e===1&&(s==null?void 0:s.length)){u=!0;let i=0;s.forEach(o=>{o.x=0,o.w=1,o.y=Math.max(o.y,i),i=o.y+o.h}),h=s,s=[]}else s=w.Utils.sort(this.nodes,-1,t);let d=[];if(e>t){d=this._layouts[e]||[];let i=this._layouts.length-1;!d.length&&t!==i&&((l=this._layouts[i])===null||l===void 0?void 0:l.length)&&(t=i,this._layouts[i].forEach(o=>{let n=s.find(a=>a._id===o._id);n&&(n.x=o.x,n.y=o.y,n.w=o.w)}))}if(d.forEach(i=>{let o=s.findIndex(n=>n._id===i._id);o!==-1&&(s[o].x=i.x,s[o].y=i.y,s[o].w=i.w,h.push(s[o]),s.splice(o,1))}),s.length){if(typeof r=="function")r(e,t,h,s);else if(!u){let i=e/t,o=r==="move"||r==="moveScale",n=r==="scale"||r==="moveScale";s.forEach(a=>{a.x=e===1?0:o?Math.round(a.x*i):Math.min(a.x,e-1),a.w=e===1||t===1?1:n?Math.round(a.w*i)||1:Math.min(a.w,e),h.push(a)}),s=[]}}return h=w.Utils.sort(h,-1,e),this._inColumnResize=!0,this.nodes=[],h.forEach(i=>{this.addNode(i,!1),delete i._orig}),this.commit(),delete this._inColumnResize,this}cacheLayout(t,e,s=!1){let r=[];return t.forEach((l,h)=>{l._id=l._id||A._idSeq++,r[h]={x:l.x,y:l.y,w:l.w,_id:l._id}}),this._layouts=s?[]:this._layouts||[],this._layouts[e]=r,this}cacheOneLayout(t,e){t._id=t._id||A._idSeq++;let s={x:t.x,y:t.y,w:t.w,_id:t._id};this._layouts=this._layouts||[],this._layouts[e]=this._layouts[e]||[];let r=this._layouts[e].findIndex(l=>l._id===t._id);return r===-1?this._layouts[e].push(s):this._layouts[e][r]=s,this}cleanupNode(t){for(let e in t)e[0]==="_"&&e!=="_id"&&delete t[e];return this}}X.GridStackEngine=A;A._idSeq=1;var I={};Object.defineProperty(I,"__esModule",{value:!0});I.GridStackDDI=void 0;class P{static registerPlugin(t){return P.ddi=new t,P.ddi}static get(){return P.ddi||P.registerPlugin(P)}remove(t){return this}}I.GridStackDDI=P;var ft={};Object.defineProperty(ft,"__esModule",{value:!0});(function(p){var t=H&&H.__createBinding||(Object.create?function(d,i,o,n){n===void 0&&(n=o),Object.defineProperty(d,n,{enumerable:!0,get:function(){return i[o]}})}:function(d,i,o,n){n===void 0&&(n=o),d[n]=i[o]}),e=H&&H.__exportStar||function(d,i){for(var o in d)o!=="default"&&!i.hasOwnProperty(o)&&t(i,d,o)};Object.defineProperty(p,"__esModule",{value:!0}),p.GridStack=void 0;/*!
 * GridStack 5.1.1
 * https://gridstackjs.com/
 *
 * Copyright (c) 2021-2022 Alain Dumesny
 * see root license https://github.com/gridstack/gridstack.js/tree/master/LICENSE
 */const s=X,r=x,l=I;e(ft,p),e(x,p),e(X,p),e(I,p);const h={column:12,minRow:0,maxRow:0,itemClass:"grid-stack-item",placeholderClass:"grid-stack-placeholder",placeholderText:"",handle:".grid-stack-item-content",handleClass:null,styleInHead:!1,cellHeight:"auto",cellHeightThrottle:100,margin:10,auto:!0,oneColumnSize:768,float:!1,staticGrid:!1,animate:!0,alwaysShowResizeHandle:!1,resizable:{autoHide:!0,handles:"se"},draggable:{handle:".grid-stack-item-content",scroll:!1,appendTo:"body"},disableDrag:!1,disableResize:!1,rtl:"auto",removable:!1,removableOptions:{accept:".grid-stack-item"},marginUnit:"px",cellHeightUnit:"px",disableOneColumnMode:!1,oneColumnModeDomSort:!1};class u{constructor(i,o={}){this._gsEventHandler={},this._extraDragRow=0,this.el=i,o=o||{},o.row&&(o.minRow=o.maxRow=o.row,delete o.row);let n=r.Utils.toNumber(i.getAttribute("gs-row"));o.column==="auto"&&delete o.column;let a=o;a.minWidth!==void 0&&(o.oneColumnSize=o.oneColumnSize||a.minWidth,delete a.minWidth);let g=Object.assign(Object.assign({},r.Utils.cloneDeep(h)),{column:r.Utils.toNumber(i.getAttribute("gs-column"))||12,minRow:n||r.Utils.toNumber(i.getAttribute("gs-min-row"))||0,maxRow:n||r.Utils.toNumber(i.getAttribute("gs-max-row"))||0,staticGrid:r.Utils.toBool(i.getAttribute("gs-static"))||!1,_styleSheetClass:"grid-stack-instance-"+(Math.random()*1e4).toFixed(0),alwaysShowResizeHandle:o.alwaysShowResizeHandle||!1,resizable:{autoHide:!o.alwaysShowResizeHandle,handles:"se"},draggable:{handle:(o.handleClass?"."+o.handleClass:o.handle?o.handle:"")||".grid-stack-item-content",scroll:!1,appendTo:"body"},removableOptions:{accept:"."+(o.itemClass||"grid-stack-item")}});i.getAttribute("gs-animate")&&(g.animate=r.Utils.toBool(i.getAttribute("gs-animate"))),this.opts=r.Utils.defaults(o,g),o=null,this._initMargin(),this.opts.column!==1&&!this.opts.disableOneColumnMode&&this._widthOrContainer()<=this.opts.oneColumnSize&&(this._prevColumn=this.getColumn(),this.opts.column=1),this.opts.rtl==="auto"&&(this.opts.rtl=i.style.direction==="rtl"),this.opts.rtl&&this.el.classList.add("grid-stack-rtl");let y=r.Utils.closestByClass(this.el,h.itemClass);y&&y.gridstackNode&&(this.opts._isNested=y.gridstackNode,this.opts._isNested.subGrid=this,y.classList.add("grid-stack-nested"),this.el.classList.add("grid-stack-nested")),this._isAutoCellHeight=this.opts.cellHeight==="auto",this._isAutoCellHeight||this.opts.cellHeight==="initial"?this.cellHeight(void 0,!1):(typeof this.opts.cellHeight=="number"&&this.opts.cellHeightUnit&&this.opts.cellHeightUnit!==h.cellHeightUnit&&(this.opts.cellHeight=this.opts.cellHeight+this.opts.cellHeightUnit,delete this.opts.cellHeightUnit),this.cellHeight(this.opts.cellHeight,!1)),this.el.classList.add(this.opts._styleSheetClass),this._setStaticClass();let c=this.opts.engineClass||u.engineClass||s.GridStackEngine;if(this.engine=new c({column:this.getColumn(),float:this.opts.float,maxRow:this.opts.maxRow,onChange:m=>{let _=0;this.engine.nodes.forEach(f=>{_=Math.max(_,f.y+f.h)}),m.forEach(f=>{let v=f.el;!v||(f._removeDOM?(v&&v.remove(),delete f._removeDOM):this._writePosAttr(v,f))}),this._updateStyles(!1,_)}}),this.opts.auto){this.batchUpdate();let m=[];this.getGridItems().forEach(_=>{let f=parseInt(_.getAttribute("gs-x")),v=parseInt(_.getAttribute("gs-y"));m.push({el:_,i:(Number.isNaN(f)?1e3:f)+(Number.isNaN(v)?1e3:v)*this.getColumn()})}),m.sort((_,f)=>_.i-f.i).forEach(_=>this._prepareElement(_.el)),this.commit()}this.setAnimation(this.opts.animate),this._updateStyles(),this.opts.column!=12&&this.el.classList.add("grid-stack-"+this.opts.column),this.opts.dragIn&&u.setupDragIn(this.opts.dragIn,this.opts.dragInOptions),delete this.opts.dragIn,delete this.opts.dragInOptions,this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateWindowResizeEvent()}static init(i={},o=".grid-stack"){let n=u.getGridElement(o);return n?(n.gridstack||(n.gridstack=new u(n,r.Utils.cloneDeep(i))),n.gridstack):(console.error(typeof o=="string"?'GridStack.initAll() no grid was found with selector "'+o+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`:"GridStack.init() no grid element was passed."),null)}static initAll(i={},o=".grid-stack"){let n=[];return u.getGridElements(o).forEach(a=>{a.gridstack||(a.gridstack=new u(a,r.Utils.cloneDeep(i)),delete i.dragIn,delete i.dragInOptions),n.push(a.gridstack)}),n.length===0&&console.error('GridStack.initAll() no grid was found with selector "'+o+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`),n}static addGrid(i,o={}){if(!i)return null;let n=i;if(!i.classList.contains("grid-stack")){let g=document.implementation.createHTMLDocument("");g.body.innerHTML=`<div class="grid-stack ${o.class||""}"></div>`,n=g.body.children[0],i.appendChild(n)}let a=u.init(o,n);if(a.opts.children){let g=a.opts.children;delete a.opts.children,a.load(g)}return a}static registerEngine(i){u.engineClass=i}get placeholder(){if(!this._placeholder){let i=document.createElement("div");i.className="placeholder-content",this.opts.placeholderText&&(i.innerHTML=this.opts.placeholderText),this._placeholder=document.createElement("div"),this._placeholder.classList.add(this.opts.placeholderClass,h.itemClass,this.opts.itemClass),this.placeholder.appendChild(i)}return this._placeholder}addWidget(i,o){if(arguments.length>2){console.warn("gridstack.ts: `addWidget(el, x, y, width...)` is deprecated. Use `addWidget({x, y, w, content, ...})`. It will be removed soon");let c=arguments,m=1,_={x:c[m++],y:c[m++],w:c[m++],h:c[m++],autoPosition:c[m++],minW:c[m++],maxW:c[m++],minH:c[m++],maxH:c[m++],id:c[m++]};return this.addWidget(i,_)}function n(c){return c.x!==void 0||c.y!==void 0||c.w!==void 0||c.h!==void 0||c.content!==void 0}let a;if(typeof i=="string"){let c=document.implementation.createHTMLDocument("");c.body.innerHTML=i,a=c.body.children[0]}else if(arguments.length===0||arguments.length===1&&n(i)){let c=i&&i.content||"";o=i;let m=document.implementation.createHTMLDocument("");m.body.innerHTML=`<div class="grid-stack-item ${this.opts.itemClass||""}"><div class="grid-stack-item-content">${c}</div></div>`,a=m.body.children[0]}else a=i;let g=this._readAttr(a);o=r.Utils.cloneDeep(o)||{},r.Utils.defaults(o,g);let y=this.engine.prepareNode(o);if(this._writeAttr(a,o),this._insertNotAppend?this.el.prepend(a):this.el.appendChild(a),this._prepareElement(a,!0,o),this._updateContainerHeight(),y.subGrid&&!y.subGrid.el){let c,m=y.subGrid;m.column==="auto"&&(m.column=y.w,m.disableOneColumnMode=!0,c=!0);let _=y.el.querySelector(".grid-stack-item-content");y.subGrid=u.addGrid(_,y.subGrid),c&&(y.subGrid._autoColumn=!0)}return this._triggerAddEvent(),this._triggerChangeEvent(),a}save(i=!0,o=!1){let n=this.engine.save(i);if(n.forEach(a=>{if(i&&a.el&&!a.subGrid){let g=a.el.querySelector(".grid-stack-item-content");a.content=g?g.innerHTML:void 0,a.content||delete a.content}else i||delete a.content,a.subGrid&&(a.subGrid=a.subGrid.save(i,!0));delete a.el}),o){let a=r.Utils.cloneDeep(this.opts);return a.marginBottom===a.marginTop&&a.marginRight===a.marginLeft&&a.marginTop===a.marginRight&&(a.margin=a.marginTop,delete a.marginTop,delete a.marginRight,delete a.marginBottom,delete a.marginLeft),a.rtl===(this.el.style.direction==="rtl")&&(a.rtl="auto"),this._isAutoCellHeight&&(a.cellHeight="auto"),this._autoColumn&&(a.column="auto",delete a.disableOneColumnMode),r.Utils.removeInternalAndSame(a,h),a.children=n,a}return n}load(i,o=!0){let n=u.Utils.sort([...i],-1,this._prevColumn||this.getColumn());this._insertNotAppend=!0,this._prevColumn&&this._prevColumn!==this.opts.column&&n.some(g=>g.x+g.w>this.opts.column)&&(this._ignoreLayoutsNodeChange=!0,this.engine.cacheLayout(n,this._prevColumn,!0));let a=[];return this.batchUpdate(),o&&[...this.engine.nodes].forEach(g=>{n.find(y=>g.id===y.id)||(typeof o=="function"?o(this,g,!1):(a.push(g),this.removeWidget(g.el,!0,!1)))}),n.forEach(g=>{let y=g.id||g.id===0?this.engine.nodes.find(c=>c.id===g.id):void 0;if(y){if(this.update(y.el,g),g.subGrid&&g.subGrid.children){let c=y.el.querySelector(".grid-stack");c&&c.gridstack&&(c.gridstack.load(g.subGrid.children),this._insertNotAppend=!0)}}else o&&(typeof o=="function"?g=o(this,g,!0).gridstackNode:g=this.addWidget(g).gridstackNode)}),this.engine.removedNodes=a,this.commit(),delete this._ignoreLayoutsNodeChange,delete this._insertNotAppend,this}batchUpdate(){return this.engine.batchUpdate(),this}getCellHeight(i=!1){if(this.opts.cellHeight&&this.opts.cellHeight!=="auto"&&(!i||!this.opts.cellHeightUnit||this.opts.cellHeightUnit==="px"))return this.opts.cellHeight;let o=this.el.querySelector("."+this.opts.itemClass);if(o){let a=r.Utils.toNumber(o.getAttribute("gs-h"));return Math.round(o.offsetHeight/a)}let n=parseInt(this.el.getAttribute("gs-current-row"));return n?Math.round(this.el.getBoundingClientRect().height/n):this.opts.cellHeight}cellHeight(i,o=!0){if(o&&i!==void 0&&this._isAutoCellHeight!==(i==="auto")&&(this._isAutoCellHeight=i==="auto",this._updateWindowResizeEvent()),(i==="initial"||i==="auto")&&(i=void 0),i===void 0){let a=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;i=this.cellWidth()+a}let n=r.Utils.parseHeight(i);return this.opts.cellHeightUnit===n.unit&&this.opts.cellHeight===n.h?this:(this.opts.cellHeightUnit=n.unit,this.opts.cellHeight=n.h,o&&this._updateStyles(!0,this.getRow()),this)}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(){return this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}commit(){return this.engine.commit(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent(),this}compact(){return this.engine.compact(),this._triggerChangeEvent(),this}column(i,o="moveScale"){if(i<1||this.opts.column===i)return this;let n=this.getColumn();i===1?this._prevColumn=n:delete this._prevColumn,this.el.classList.remove("grid-stack-"+n),this.el.classList.add("grid-stack-"+i),this.opts.column=this.engine.column=i;let a;return i===1&&this.opts.oneColumnModeDomSort&&(a=[],this.getGridItems().forEach(g=>{g.gridstackNode&&a.push(g.gridstackNode)}),a.length||(a=void 0)),this.engine.updateNodeWidths(n,i,a,o),this._isAutoCellHeight&&this.cellHeight(),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter(i=>i.matches("."+this.opts.itemClass)&&!i.matches("."+this.opts.placeholderClass))}destroy(i=!0){if(this.el)return this._updateWindowResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),i?this.el.parentNode.removeChild(this.el):(this.removeAll(i),this.el.classList.remove(this.opts._styleSheetClass)),this._removeStylesheet(),this.el.removeAttribute("gs-current-row"),delete this.opts._isNested,delete this.opts,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(i){return this.engine.float=i,this._triggerChangeEvent(),this}getFloat(){return this.engine.float}getCellFromPixel(i,o=!1){let n=this.el.getBoundingClientRect(),a;o?a={top:n.top+document.documentElement.scrollTop,left:n.left}:a={top:this.el.offsetTop,left:this.el.offsetLeft};let g=i.left-a.left,y=i.top-a.top,c=n.width/this.getColumn(),m=n.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(g/c),y:Math.floor(y/m)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow)}isAreaEmpty(i,o,n,a){return this.engine.isAreaEmpty(i,o,n,a)}makeWidget(i){let o=u.getElement(i);return this._prepareElement(o,!0),this._updateContainerHeight(),this._triggerAddEvent(),this._triggerChangeEvent(),o}on(i,o){return i.indexOf(" ")!==-1?(i.split(" ").forEach(n=>this.on(n,o)),this):(i==="change"||i==="added"||i==="removed"||i==="enable"||i==="disable"?(i==="enable"||i==="disable"?this._gsEventHandler[i]=n=>o(n):this._gsEventHandler[i]=n=>o(n,n.detail),this.el.addEventListener(i,this._gsEventHandler[i])):i==="drag"||i==="dragstart"||i==="dragstop"||i==="resizestart"||i==="resize"||i==="resizestop"||i==="dropped"?this._gsEventHandler[i]=o:console.log("GridStack.on("+i+') event not supported, but you can still use $(".grid-stack").on(...) while jquery-ui is still used internally.'),this)}off(i){return i.indexOf(" ")!==-1?(i.split(" ").forEach(o=>this.off(o)),this):((i==="change"||i==="added"||i==="removed"||i==="enable"||i==="disable")&&this._gsEventHandler[i]&&this.el.removeEventListener(i,this._gsEventHandler[i]),delete this._gsEventHandler[i],this)}removeWidget(i,o=!0,n=!0){return u.getElements(i).forEach(a=>{if(a.parentElement!==this.el)return;let g=a.gridstackNode;g||(g=this.engine.nodes.find(y=>a===y.el)),g&&(delete a.gridstackNode,l.GridStackDDI.get().remove(a),this.engine.removeNode(g,o,n),o&&a.parentElement&&a.remove())}),n&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this}removeAll(i=!0){return this.engine.nodes.forEach(o=>{delete o.el.gridstackNode,l.GridStackDDI.get().remove(o.el)}),this.engine.removeAll(i),this._triggerRemoveEvent(),this}setAnimation(i){return i?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this}setStatic(i,o=!0){return this.opts.staticGrid===i?this:(this.opts.staticGrid=i,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach(n=>this._prepareDragDropByNode(n)),o&&this._setStaticClass(),this)}update(i,o){if(arguments.length>2){console.warn("gridstack.ts: `update(el, x, y, w, h)` is deprecated. Use `update(el, {x, w, content, ...})`. It will be removed soon");let n=arguments,a=1;return o={x:n[a++],y:n[a++],w:n[a++],h:n[a++]},this.update(i,o)}return u.getElements(i).forEach(n=>{if(!n||!n.gridstackNode)return;let a=n.gridstackNode,g=r.Utils.cloneDeep(o);delete g.autoPosition;let y=["x","y","w","h"],c;if(y.some(f=>g[f]!==void 0&&g[f]!==a[f])&&(c={},y.forEach(f=>{c[f]=g[f]!==void 0?g[f]:a[f],delete g[f]})),!c&&(g.minW||g.minH||g.maxW||g.maxH)&&(c={}),g.content){let f=n.querySelector(".grid-stack-item-content");f&&f.innerHTML!==g.content&&(f.innerHTML=g.content),delete g.content}let m=!1,_=!1;for(const f in g)f[0]!=="_"&&a[f]!==g[f]&&(a[f]=g[f],m=!0,_=_||!this.opts.staticGrid&&(f==="noResize"||f==="noMove"||f==="locked"));c&&(this.engine.cleanNodes().beginUpdate(a).moveNode(a,c),this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate()),m&&this._writeAttr(n,a),_&&this._prepareDragDropByNode(a)}),this}margin(i){if(!(typeof i=="string"&&i.split(" ").length>1)){let o=r.Utils.parseHeight(i);if(this.opts.marginUnit===o.unit&&this.opts.margin===o.h)return}return this.opts.margin=i,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this._updateStyles(!0),this}getMargin(){return this.opts.margin}willItFit(i){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");let o=arguments,n=0,a={x:o[n++],y:o[n++],w:o[n++],h:o[n++],autoPosition:o[n++]};return this.willItFit(a)}return this.engine.willItFit(i)}_triggerChangeEvent(){if(this.engine.batchMode)return this;let i=this.engine.getDirtyNodes(!0);return i&&i.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(i),this._triggerEvent("change",i)),this.engine.saveInitial(),this}_triggerAddEvent(){return this.engine.batchMode?this:(this.engine.addedNodes&&this.engine.addedNodes.length>0&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach(i=>{delete i._dirty}),this._triggerEvent("added",this.engine.addedNodes),this.engine.addedNodes=[]),this)}_triggerRemoveEvent(){return this.engine.batchMode?this:(this.engine.removedNodes&&this.engine.removedNodes.length>0&&(this._triggerEvent("removed",this.engine.removedNodes),this.engine.removedNodes=[]),this)}_triggerEvent(i,o){let n=o?new CustomEvent(i,{bubbles:!1,detail:o}):new Event(i);return this.el.dispatchEvent(n),this}_removeStylesheet(){return this._styles&&(r.Utils.removeStylesheet(this._styles._id),delete this._styles),this}_updateStyles(i=!1,o){if(i&&this._removeStylesheet(),this._updateContainerHeight(),this.opts.cellHeight===0)return this;let n=this.opts.cellHeight,a=this.opts.cellHeightUnit,g=`.${this.opts._styleSheetClass} > .${this.opts.itemClass}`;if(!this._styles){let y="gridstack-style-"+(Math.random()*1e5).toFixed(),c=this.opts.styleInHead?void 0:this.el.parentNode;if(this._styles=r.Utils.createStylesheet(y,c),!this._styles)return this;this._styles._id=y,this._styles._max=0,r.Utils.addCSSRule(this._styles,g,`min-height: ${n}${a}`);let m=this.opts.marginTop+this.opts.marginUnit,_=this.opts.marginBottom+this.opts.marginUnit,f=this.opts.marginRight+this.opts.marginUnit,v=this.opts.marginLeft+this.opts.marginUnit,E=`${g} > .grid-stack-item-content`,S=`.${this.opts._styleSheetClass} > .grid-stack-placeholder > .placeholder-content`;r.Utils.addCSSRule(this._styles,E,`top: ${m}; right: ${f}; bottom: ${_}; left: ${v};`),r.Utils.addCSSRule(this._styles,S,`top: ${m}; right: ${f}; bottom: ${_}; left: ${v};`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-ne`,`right: ${f}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-e`,`right: ${f}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-se`,`right: ${f}; bottom: ${_}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-nw`,`left: ${v}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-w`,`left: ${v}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-sw`,`left: ${v}; bottom: ${_}`)}if(o=o||this._styles._max,o>this._styles._max){let y=c=>n*c+a;for(let c=this._styles._max+1;c<=o;c++){let m=y(c);r.Utils.addCSSRule(this._styles,`${g}[gs-y="${c-1}"]`,`top: ${y(c-1)}`),r.Utils.addCSSRule(this._styles,`${g}[gs-h="${c}"]`,`height: ${m}`),r.Utils.addCSSRule(this._styles,`${g}[gs-min-h="${c}"]`,`min-height: ${m}`),r.Utils.addCSSRule(this._styles,`${g}[gs-max-h="${c}"]`,`max-height: ${m}`)}this._styles._max=o}return this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;let i=this.getRow()+this._extraDragRow;if(this.el.setAttribute("gs-current-row",String(i)),i===0)return this.el.style.removeProperty("height"),this;let o=this.opts.cellHeight,n=this.opts.cellHeightUnit;return o?(this.el.style.height=i*o+n,this):this}_prepareElement(i,o=!1,n){n||(i.classList.add(this.opts.itemClass),n=this._readAttr(i)),i.gridstackNode=n,n.el=i,n.grid=this;let a=Object.assign({},n);return n=this.engine.addNode(n,o),r.Utils.same(n,a)||this._writeAttr(i,n),this._prepareDragDropByNode(n),this}_writePosAttr(i,o){return o.x!==void 0&&o.x!==null&&i.setAttribute("gs-x",String(o.x)),o.y!==void 0&&o.y!==null&&i.setAttribute("gs-y",String(o.y)),o.w&&i.setAttribute("gs-w",String(o.w)),o.h&&i.setAttribute("gs-h",String(o.h)),this}_writeAttr(i,o){if(!o)return this;this._writePosAttr(i,o);let n={autoPosition:"gs-auto-position",minW:"gs-min-w",minH:"gs-min-h",maxW:"gs-max-w",maxH:"gs-max-h",noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id",resizeHandles:"gs-resize-handles"};for(const a in n)o[a]?i.setAttribute(n[a],String(o[a])):i.removeAttribute(n[a]);return this}_readAttr(i){let o={};o.x=r.Utils.toNumber(i.getAttribute("gs-x")),o.y=r.Utils.toNumber(i.getAttribute("gs-y")),o.w=r.Utils.toNumber(i.getAttribute("gs-w")),o.h=r.Utils.toNumber(i.getAttribute("gs-h")),o.maxW=r.Utils.toNumber(i.getAttribute("gs-max-w")),o.minW=r.Utils.toNumber(i.getAttribute("gs-min-w")),o.maxH=r.Utils.toNumber(i.getAttribute("gs-max-h")),o.minH=r.Utils.toNumber(i.getAttribute("gs-min-h")),o.autoPosition=r.Utils.toBool(i.getAttribute("gs-auto-position")),o.noResize=r.Utils.toBool(i.getAttribute("gs-no-resize")),o.noMove=r.Utils.toBool(i.getAttribute("gs-no-move")),o.locked=r.Utils.toBool(i.getAttribute("gs-locked")),o.resizeHandles=i.getAttribute("gs-resize-handles"),o.id=i.getAttribute("gs-id");for(const n in o){if(!o.hasOwnProperty(n))return;!o[n]&&o[n]!==0&&delete o[n]}return o}_setStaticClass(){let i=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...i),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...i),this.el.removeAttribute("gs-static")),this}onParentResize(){if(!this.el||!this.el.clientWidth)return;let i=!1;if(this._autoColumn&&this.opts._isNested)this.opts.column!==this.opts._isNested.w&&(i=!0,this.column(this.opts._isNested.w,"none"));else{let o=!this.opts.disableOneColumnMode&&this.el.clientWidth<=this.opts.oneColumnSize;this.opts.column===1!==o&&(i=!0,this.opts.animate&&this.setAnimation(!1),this.column(o?1:this._prevColumn),this.opts.animate&&this.setAnimation(!0))}return this._isAutoCellHeight&&(!i&&this.opts.cellHeightThrottle?(this._cellHeightThrottle||(this._cellHeightThrottle=r.Utils.throttle(()=>this.cellHeight(),this.opts.cellHeightThrottle)),this._cellHeightThrottle()):this.cellHeight()),this.engine.nodes.forEach(o=>{o.subGrid&&o.subGrid.onParentResize()}),this}_updateWindowResizeEvent(i=!1){const o=(this._isAutoCellHeight||!this.opts.disableOneColumnMode)&&!this.opts._isNested;return!i&&o&&!this._windowResizeBind?(this._windowResizeBind=this.onParentResize.bind(this),window.addEventListener("resize",this._windowResizeBind)):(i||!o)&&this._windowResizeBind&&(window.removeEventListener("resize",this._windowResizeBind),delete this._windowResizeBind),this}static getElement(i=".grid-stack-item"){return r.Utils.getElement(i)}static getElements(i=".grid-stack-item"){return r.Utils.getElements(i)}static getGridElement(i){return u.getElement(i)}static getGridElements(i){return r.Utils.getElements(i)}_initMargin(){let i,o=0,n=[];return typeof this.opts.margin=="string"&&(n=this.opts.margin.split(" ")),n.length===2?(this.opts.marginTop=this.opts.marginBottom=n[0],this.opts.marginLeft=this.opts.marginRight=n[1]):n.length===4?(this.opts.marginTop=n[0],this.opts.marginRight=n[1],this.opts.marginBottom=n[2],this.opts.marginLeft=n[3]):(i=r.Utils.parseHeight(this.opts.margin),this.opts.marginUnit=i.unit,o=this.opts.margin=i.h),this.opts.marginTop===void 0?this.opts.marginTop=o:(i=r.Utils.parseHeight(this.opts.marginTop),this.opts.marginTop=i.h,delete this.opts.margin),this.opts.marginBottom===void 0?this.opts.marginBottom=o:(i=r.Utils.parseHeight(this.opts.marginBottom),this.opts.marginBottom=i.h,delete this.opts.margin),this.opts.marginRight===void 0?this.opts.marginRight=o:(i=r.Utils.parseHeight(this.opts.marginRight),this.opts.marginRight=i.h,delete this.opts.margin),this.opts.marginLeft===void 0?this.opts.marginLeft=o:(i=r.Utils.parseHeight(this.opts.marginLeft),this.opts.marginLeft=i.h,delete this.opts.margin),this.opts.marginUnit=i.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop),this}static setupDragIn(i,o){}movable(i,o){return this}resizable(i,o){return this}disable(){return this}enable(){return this}enableMove(i){return this}enableResize(i){return this}_setupAcceptWidget(){return this}_setupRemoveDrop(){return this}_prepareDragDropByNode(i){return this}_onStartMoving(i,o,n,a,g,y){}_dragOrResize(i,o,n,a,g,y){}_leave(i,o){}}p.GridStack=u,u.Utils=r.Utils,u.Engine=s.GridStackEngine})(dt);var kt={},B={};Object.defineProperty(B,"__esModule",{value:!0});B.DDManager=void 0;class Mt{}B.DDManager=Mt;var it={},st={},rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.DDResizableHandle=void 0;class ot{constructor(t,e,s){this.moving=!1,this.host=t,this.dir=e,this.option=s,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._init()}_init(){const t=document.createElement("div");return t.classList.add("ui-resizable-handle"),t.classList.add(`${ot.prefix}${this.dir}`),t.style.zIndex="100",t.style.userSelect="none",this.el=t,this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),this}destroy(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),this.host.removeChild(this.el),delete this.el,delete this.host,this}_mouseDown(t){t.preventDefault(),this.mouseDownEvent=t,document.addEventListener("mousemove",this._mouseMove,!0),document.addEventListener("mouseup",this._mouseUp)}_mouseMove(t){let e=this.mouseDownEvent;!this.moving&&Math.abs(t.x-e.x)+Math.abs(t.y-e.y)>2?(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent)):this.moving&&this._triggerEvent("move",t)}_mouseUp(t){this.moving&&this._triggerEvent("stop",t),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp),delete this.moving,delete this.mouseDownEvent}_triggerEvent(t,e){return this.option[t]&&this.option[t](e),this}}rt.DDResizableHandle=ot;ot.prefix="ui-resizable-";var j={};Object.defineProperty(j,"__esModule",{value:!0});j.DDBaseImplement=void 0;class Ut{constructor(){this._disabled=!1,this._eventRegister={}}get disabled(){return this._disabled}on(t,e){this._eventRegister[t]=e}off(t){delete this._eventRegister[t]}enable(){this._disabled=!1}disable(){this._disabled=!0}destroy(){delete this._eventRegister}triggerEvent(t,e){if(!this.disabled&&this._eventRegister&&this._eventRegister[t])return this._eventRegister[t](e)}}j.DDBaseImplement=Ut;var G={};Object.defineProperty(G,"__esModule",{value:!0});G.DDUtils=void 0;class yt{static clone(t){const e=t.cloneNode(!0);return e.removeAttribute("id"),e}static appendTo(t,e){let s;typeof e=="string"?s=document.querySelector(e):s=e,s&&s.appendChild(t)}static setPositionRelative(t){/^(?:r|a|f)/.test(window.getComputedStyle(t).position)||(t.style.position="relative")}static addElStyles(t,e){if(e instanceof Object)for(const s in e)e.hasOwnProperty(s)&&(Array.isArray(e[s])?e[s].forEach(r=>{t.style[s]=r}):t.style[s]=e[s])}static initEvent(t,e){const s={type:e.type},r={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:e.target?e.target:t.target};return t.dataTransfer&&(s.dataTransfer=t.dataTransfer),["altKey","ctrlKey","metaKey","shiftKey"].forEach(l=>s[l]=t[l]),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach(l=>s[l]=t[l]),Object.assign(Object.assign({},s),r)}static inside(t,e){let s=t.relatedTarget||t.fromElement;if(!s){const{bottom:r,left:l,right:h,top:u}=e.getBoundingClientRect();return t.x<h&&t.x>l&&t.y<r&&t.y>u}return e.contains(s)}}G.DDUtils=yt;yt.isEventSupportPassiveOption=(()=>{let p=!1,t=()=>{};return document.addEventListener("test",t,{get passive(){return p=!0,!0}}),document.removeEventListener("test",t),p})();Object.defineProperty(st,"__esModule",{value:!0});st.DDResizable=void 0;const At=rt,Ot=j,ht=G,zt=x;class K extends Ot.DDBaseImplement{constructor(t,e={}){super(),this._showHandlers=()=>{this.el.classList.remove("ui-resizable-autohide")},this._hideHandlers=()=>{this.el.classList.add("ui-resizable-autohide")},this._ui=()=>{const s=this.el.parentElement.getBoundingClientRect(),r={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},l=this.temporalRect||r;return{position:{left:l.left-s.left,top:l.top-s.top},size:{width:l.width,height:l.height}}},this.el=t,this.option=e,this.enable(),this._setupAutoHide(),this._setupHandlers()}on(t,e){super.on(t,e)}off(t){super.off(t)}enable(){super.enable(),this.el.classList.add("ui-resizable"),this.el.classList.remove("ui-resizable-disabled")}disable(){super.disable(),this.el.classList.add("ui-resizable-disabled"),this.el.classList.remove("ui-resizable")}destroy(){this._removeHandlers(),this.option.autoHide&&(this.el.removeEventListener("mouseover",this._showHandlers),this.el.removeEventListener("mouseout",this._hideHandlers)),this.el.classList.remove("ui-resizable"),delete this.el,super.destroy()}updateOption(t){let e=t.handles&&t.handles!==this.option.handles,s=t.autoHide&&t.autoHide!==this.option.autoHide;return Object.keys(t).forEach(r=>this.option[r]=t[r]),e&&(this._removeHandlers(),this._setupHandlers()),s&&this._setupAutoHide(),this}_setupAutoHide(){return this.option.autoHide?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._showHandlers),this.el.addEventListener("mouseout",this._hideHandlers)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._showHandlers),this.el.removeEventListener("mouseout",this._hideHandlers)),this}_setupHandlers(){let t=this.option.handles||"e,s,se";return t==="all"&&(t="n,e,s,w,se,sw,ne,nw"),this.handlers=t.split(",").map(e=>e.trim()).map(e=>new At.DDResizableHandle(this.el,e,{start:s=>{this._resizeStart(s)},stop:s=>{this._resizeStop(s)},move:s=>{this._resizing(s,e)}})),this}_resizeStart(t){this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=zt.Utils.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=t,this._setupHelper(),this._applyChange();const e=ht.DDUtils.initEvent(t,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(e,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",e),this}_resizing(t,e){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(t,e),this._applyChange();const s=ht.DDUtils.initEvent(t,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(s,this._ui()),this.triggerEvent("resize",s),this}_resizeStop(t){const e=ht.DDUtils.initEvent(t,{type:"resizestop",target:this.el});return this.option.stop&&this.option.stop(e),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",e),this._cleanHelper(),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}_setupHelper(){return this.elOriginStyleVal=K._originStyleProp.map(t=>this.el.style[t]),this.parentOriginStylePosition=this.el.parentElement.style.position,window.getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}_cleanHelper(){return K._originStyleProp.forEach((t,e)=>{this.el.style[t]=this.elOriginStyleVal[e]||null}),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}_getChange(t,e){const s=this.startEvent,r={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},l=t.clientX-s.clientX,h=t.clientY-s.clientY;e.indexOf("e")>-1?r.width+=l:e.indexOf("w")>-1&&(r.width-=l,r.left+=l),e.indexOf("s")>-1?r.height+=h:e.indexOf("n")>-1&&(r.height-=h,r.top+=h);const u=this._constrainSize(r.width,r.height);return Math.round(r.width)!==Math.round(u.width)&&(e.indexOf("w")>-1&&(r.left+=r.width-u.width),r.width=u.width),Math.round(r.height)!==Math.round(u.height)&&(e.indexOf("n")>-1&&(r.top+=r.height-u.height),r.height=u.height),r}_constrainSize(t,e){const s=this.option.maxWidth||Number.MAX_SAFE_INTEGER,r=this.option.minWidth||t,l=this.option.maxHeight||Number.MAX_SAFE_INTEGER,h=this.option.minHeight||e,u=Math.min(s,Math.max(r,t)),d=Math.min(l,Math.max(h,e));return{width:u,height:d}}_applyChange(){let t={left:0,top:0,width:0,height:0};if(this.el.style.position==="absolute"){const e=this.el.parentElement,{left:s,top:r}=e.getBoundingClientRect();t={left:s,top:r,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach(e=>{const s=this.temporalRect[e];this.el.style[e]=s-t[e]+"px"}),this):this}_removeHandlers(){return this.handlers.forEach(t=>t.destroy()),delete this.handlers,this}}st.DDResizable=K;K._originStyleProp=["width","height","position","left","top","opacity","zIndex"];var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.DDDraggable=void 0;const ct=B,T=G,Lt=j;class O extends Lt.DDBaseImplement{constructor(t,e={}){super(),this.dragging=!1,this.ui=()=>{const r=this.el.parentElement.getBoundingClientRect(),l=this.helper.getBoundingClientRect();return{position:{top:l.top-r.top,left:l.left-r.left}}},this.el=t,this.option=e;let s=e.handle.substring(1);this.dragEl=t.classList.contains(s)?t:t.querySelector(e.handle)||t,this._dragStart=this._dragStart.bind(this),this._drag=this._drag.bind(this),this._dragEnd=this._dragEnd.bind(this),this.enable()}on(t,e){super.on(t,e)}off(t){super.off(t)}enable(){super.enable(),this.dragEl.draggable=!0,this.dragEl.addEventListener("dragstart",this._dragStart),this.el.classList.remove("ui-draggable-disabled"),this.el.classList.add("ui-draggable")}disable(t=!1){super.disable(),this.dragEl.removeAttribute("draggable"),this.dragEl.removeEventListener("dragstart",this._dragStart),this.el.classList.remove("ui-draggable"),t||this.el.classList.add("ui-draggable-disabled")}destroy(){this.dragging&&this._dragEnd({}),this.disable(!0),delete this.el,delete this.helper,delete this.option,super.destroy()}updateOption(t){return Object.keys(t).forEach(e=>this.option[e]=t[e]),this}_dragStart(t){ct.DDManager.dragElement=this,this.helper=this._createHelper(t),this._setupHelperContainmentStyle(),this.dragOffset=this._getDragOffset(t,this.el,this.helperContainment);const e=T.DDUtils.initEvent(t,{target:this.el,type:"dragstart"});this.helper!==this.el?(this._setupDragFollowNodeNotifyStart(e),this._dragFollow(t)):this.dragFollowTimer=window.setTimeout(()=>{delete this.dragFollowTimer,this._setupDragFollowNodeNotifyStart(e)},0),this._cancelDragGhost(t)}_setupDragFollowNodeNotifyStart(t){return this._setupHelperStyle(),document.addEventListener("dragover",this._drag,O.dragEventListenerOption),this.dragEl.addEventListener("dragend",this._dragEnd),this.option.start&&this.option.start(t,this.ui()),this.dragging=!0,this.helper.classList.add("ui-draggable-dragging"),this.triggerEvent("dragstart",t),this}_drag(t){t.preventDefault(),this._dragFollow(t);const e=T.DDUtils.initEvent(t,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(e,this.ui()),this.triggerEvent("drag",e)}_dragEnd(t){if(this.dragFollowTimer){clearTimeout(this.dragFollowTimer),delete this.dragFollowTimer;return}else this.paintTimer&&cancelAnimationFrame(this.paintTimer),document.removeEventListener("dragover",this._drag,O.dragEventListenerOption),this.dragEl.removeEventListener("dragend",this._dragEnd);this.dragging=!1,this.helper.classList.remove("ui-draggable-dragging"),this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper===this.el?this._removeHelperStyle():this.helper.remove();const e=T.DDUtils.initEvent(t,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(e),this.triggerEvent("dragstop",e),delete ct.DDManager.dragElement,delete this.helper}_createHelper(t){let e=this.el;return typeof this.option.helper=="function"?e=this.option.helper(t):this.option.helper==="clone"&&(e=T.DDUtils.clone(this.el)),document.body.contains(e)||T.DDUtils.appendTo(e,this.option.appendTo==="parent"?this.el.parentNode:this.option.appendTo),e===this.el&&(this.dragElementOriginStyle=O.originStyleProp.map(s=>this.el.style[s])),e}_setupHelperStyle(){const t=this.helper.getBoundingClientRect(),e=this.helper.style;return e.pointerEvents="none",e["min-width"]=0,e.width=this.dragOffset.width+"px",e.height=this.dragOffset.height+"px",e.willChange="left, top",e.position="fixed",e.left=t.left+"px",e.top=t.top+"px",e.transition="none",setTimeout(()=>{this.helper&&(e.transition=null)},0),this}_removeHelperStyle(){var t;let e=(t=this.helper)===null||t===void 0?void 0:t.gridstackNode;if(this.dragElementOriginStyle&&(!e||!e._isAboutToRemove)){let s=this.helper,r=this.dragElementOriginStyle.transition||null;s.style.transition=this.dragElementOriginStyle.transition="none",O.originStyleProp.forEach(l=>s.style[l]=this.dragElementOriginStyle[l]||null),setTimeout(()=>s.style.transition=r,50)}return delete this.dragElementOriginStyle,this}_dragFollow(t){this.paintTimer&&cancelAnimationFrame(this.paintTimer),this.paintTimer=requestAnimationFrame(()=>{delete this.paintTimer;const e=this.dragOffset;let s={left:0,top:0};if(this.helper.style.position==="absolute"){const{left:r,top:l}=this.helperContainment.getBoundingClientRect();s={left:r,top:l}}this.helper.style.left=t.clientX+e.offsetLeft-s.left+"px",this.helper.style.top=t.clientY+e.offsetTop-s.top+"px"})}_setupHelperContainmentStyle(){return this.helperContainment=this.helper.parentElement,this.helper.style.position!=="fixed"&&(this.parentOriginStylePosition=this.helperContainment.style.position,window.getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}_cancelDragGhost(t){let e=document.createElement("div");return e.style.width="1px",e.style.height="1px",e.style.position="fixed",document.body.appendChild(e),t.dataTransfer.setDragImage(e,0,0),setTimeout(()=>document.body.removeChild(e)),t.stopPropagation(),this}_getDragOffset(t,e,s){let r=0,l=0;if(s){const u=document.createElement("div");T.DDUtils.addElStyles(u,{opacity:"0",position:"fixed",top:0+"px",left:0+"px",width:"1px",height:"1px",zIndex:"-999999"}),s.appendChild(u);const d=u.getBoundingClientRect();s.removeChild(u),r=d.left,l=d.top}const h=e.getBoundingClientRect();return{left:h.left,top:h.top,offsetLeft:-t.clientX+h.left-r,offsetTop:-t.clientY+h.top-l,width:h.width,height:h.height}}}nt.DDDraggable=O;O.dragEventListenerOption=!0;O.originStyleProp=["transition","pointerEvents","position","left","top","opacity","zIndex","width","height","willChange","min-width"];var lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.DDDroppable=void 0;const W=B,Pt=j,$=G;class M extends Pt.DDBaseImplement{constructor(t,e={}){super(),this.el=t,this.option=e,this._dragEnter=this._dragEnter.bind(this),this._dragOver=this._dragOver.bind(this),this._dragLeave=this._dragLeave.bind(this),this._drop=this._drop.bind(this),this.el.classList.add("ui-droppable"),this.el.addEventListener("dragenter",this._dragEnter),this._setupAccept()}on(t,e){super.on(t,e)}off(t){super.off(t)}enable(){!this.disabled||(super.enable(),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("dragenter",this._dragEnter))}disable(t=!1){this.disabled||(super.disable(),t||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("dragenter",this._dragEnter))}destroy(){this._removeLeaveCallbacks(),this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),super.destroy()}updateOption(t){return Object.keys(t).forEach(e=>this.option[e]=t[e]),this._setupAccept(),this}_dragEnter(t){if(!this._canDrop()||(t.preventDefault(),t.stopPropagation(),this.moving))return;this.moving=!0;const e=$.DDUtils.initEvent(t,{target:this.el,type:"dropover"});this.option.over&&this.option.over(e,this._ui(W.DDManager.dragElement)),this.triggerEvent("dropover",e),this.el.addEventListener("dragover",this._dragOver),this.el.addEventListener("drop",this._drop),this.el.addEventListener("dragleave",this._dragLeave),M.lastActive&&M.lastActive!==this&&M.lastActive._dragLeave(t,!0),M.lastActive=this}_dragOver(t){t.preventDefault(),t.stopPropagation()}_dragLeave(t,e){var s;if(t.preventDefault(),t.stopPropagation(),!e){let r=$.DDUtils.inside(t,this.el),l=W.DDManager.dragElement.el;if(r&&!(!((s=l.gridstackNode)===null||s===void 0)&&s.subGrid)&&(r=!this.el.gridstack.engine.nodes.filter(h=>h.subGrid).map(h=>h.subGrid.el).some(h=>$.DDUtils.inside(t,h))),r)return}if(this.moving){const r=$.DDUtils.initEvent(t,{target:this.el,type:"dropout"});this.option.out&&this.option.out(r,this._ui(W.DDManager.dragElement)),this.triggerEvent("dropout",r)}this._removeLeaveCallbacks(),M.lastActive===this&&delete M.lastActive}_drop(t){if(!this.moving)return;t.preventDefault();const e=$.DDUtils.initEvent(t,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(e,this._ui(W.DDManager.dragElement)),this.triggerEvent("drop",e),this._removeLeaveCallbacks()}_removeLeaveCallbacks(){!this.moving||(delete this.moving,this.el.removeEventListener("dragover",this._dragOver),this.el.removeEventListener("drop",this._drop),this.el.removeEventListener("dragleave",this._dragLeave))}_canDrop(){return W.DDManager.dragElement&&(!this.accept||this.accept(W.DDManager.dragElement.el))}_setupAccept(){return this.option.accept&&typeof this.option.accept=="string"?this.accept=t=>t.matches(this.option.accept):this.accept=this.option.accept,this}_ui(t){return Object.assign({draggable:t.el},t.ui())}}lt.DDDroppable=M;Object.defineProperty(it,"__esModule",{value:!0});it.DDElement=void 0;const Tt=st,Wt=nt,It=lt;class gt{constructor(t){this.el=t}static init(t){return t.ddElement||(t.ddElement=new gt(t)),t.ddElement}on(t,e){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(t)>-1?this.ddDraggable.on(t,e):this.ddDroppable&&["drop","dropover","dropout"].indexOf(t)>-1?this.ddDroppable.on(t,e):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(t)>-1&&this.ddResizable.on(t,e),this}off(t){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(t)>-1?this.ddDraggable.off(t):this.ddDroppable&&["drop","dropover","dropout"].indexOf(t)>-1?this.ddDroppable.off(t):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(t)>-1&&this.ddResizable.off(t),this}setupDraggable(t){return this.ddDraggable?this.ddDraggable.updateOption(t):this.ddDraggable=new Wt.DDDraggable(this.el,t),this}cleanDraggable(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}setupResizable(t){return this.ddResizable?this.ddResizable.updateOption(t):this.ddResizable=new Tt.DDResizable(this.el,t),this}cleanResizable(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}setupDroppable(t){return this.ddDroppable?this.ddDroppable.updateOption(t):this.ddDroppable=new It.DDDroppable(this.el,t),this}cleanDroppable(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}}it.DDElement=gt;var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.GridStackDD=void 0;const ut=I,C=dt,k=x;class R extends ut.GridStackDDI{static get(){return ut.GridStackDDI.get()}remove(t){return this.draggable(t,"destroy").resizable(t,"destroy"),t.gridstackNode&&delete t.gridstackNode._initDD,this}}Z.GridStackDD=R;C.GridStack.prototype._setupAcceptWidget=function(){if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return R.get().droppable(this.el,"destroy"),this;let p,t,e=(s,r,l)=>{let h=r.gridstackNode;if(!h)return;l=l||r;let u=this.el.getBoundingClientRect(),{top:d,left:i}=l.getBoundingClientRect();i-=u.left,d-=u.top;let o={position:{top:d,left:i}};if(h._temporaryRemoved){if(h.x=Math.max(0,Math.round(i/t)),h.y=Math.max(0,Math.round(d/p)),delete h.autoPosition,this.engine.nodeBoundFix(h),!this.engine.willItFit(h)){if(h.autoPosition=!0,!this.engine.willItFit(h)){R.get().off(r,"drag");return}h._willFitPos&&(k.Utils.copyPos(h,h._willFitPos),delete h._willFitPos)}this._onStartMoving(l,s,o,h,t,p)}else this._dragOrResize(l,s,o,h,t,p)};return R.get().droppable(this.el,{accept:s=>{let r=s.gridstackNode;if((r==null?void 0:r.grid)===this)return!0;if(!this.opts.acceptWidgets||r!=null&&r.subGrid)return!1;let l=!0;if(typeof this.opts.acceptWidgets=="function")l=this.opts.acceptWidgets(s);else{let h=this.opts.acceptWidgets===!0?".grid-stack-item":this.opts.acceptWidgets;l=s.matches(h)}if(l&&r&&this.opts.maxRow){let h={w:r.w,h:r.h,minW:r.minW,minH:r.minH};l=this.engine.willItFit(h)}return l}}).on(this.el,"dropover",(s,r,l)=>{let h=r.gridstackNode;if((h==null?void 0:h.grid)===this&&!h._temporaryRemoved)return!1;(h==null?void 0:h.grid)&&h.grid!==this&&!h._temporaryRemoved&&h.grid._leave(r,l),t=this.cellWidth(),p=this.getCellHeight(!0),h||(h=this._readAttr(r)),h.grid||(h._isExternal=!0,r.gridstackNode=h),l=l||r;let u=h.w||Math.round(l.offsetWidth/t)||1,d=h.h||Math.round(l.offsetHeight/p)||1;return h.grid&&h.grid!==this?(r._gridstackNodeOrig||(r._gridstackNodeOrig=h),r.gridstackNode=h=Object.assign(Object.assign({},h),{w:u,h:d,grid:this}),this.engine.cleanupNode(h).nodeBoundFix(h),h._initDD=h._isExternal=h._temporaryRemoved=!0):(h.w=u,h.h=d,h._temporaryRemoved=!0),tt(h.el,!1),R.get().on(r,"drag",e),e(s,r,l),!1}).on(this.el,"dropout",(s,r,l)=>{let h=r.gridstackNode;return h&&(!h.grid||h.grid===this)&&this._leave(r,l),!1}).on(this.el,"drop",(s,r,l)=>{let h=r.gridstackNode;if((h==null?void 0:h.grid)===this&&!h._isExternal)return!1;let u=!!this.placeholder.parentElement;this.placeholder.remove();let d=r._gridstackNodeOrig;if(delete r._gridstackNodeOrig,u&&d&&d.grid&&d.grid!==this){let i=d.grid;i.engine.removedNodes.push(d),i._triggerRemoveEvent()}return!h||(u&&(this.engine.cleanupNode(h),h.grid=this),R.get().off(r,"drag"),l!==r?(l.remove(),r.gridstackNode=d,u&&(r=r.cloneNode(!0))):(r.remove(),R.get().remove(r)),!u)||(r.gridstackNode=h,h.el=r,k.Utils.copyPos(h,this._readAttr(this.placeholder)),k.Utils.removePositioningStyles(r),this._writeAttr(r,h),this.el.appendChild(r),this._updateContainerHeight(),this.engine.addedNodes.push(h),this._triggerAddEvent(),this._triggerChangeEvent(),this.engine.endUpdate(),this._gsEventHandler.dropped&&this._gsEventHandler.dropped(Object.assign(Object.assign({},s),{type:"dropped"}),d&&d.grid?d:void 0,h),window.setTimeout(()=>{h.el&&h.el.parentElement?this._prepareDragDropByNode(h):this.engine.removeNode(h)})),!1}),this};function tt(p,t){let e=p?p.gridstackNode:void 0;!e||!e.grid||(t?e._isAboutToRemove=!0:delete e._isAboutToRemove,t?p.classList.add("grid-stack-item-removing"):p.classList.remove("grid-stack-item-removing"))}C.GridStack.prototype._setupRemoveDrop=function(){if(!this.opts.staticGrid&&typeof this.opts.removable=="string"){let p=document.querySelector(this.opts.removable);if(!p)return this;R.get().isDroppable(p)||R.get().droppable(p,this.opts.removableOptions).on(p,"dropover",(t,e)=>tt(e,!0)).on(p,"dropout",(t,e)=>tt(e,!1))}return this};C.GridStack.setupDragIn=function(p,t){let e,s;const r={revert:"invalid",handle:".grid-stack-item-content",scroll:!1,appendTo:"body"};if(p&&(e=p,s=Object.assign(Object.assign({},r),t||{})),typeof e!="string")return;let l=R.get();k.Utils.getElements(e).forEach(h=>{l.isDraggable(h)||l.dragIn(h,s)})};C.GridStack.prototype._prepareDragDropByNode=function(p){let t=p.el,e=R.get();if(this.opts.staticGrid||(p.noMove||this.opts.disableDrag)&&(p.noResize||this.opts.disableResize))return p._initDD&&(e.remove(t),delete p._initDD),t.classList.add("ui-draggable-disabled","ui-resizable-disabled"),this;if(!p._initDD){let s,r,l=(d,i)=>{this._gsEventHandler[d.type]&&this._gsEventHandler[d.type](d,d.target),s=this.cellWidth(),r=this.getCellHeight(!0),this._onStartMoving(t,d,i,p,s,r)},h=(d,i)=>{this._dragOrResize(t,d,i,p,s,r)},u=d=>{this.placeholder.remove(),delete p._moving,delete p._lastTried;let i=d.target;if(!(!i.gridstackNode||i.gridstackNode.grid!==this)){if(p.el=i,p._isAboutToRemove){let o=t.gridstackNode.grid;o._gsEventHandler[d.type]&&o._gsEventHandler[d.type](d,i),e.remove(t),o.engine.removedNodes.push(p),o._triggerRemoveEvent(),delete t.gridstackNode,delete p.el,t.remove()}else p._temporaryRemoved?(k.Utils.removePositioningStyles(i),k.Utils.copyPos(p,p._orig),this._writePosAttr(i,p),this.engine.addNode(p)):(k.Utils.removePositioningStyles(i),this._writePosAttr(i,p)),this._gsEventHandler[d.type]&&this._gsEventHandler[d.type](d,i);this._extraDragRow=0,this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate()}};e.draggable(t,{start:l,stop:u,drag:h}).resizable(t,{start:l,stop:u,resize:h}),p._initDD=!0}return p.noMove||this.opts.disableDrag?(e.draggable(t,"disable"),t.classList.add("ui-draggable-disabled")):(e.draggable(t,"enable"),t.classList.remove("ui-draggable-disabled")),p.noResize||this.opts.disableResize?(e.resizable(t,"disable"),t.classList.add("ui-resizable-disabled")):(e.resizable(t,"enable"),t.classList.remove("ui-resizable-disabled")),this};C.GridStack.prototype._onStartMoving=function(p,t,e,s,r,l){if(this.engine.cleanNodes().beginUpdate(s),this._writePosAttr(this.placeholder,s),this.el.appendChild(this.placeholder),s.el=this.placeholder,s._lastUiPosition=e.position,s._prevYPix=e.position.top,s._moving=t.type==="dragstart",delete s._lastTried,t.type==="dropover"&&s._temporaryRemoved&&(this.engine.addNode(s),s._moving=!0),this.engine.cacheRects(r,l,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),t.type==="resizestart"){let h=R.get().resizable(p,"option","minWidth",r*(s.minW||1)).resizable(p,"option","minHeight",l*(s.minH||1));s.maxW&&h.resizable(p,"option","maxWidth",r*s.maxW),s.maxH&&h.resizable(p,"option","maxHeight",l*s.maxH)}};C.GridStack.prototype._leave=function(p,t){let e=p.gridstackNode;!e||(R.get().off(p,"drag"),!e._temporaryRemoved&&(e._temporaryRemoved=!0,this.engine.removeNode(e),e.el=e._isExternal&&t?t:p,this.opts.removable===!0&&tt(p,!0),p._gridstackNodeOrig?(p.gridstackNode=p._gridstackNodeOrig,delete p._gridstackNodeOrig):e._isExternal&&(delete e.el,delete p.gridstackNode,this.engine.restoreInitial())))};C.GridStack.prototype._dragOrResize=function(p,t,e,s,r,l){let h=Object.assign({},s._orig),u,d=this.opts.marginLeft,i=this.opts.marginRight,o=this.opts.marginTop,n=this.opts.marginBottom,a=Math.round(l*.1),g=Math.round(r*.1);if(d=Math.min(d,g),i=Math.min(i,g),o=Math.min(o,a),n=Math.min(n,a),t.type==="drag"){if(s._temporaryRemoved)return;let c=e.position.top-s._prevYPix;s._prevYPix=e.position.top,k.Utils.updateScrollPosition(p,e.position,c);let m=e.position.left+(e.position.left>s._lastUiPosition.left?-i:d),_=e.position.top+(e.position.top>s._lastUiPosition.top?-n:o);h.x=Math.round(m/r),h.y=Math.round(_/l);let f=this._extraDragRow;if(this.engine.collide(s,h)){let v=this.getRow(),E=Math.max(0,h.y+s.h-v);this.opts.maxRow&&v+E>this.opts.maxRow&&(E=Math.max(0,this.opts.maxRow-v)),this._extraDragRow=E}else this._extraDragRow=0;if(this._extraDragRow!==f&&this._updateContainerHeight(),s.x===h.x&&s.y===h.y)return}else if(t.type==="resize"){if(h.x<0||(k.Utils.updateScrollResize(t,p,l),h.w=Math.round((e.size.width-d)/r),h.h=Math.round((e.size.height-o)/l),s.w===h.w&&s.h===h.h)||s._lastTried&&s._lastTried.w===h.w&&s._lastTried.h===h.h)return;let c=e.position.left+d,m=e.position.top+o;h.x=Math.round(c/r),h.y=Math.round(m/l),u=!0}s._lastTried=h;let y={x:e.position.left+d,y:e.position.top+o,w:(e.size?e.size.width:s.w*r)-d-i,h:(e.size?e.size.height:s.h*l)-o-n};if(this.engine.moveNodeCheck(s,Object.assign(Object.assign({},h),{cellWidth:r,cellHeight:l,rect:y,resizing:u}))){s._lastUiPosition=e.position,this.engine.cacheRects(r,l,o,i,n,d),delete s._skipDown,u&&s.subGrid&&s.subGrid.onParentResize(),this._extraDragRow=0,this._updateContainerHeight();let c=t.target;this._writePosAttr(c,s),this._gsEventHandler[t.type]&&this._gsEventHandler[t.type](t,c)}};C.GridStack.prototype.movable=function(p,t){return this.opts.staticGrid?this:(C.GridStack.getElements(p).forEach(e=>{let s=e.gridstackNode;!s||(t?delete s.noMove:s.noMove=!0,this._prepareDragDropByNode(s))}),this)};C.GridStack.prototype.resizable=function(p,t){return this.opts.staticGrid?this:(C.GridStack.getElements(p).forEach(e=>{let s=e.gridstackNode;!s||(t?delete s.noResize:s.noResize=!0,this._prepareDragDropByNode(s))}),this)};C.GridStack.prototype.disable=function(){if(!this.opts.staticGrid)return this.enableMove(!1),this.enableResize(!1),this._triggerEvent("disable"),this};C.GridStack.prototype.enable=function(){if(!this.opts.staticGrid)return this.enableMove(!0),this.enableResize(!0),this._triggerEvent("enable"),this};C.GridStack.prototype.enableMove=function(p){return this.opts.staticGrid?this:(this.opts.disableDrag=!p,this.engine.nodes.forEach(t=>this.movable(t.el,p)),this)};C.GridStack.prototype.enableResize=function(p){return this.opts.staticGrid?this:(this.opts.disableResize=!p,this.engine.nodes.forEach(t=>this.resizable(t.el,p)),this)};(function(p){var t=H&&H.__createBinding||(Object.create?function(d,i,o,n){n===void 0&&(n=o),Object.defineProperty(d,n,{enumerable:!0,get:function(){return i[o]}})}:function(d,i,o,n){n===void 0&&(n=o),d[n]=i[o]}),e=H&&H.__exportStar||function(d,i){for(var o in d)o!=="default"&&!i.hasOwnProperty(o)&&t(i,d,o)};Object.defineProperty(p,"__esModule",{value:!0}),p.GridStackDDNative=void 0;const s=B,r=it,l=Z,h=x;e(Z,p);class u extends l.GridStackDD{resizable(i,o,n,a){return this._getDDElements(i).forEach(g=>{if(o==="disable"||o==="enable")g.ddResizable&&g.ddResizable[o]();else if(o==="destroy")g.ddResizable&&g.cleanResizable();else if(o==="option")g.setupResizable({[n]:a});else{const y=g.el.gridstackNode.grid;let c=g.el.getAttribute("gs-resize-handles")?g.el.getAttribute("gs-resize-handles"):y.opts.resizable.handles;g.setupResizable(Object.assign(Object.assign(Object.assign({},y.opts.resizable),{handles:c}),{start:o.start,stop:o.stop,resize:o.resize}))}}),this}draggable(i,o,n,a){return this._getDDElements(i).forEach(g=>{if(o==="disable"||o==="enable")g.ddDraggable&&g.ddDraggable[o]();else if(o==="destroy")g.ddDraggable&&g.cleanDraggable();else if(o==="option")g.setupDraggable({[n]:a});else{const y=g.el.gridstackNode.grid;g.setupDraggable(Object.assign(Object.assign({},y.opts.draggable),{containment:y.opts._isNested&&!y.opts.dragOut?y.el.parentElement:y.opts.draggable.containment||null,start:o.start,stop:o.stop,drag:o.drag}))}}),this}dragIn(i,o){return this._getDDElements(i).forEach(n=>n.setupDraggable(o)),this}droppable(i,o,n,a){return typeof o.accept=="function"&&!o._accept&&(o._accept=o.accept,o.accept=g=>o._accept(g)),this._getDDElements(i).forEach(g=>{o==="disable"||o==="enable"?g.ddDroppable&&g.ddDroppable[o]():o==="destroy"?g.ddDroppable&&g.cleanDroppable():o==="option"?g.setupDroppable({[n]:a}):g.setupDroppable(o)}),this}isDroppable(i){return!!(i&&i.ddElement&&i.ddElement.ddDroppable&&!i.ddElement.ddDroppable.disabled)}isDraggable(i){return!!(i&&i.ddElement&&i.ddElement.ddDraggable&&!i.ddElement.ddDraggable.disabled)}isResizable(i){return!!(i&&i.ddElement&&i.ddElement.ddResizable&&!i.ddElement.ddResizable.disabled)}on(i,o,n){return this._getDDElements(i).forEach(a=>a.on(o,g=>{n(g,s.DDManager.dragElement?s.DDManager.dragElement.el:g.target,s.DDManager.dragElement?s.DDManager.dragElement.helper:null)})),this}off(i,o){return this._getDDElements(i).forEach(n=>n.off(o)),this}_getDDElements(i,o=!0){let n=h.Utils.getElements(i);if(!n.length)return[];let a=n.map(g=>g.ddElement||(o?r.DDElement.init(g):null));return o||a.filter(g=>g),a}}p.GridStackDDNative=u,l.GridStackDD.registerPlugin(u)})(kt);var et={exports:{}};(function(p,t){(function(e,s){var r={};e.PubSub?(r=e.PubSub,console.warn("PubSub already loaded, using existing version")):(e.PubSub=r,s(r)),p!==void 0&&p.exports&&(t=p.exports=r),t.PubSub=r,p.exports=t=r})(typeof window=="object"&&window||H,function(e){var s={},r=-1,l="*";function h(c){var m;for(m in c)if(Object.prototype.hasOwnProperty.call(c,m))return!0;return!1}function u(c){return function(){throw c}}function d(c,m,_){try{c(m,_)}catch(f){setTimeout(u(f),0)}}function i(c,m,_){c(m,_)}function o(c,m,_,f){var v=s[m],E=f?i:d,S;if(Object.prototype.hasOwnProperty.call(s,m))for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&E(v[S],c,_)}function n(c,m,_){return function(){var f=String(c),v=f.lastIndexOf(".");for(o(c,c,m,_);v!==-1;)f=f.substr(0,v),v=f.lastIndexOf("."),o(c,f,m,_);o(c,l,m,_)}}function a(c){var m=String(c),_=Boolean(Object.prototype.hasOwnProperty.call(s,m)&&h(s[m]));return _}function g(c){for(var m=String(c),_=a(m)||a(l),f=m.lastIndexOf(".");!_&&f!==-1;)m=m.substr(0,f),f=m.lastIndexOf("."),_=a(m);return _}function y(c,m,_,f){c=typeof c=="symbol"?c.toString():c;var v=n(c,m,f),E=g(c);return E?(_===!0?v():setTimeout(v,0),!0):!1}e.publish=function(c,m){return y(c,m,!1,e.immediateExceptions)},e.publishSync=function(c,m){return y(c,m,!0,e.immediateExceptions)},e.subscribe=function(c,m){if(typeof m!="function")return!1;c=typeof c=="symbol"?c.toString():c,Object.prototype.hasOwnProperty.call(s,c)||(s[c]={});var _="uid_"+String(++r);return s[c][_]=m,_},e.subscribeAll=function(c){return e.subscribe(l,c)},e.subscribeOnce=function(c,m){var _=e.subscribe(c,function(){e.unsubscribe(_),m.apply(this,arguments)});return e},e.clearAllSubscriptions=function(){s={}},e.clearSubscriptions=function(c){var m;for(m in s)Object.prototype.hasOwnProperty.call(s,m)&&m.indexOf(c)===0&&delete s[m]},e.countSubscriptions=function(c){var m,_,f=0;for(m in s)if(Object.prototype.hasOwnProperty.call(s,m)&&m.indexOf(c)===0){for(_ in s[m])f++;break}return f},e.getSubscriptions=function(c){var m,_=[];for(m in s)Object.prototype.hasOwnProperty.call(s,m)&&m.indexOf(c)===0&&_.push(m);return _},e.unsubscribe=function(c){var m=function(vt){var at;for(at in s)if(Object.prototype.hasOwnProperty.call(s,at)&&at.indexOf(vt)===0)return!0;return!1},_=typeof c=="string"&&(Object.prototype.hasOwnProperty.call(s,c)||m(c)),f=!_&&typeof c=="string",v=typeof c=="function",E=!1,S,z,J;if(_){e.clearSubscriptions(c);return}for(S in s)if(Object.prototype.hasOwnProperty.call(s,S)){if(z=s[S],f&&z[c]){delete z[c],E=c;break}if(v)for(J in z)Object.prototype.hasOwnProperty.call(z,J)&&z[J]===c&&(delete z[J],E=!0)}return E}})})(et,et.exports);const Bt={first(p,t){return p.reduce(function(e,s,r,l){return l[0]},t)}},jt=".gsg",Gt="#gsg-images";function _t(p={selector:jt,images:[],gridItemTemplate:t=>`<img class="cursor-pointer rounded-lg object-cover" src="${t}" />`}){p=$t(p);let t=Ft(p);return t=qt(t,p),t.compact(),t=Vt(t),t}function $t(p){if(!(p.images.length>0)){const t=document.querySelector(Gt);t&&t.textContent&&(p.images=JSON.parse(t.textContent))}return p}function Ft(p){return dt.GridStack.init({disableOneColumnMode:!0,margin:"1px"},p.selector)}function qt(p,t){const e=p.batchUpdate();for(let r of t.images)console.log(r),p.addWidget({content:t.gridItemTemplate(r),h:2,w:2});const s=Bt.first(e.getGridItems());return s&&e.update(s,{h:8,w:8}),e.commit(),p}function Vt(p){return p.getGridItems().forEach(function(t){Yt(t)}),et.exports.subscribe("gsg.swap.image",function(t,e){var s;const r=p.batchUpdate();for(const l of p.getGridItems())l===e.el?(r.update(l,{w:8,h:8}),(((s=l.gridstackNode)==null?void 0:s.w)||0)<8&&p.update(l,{x:2,y:2,w:8,h:8})):r.update(l,{w:2,h:2});r.commit(),p.compact()}),p}function Yt(p){p.addEventListener("click",function(){p.querySelectorAll("img").forEach(()=>{et.exports.publish("gsg.swap.image",{el:p})})})}typeof window!==void 0&&(window.GridStackGallery=_t);const Xt={disableOneColumnMode:!0,class:"h-full",children:[{w:3,h:3,x:2,y:2,content:'<a href="https://github.com/aaronmyatt/gridstack-gallery" class="hover:opacity-90 hover:drop-shadow-lg" ><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32" aria-hidden="true"><path fill-rule="evenodd" d="M16,2a14,14,0,0,0-4.43,27.28c.7.13,1-.3,1-.67s0-1.21,0-2.38c-3.89.84-4.71-1.88-4.71-1.88A3.71,3.71,0,0,0,6.24,22.3c-1.27-.86.1-.85.1-.85A2.94,2.94,0,0,1,8.48,22.9a3,3,0,0,0,4.08,1.16,2.93,2.93,0,0,1,.88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4,5.4,0,0,1,1.44-3.76,5,5,0,0,1,.14-3.7s1.17-.38,3.85,1.43a13.3,13.3,0,0,1,7,0c2.67-1.81,3.84-1.43,3.84-1.43a5,5,0,0,1,.14,3.7,5.4,5.4,0,0,1,1.44,3.76c0,5.38-3.27,6.56-6.39,6.91a3.33,3.33,0,0,1,.95,2.59c0,1.87,0,3.38,0,3.84s.25.81,1,.67A14,14,0,0,0,16,2Z"></path><title>Get the code</title></svg></a>'},{w:3,h:3,x:2,y:6,content:'<a href="https://twitter.com/Astrithir" class="hover:opacity-90 hover:drop-shadow-lg" ><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32" aria-hidden="true"><path d="M11.92,24.94A12.76,12.76,0,0,0,24.76,12.1c0-.2,0-.39,0-.59A9.4,9.4,0,0,0,27,9.18a9.31,9.31,0,0,1-2.59.71,4.56,4.56,0,0,0,2-2.5,8.89,8.89,0,0,1-2.86,1.1,4.52,4.52,0,0,0-7.7,4.11,12.79,12.79,0,0,1-9.3-4.71,4.51,4.51,0,0,0,1.4,6,4.47,4.47,0,0,1-2-.56v.05A4.53,4.53,0,0,0,9.5,17.83a4.53,4.53,0,0,1-2,.08A4.51,4.51,0,0,0,11.68,21,9.05,9.05,0,0,1,6.07,23,9.77,9.77,0,0,1,5,22.91a12.77,12.77,0,0,0,6.92,2"></path><title>Tweet me</title></svg></a>'},{w:3,h:3,x:6,y:2,content:'<a href="https://www.aaronmyatt.com" class="hover:opacity-90 hover:drop-shadow-lg" ><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32" aria-hidden="true"><path d="M4 24H14V26H4zM4 18H14V20H4zM26 14H6a2 2 0 01-2-2V6A2 2 0 016 4H26a2 2 0 012 2v6A2 2 0 0126 14zM6 6v6H26V6zM26 28H20a2 2 0 01-2-2V20a2 2 0 012-2h6a2 2 0 012 2v6A2 2 0 0126 28zm-6-8v6h6V20z"></path><title>Read me</title></svg></a>'},{w:3,h:3,x:6,y:6,content:'<a href="https://www.linkedin.com/in/aaronmyatt/" class="hover:opacity-90 hover:drop-shadow-lg" ><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32" aria-hidden="true"><path d="M26.2,4H5.8C4.8,4,4,4.8,4,5.7v20.5c0,0.9,0.8,1.7,1.8,1.7h20.4c1,0,1.8-0.8,1.8-1.7V5.7C28,4.8,27.2,4,26.2,4z M11.1,24.4 H7.6V13h3.5V24.4z M9.4,11.4c-1.1,0-2.1-0.9-2.1-2.1c0-1.2,0.9-2.1,2.1-2.1c1.1,0,2.1,0.9,2.1,2.1S10.5,11.4,9.4,11.4z M24.5,24.3 H21v-5.6c0-1.3,0-3.1-1.9-3.1c-1.9,0-2.1,1.5-2.1,2.9v5.7h-3.5V13h3.3v1.5h0.1c0.5-0.9,1.7-1.9,3.4-1.9c3.6,0,4.3,2.4,4.3,5.5V24.3z"></path><title>Connect me</title></svg></a>'}]},Kt={disableOneColumnMode:!0,class:"h-full",children:[{w:6,h:6,content:'<a href="https://github.com/aaronmyatt/gridstack-gallery" class="hover:opacity-90 hover:drop-shadow-lg" ><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32" aria-hidden="true"><path fill-rule="evenodd" d="M16,2a14,14,0,0,0-4.43,27.28c.7.13,1-.3,1-.67s0-1.21,0-2.38c-3.89.84-4.71-1.88-4.71-1.88A3.71,3.71,0,0,0,6.24,22.3c-1.27-.86.1-.85.1-.85A2.94,2.94,0,0,1,8.48,22.9a3,3,0,0,0,4.08,1.16,2.93,2.93,0,0,1,.88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4,5.4,0,0,1,1.44-3.76,5,5,0,0,1,.14-3.7s1.17-.38,3.85,1.43a13.3,13.3,0,0,1,7,0c2.67-1.81,3.84-1.43,3.84-1.43a5,5,0,0,1,.14,3.7,5.4,5.4,0,0,1,1.44,3.76c0,5.38-3.27,6.56-6.39,6.91a3.33,3.33,0,0,1,.95,2.59c0,1.87,0,3.38,0,3.84s.25.81,1,.67A14,14,0,0,0,16,2Z"></path><title>Get the code</title></svg></a>'},{w:6,h:6,content:'<a href="https://twitter.com/Astrithir" class="hover:opacity-90 hover:drop-shadow-lg" ><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32" aria-hidden="true"><path d="M11.92,24.94A12.76,12.76,0,0,0,24.76,12.1c0-.2,0-.39,0-.59A9.4,9.4,0,0,0,27,9.18a9.31,9.31,0,0,1-2.59.71,4.56,4.56,0,0,0,2-2.5,8.89,8.89,0,0,1-2.86,1.1,4.52,4.52,0,0,0-7.7,4.11,12.79,12.79,0,0,1-9.3-4.71,4.51,4.51,0,0,0,1.4,6,4.47,4.47,0,0,1-2-.56v.05A4.53,4.53,0,0,0,9.5,17.83a4.53,4.53,0,0,1-2,.08A4.51,4.51,0,0,0,11.68,21,9.05,9.05,0,0,1,6.07,23,9.77,9.77,0,0,1,5,22.91a12.77,12.77,0,0,0,6.92,2"></path><title>Tweet me</title></svg></a>'},{w:6,h:6,content:'<a href="https://www.aaronmyatt.com" class="hover:opacity-90 hover:drop-shadow-lg" ><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32" aria-hidden="true"><path d="M4 24H14V26H4zM4 18H14V20H4zM26 14H6a2 2 0 01-2-2V6A2 2 0 016 4H26a2 2 0 012 2v6A2 2 0 0126 14zM6 6v6H26V6zM26 28H20a2 2 0 01-2-2V20a2 2 0 012-2h6a2 2 0 012 2v6A2 2 0 0126 28zm-6-8v6h6V20z"></path><title>Read me</title></svg></a>'},{w:6,h:6,content:'<a href="https://www.linkedin.com/in/aaronmyatt/" class="hover:opacity-90 hover:drop-shadow-lg" ><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32" aria-hidden="true"><path d="M26.2,4H5.8C4.8,4,4,4.8,4,5.7v20.5c0,0.9,0.8,1.7,1.8,1.7h20.4c1,0,1.8-0.8,1.8-1.7V5.7C28,4.8,27.2,4,26.2,4z M11.1,24.4 H7.6V13h3.5V24.4z M9.4,11.4c-1.1,0-2.1-0.9-2.1-2.1c0-1.2,0.9-2.1,2.1-2.1c1.1,0,2.1,0.9,2.1,2.1S10.5,11.4,9.4,11.4z M24.5,24.3 H21v-5.6c0-1.3,0-3.1-1.9-3.1c-1.9,0-2.1,1.5-2.1,2.9v5.7h-3.5V13h3.3v1.5h0.1c0.5-0.9,1.7-1.9,3.4-1.9c3.6,0,4.3,2.4,4.3,5.5V24.3z"></path><title>Connect me</title></svg></a>'}]},N=pt.GridStack.init({disableOneColumnMode:!1,oneColumnSize:640}),Zt=setInterval(function(){document.querySelectorAll(".app .gsg").length&&(_t(),clearInterval(Zt))},100);N.batchUpdate();window.innerWidth<=640?(N.margin(0),N.addWidget({w:1,h:1,content:document.querySelector("#title").innerHTML}),N.addWidget({w:1,h:1,content:document.querySelector("#example").innerHTML}),N.addWidget({w:1,h:1,content:document.querySelector("#about").innerHTML}),N.addWidget({w:1,h:1,subGrid:Kt})):(N.addWidget({w:6,h:6,content:document.querySelector("#title").innerHTML}),N.addWidget({w:6,h:6,content:document.querySelector("#example").innerHTML}),N.addWidget({w:6,h:6,content:document.querySelector("#about").innerHTML}),N.addWidget({w:6,h:6,subGrid:Xt}));N.commit();
