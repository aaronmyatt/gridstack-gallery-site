(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();var Z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pt={},Y={},C={};Object.defineProperty(C,"__esModule",{value:!0});C.Utils=C.obsoleteAttr=C.obsoleteOptsDel=C.obsoleteOpts=C.obsolete=void 0;function bt(p,t,e,s,r){let l=(...a)=>(console.warn("gridstack.js: Function `"+e+"` is deprecated in "+r+" and has been replaced with `"+s+"`. It will be **completely** removed in v1.0"),t.apply(p,a));return l.prototype=t.prototype,l}C.obsolete=bt;function wt(p,t,e,s){p[t]!==void 0&&(p[e]=p[t],console.warn("gridstack.js: Option `"+t+"` is deprecated in "+s+" and has been replaced with `"+e+"`. It will be **completely** removed in v1.0"))}C.obsoleteOpts=wt;function xt(p,t,e,s){p[t]!==void 0&&console.warn("gridstack.js: Option `"+t+"` is deprecated in "+e+s)}C.obsoleteOptsDel=xt;function Et(p,t,e,s){let r=p.getAttribute(t);r!==null&&(p.setAttribute(e,r),console.warn("gridstack.js: attribute `"+t+"`="+r+" is deprecated on this object in "+s+" and has been replaced with `"+e+"`. It will be **completely** removed in v1.0"))}C.obsoleteAttr=Et;class F{static getElements(t){if(typeof t=="string"){let e=document.querySelectorAll(t);return!e.length&&t[0]!=="."&&t[0]!=="#"&&(e=document.querySelectorAll("."+t),e.length||(e=document.querySelectorAll("#"+t))),Array.from(e)}return[t]}static getElement(t){if(typeof t=="string"){if(!t.length)return null;if(t[0]==="#")return document.getElementById(t.substring(1));if(t[0]==="."||t[0]==="[")return document.querySelector(t);if(!isNaN(+t[0]))return document.getElementById(t);let e=document.querySelector(t);return e||(e=document.getElementById(t)),e||(e=document.querySelector("."+t)),e}return t}static isIntercepted(t,e){return!(t.y>=e.y+e.h||t.y+t.h<=e.y||t.x+t.w<=e.x||t.x>=e.x+e.w)}static isTouching(t,e){return F.isIntercepted(t,{x:e.x-.5,y:e.y-.5,w:e.w+1,h:e.h+1})}static sort(t,e,s){return s=s||t.reduce((r,l)=>Math.max(l.x+l.w,r),0)||12,e===-1?t.sort((r,l)=>l.x+l.y*s-(r.x+r.y*s)):t.sort((r,l)=>r.x+r.y*s-(l.x+l.y*s))}static createStylesheet(t,e){let s=document.createElement("style");return s.setAttribute("type","text/css"),s.setAttribute("gs-style-id",t),s.styleSheet?s.styleSheet.cssText="":s.appendChild(document.createTextNode("")),e?e.insertBefore(s,e.firstChild):(e=document.getElementsByTagName("head")[0],e.appendChild(s)),s.sheet}static removeStylesheet(t){let e=document.querySelector("STYLE[gs-style-id="+t+"]");e&&e.parentNode&&e.remove()}static addCSSRule(t,e,s){typeof t.addRule=="function"?t.addRule(e,s):typeof t.insertRule=="function"&&t.insertRule(`${e}{${s}}`)}static toBool(t){return typeof t=="boolean"?t:typeof t=="string"?(t=t.toLowerCase(),!(t===""||t==="no"||t==="false"||t==="0")):Boolean(t)}static toNumber(t){return t===null||t.length===0?void 0:Number(t)}static parseHeight(t){let e,s="px";if(typeof t=="string"){let r=t.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%)?$/);if(!r)throw new Error("Invalid height");s=r[2]||"px",e=parseFloat(r[1])}else e=t;return{h:e,unit:s}}static defaults(t,...e){return e.forEach(s=>{for(const r in s){if(!s.hasOwnProperty(r))return;t[r]===null||t[r]===void 0?t[r]=s[r]:typeof s[r]=="object"&&typeof t[r]=="object"&&this.defaults(t[r],s[r])}}),t}static same(t,e){if(typeof t!="object")return t==e;if(typeof t!=typeof e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}static copyPos(t,e,s=!1){return t.x=e.x,t.y=e.y,t.w=e.w,t.h=e.h,s&&(e.minW&&(t.minW=e.minW),e.minH&&(t.minH=e.minH),e.maxW&&(t.maxW=e.maxW),e.maxH&&(t.maxH=e.maxH)),t}static samePos(t,e){return t&&e&&t.x===e.x&&t.y===e.y&&t.w===e.w&&t.h===e.h}static removeInternalAndSame(t,e){if(!(typeof t!="object"||typeof e!="object"))for(let s in t){let r=t[s];if(s[0]==="_"||r===e[s])delete t[s];else if(r&&typeof r=="object"&&e[s]!==void 0){for(let l in r)(r[l]===e[s][l]||l[0]==="_")&&delete r[l];Object.keys(r).length||delete t[s]}}}static closestByClass(t,e){for(;t;){if(t.classList.contains(e))return t;t=t.parentElement}return null}static throttle(t,e){let s=!1;return(...r)=>{s||(s=!0,setTimeout(()=>{t(...r),s=!1},e))}}static removePositioningStyles(t){let e=t.style;e.position&&e.removeProperty("position"),e.left&&e.removeProperty("left"),e.top&&e.removeProperty("top"),e.width&&e.removeProperty("width"),e.height&&e.removeProperty("height")}static getScrollElement(t){if(!t)return document.scrollingElement||document.documentElement;const e=getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowY)?t:this.getScrollElement(t.parentElement)}static updateScrollPosition(t,e,s){let r=t.getBoundingClientRect(),l=window.innerHeight||document.documentElement.clientHeight;if(r.top<0||r.bottom>l){let a=r.bottom-l,c=r.top,d=this.getScrollElement(t);if(d!==null){let i=d.scrollTop;r.top<0&&s<0?t.offsetHeight>l?d.scrollTop+=s:d.scrollTop+=Math.abs(c)>Math.abs(s)?s:c:s>0&&(t.offsetHeight>l?d.scrollTop+=s:d.scrollTop+=a>s?s:a),e.top+=d.scrollTop-i}}}static updateScrollResize(t,e,s){const r=this.getScrollElement(e),l=r.clientHeight,a=r===this.getScrollElement()?0:r.getBoundingClientRect().top,c=t.clientY-a,d=c<s,i=c>l-s;d?r.scrollBy({behavior:"smooth",top:c-s}):i&&r.scrollBy({behavior:"smooth",top:s-(l-c)})}static clone(t){return t==null||typeof t!="object"?t:t instanceof Array?[...t]:Object.assign({},t)}static cloneDeep(t){const e=F.clone(t);for(const s in e)e.hasOwnProperty(s)&&typeof e[s]=="object"&&s.substring(0,2)!=="__"&&!Dt.find(r=>r===s)&&(e[s]=F.cloneDeep(t[s]));return e}}C.Utils=F;const Dt=["_isNested","el","grid","subGrid","engine"];Object.defineProperty(Y,"__esModule",{value:!0});Y.GridStackEngine=void 0;const b=C;class U{constructor(t={}){this.addedNodes=[],this.removedNodes=[],this.column=t.column||12,this.maxRow=t.maxRow,this._float=t.float,this.nodes=t.nodes||[],this.onChange=t.onChange}batchUpdate(){return this.batchMode?this:(this.batchMode=!0,this._prevFloat=this._float,this._float=!0,this.saveInitial())}commit(){return this.batchMode?(this.batchMode=!1,this._float=this._prevFloat,delete this._prevFloat,this._packNodes()._notify()):this}_useEntireRowArea(t,e){return!this.float&&!this._hasLocked&&(!t._moving||t._skipDown||e.y<=t.y)}_fixCollisions(t,e=t,s,r={}){if(this.sortNodes(-1),s=s||this.collide(t,e),!s)return!1;if(t._moving&&!r.nested&&!this.float&&this.swap(t,s))return!0;let l=e;this._useEntireRowArea(t,e)&&(l={x:0,w:this.column,y:e.y,h:e.h},s=this.collide(t,l,r.skip));let a=!1,c={nested:!0,pack:!1};for(;s=s||this.collide(t,l,r.skip);){let d;if(s.locked||t._moving&&!t._skipDown&&e.y>t.y&&!this.float&&(!this.collide(s,Object.assign(Object.assign({},s),{y:t.y}),t)||!this.collide(s,Object.assign(Object.assign({},s),{y:e.y-s.h}),t))?(t._skipDown=t._skipDown||e.y>t.y,d=this.moveNode(t,Object.assign(Object.assign(Object.assign({},e),{y:s.y+s.h}),c)),s.locked&&d?b.Utils.copyPos(e,t):!s.locked&&d&&r.pack&&(this._packNodes(),e.y=s.y+s.h,b.Utils.copyPos(t,e)),a=a||d):d=this.moveNode(s,Object.assign(Object.assign(Object.assign({},s),{y:e.y+e.h,skip:t}),c)),!d)return a;s=void 0}return a}collide(t,e=t,s){return this.nodes.find(r=>r!==t&&r!==s&&b.Utils.isIntercepted(r,e))}collideAll(t,e=t,s){return this.nodes.filter(r=>r!==t&&r!==s&&b.Utils.isIntercepted(r,e))}collideCoverage(t,e,s){if(!e.rect||!t._rect)return;let r=t._rect,l=Object.assign({},e.rect);l.y>r.y?(l.h+=l.y-r.y,l.y=r.y):l.h+=r.y-l.y,l.x>r.x?(l.w+=l.x-r.x,l.x=r.x):l.w+=r.x-l.x;let a;return s.forEach(c=>{if(c.locked||!c._rect)return;let d=c._rect,i=Number.MAX_VALUE,o=Number.MAX_VALUE,n=.5;r.y<d.y?i=(l.y+l.h-d.y)/d.h:r.y+r.h>d.y+d.h&&(i=(d.y+d.h-l.y)/d.h),r.x<d.x?o=(l.x+l.w-d.x)/d.w:r.x+r.w>d.x+d.w&&(o=(d.x+d.w-l.x)/d.w);let h=Math.min(o,i);h>n&&(n=h,a=c)}),a}cacheRects(t,e,s,r,l,a){return this.nodes.forEach(c=>c._rect={y:c.y*e+s,x:c.x*t+a,w:c.w*t-a-r,h:c.h*e-s-l}),this}swap(t,e){if(!e||e.locked||!t||t.locked)return!1;function s(){let l=e.x,a=e.y;return e.x=t.x,e.y=t.y,t.h!=e.h?(t.x=l,t.y=e.y+e.h):t.w!=e.w?(t.x=e.x+e.w,t.y=a):(t.x=l,t.y=a),t._dirty=e._dirty=!0,!0}let r;if(t.w===e.w&&t.h===e.h&&(t.x===e.x||t.y===e.y)&&(r=b.Utils.isTouching(t,e)))return s();if(r!==!1){if(t.w===e.w&&t.x===e.x&&(r||(r=b.Utils.isTouching(t,e)))){if(e.y<t.y){let l=t;t=e,e=l}return s()}if(r!==!1){if(t.h===e.h&&t.y===e.y&&(r||(r=b.Utils.isTouching(t,e)))){if(e.x<t.x){let l=t;t=e,e=l}return s()}return!1}}}isAreaEmpty(t,e,s,r){let l={x:t||0,y:e||0,w:s||1,h:r||1};return!this.collide(l)}compact(){if(this.nodes.length===0)return this;this.batchUpdate().sortNodes();let t=this.nodes;return this.nodes=[],t.forEach(e=>{e.locked||(e.autoPosition=!0),this.addNode(e,!1),e._dirty=!0}),this.commit()}set float(t){this._float!==t&&(this._float=t||!1,t||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(t){return this.nodes=b.Utils.sort(this.nodes,t,this.column),this}_packNodes(){return this.batchMode?this:(this.sortNodes(),this.float?this.nodes.forEach(t=>{if(t._updating||t._orig===void 0||t.y===t._orig.y)return;let e=t.y;for(;e>t._orig.y;)--e,this.collide(t,{x:t.x,y:e,w:t.w,h:t.h})||(t._dirty=!0,t.y=e)}):this.nodes.forEach((t,e)=>{if(!t.locked)for(;t.y>0;){let s=e===0?0:t.y-1;if(!(e===0||!this.collide(t,{x:t.x,y:s,w:t.w,h:t.h})))break;t._dirty=t.y!==s,t.y=s}}),this)}prepareNode(t,e){t=t||{},t._id=t._id||U._idSeq++,(t.x===void 0||t.y===void 0||t.x===null||t.y===null)&&(t.autoPosition=!0);let s={x:0,y:0,w:1,h:1};return b.Utils.defaults(t,s),t.autoPosition||delete t.autoPosition,t.noResize||delete t.noResize,t.noMove||delete t.noMove,typeof t.x=="string"&&(t.x=Number(t.x)),typeof t.y=="string"&&(t.y=Number(t.y)),typeof t.w=="string"&&(t.w=Number(t.w)),typeof t.h=="string"&&(t.h=Number(t.h)),isNaN(t.x)&&(t.x=s.x,t.autoPosition=!0),isNaN(t.y)&&(t.y=s.y,t.autoPosition=!0),isNaN(t.w)&&(t.w=s.w),isNaN(t.h)&&(t.h=s.h),this.nodeBoundFix(t,e)}nodeBoundFix(t,e){let s=t._orig||b.Utils.copyPos({},t);return t.maxW&&(t.w=Math.min(t.w,t.maxW)),t.maxH&&(t.h=Math.min(t.h,t.maxH)),t.minW&&t.minW<=this.column&&(t.w=Math.max(t.w,t.minW)),t.minH&&(t.h=Math.max(t.h,t.minH)),t.w>this.column?(this.column<12&&!this._inColumnResize&&(t.w=Math.min(12,t.w),this.cacheOneLayout(t,12)),t.w=this.column):t.w<1&&(t.w=1),this.maxRow&&t.h>this.maxRow?t.h=this.maxRow:t.h<1&&(t.h=1),t.x<0&&(t.x=0),t.y<0&&(t.y=0),t.x+t.w>this.column&&(e?t.w=this.column-t.x:t.x=this.column-t.w),this.maxRow&&t.y+t.h>this.maxRow&&(e?t.h=this.maxRow-t.y:t.y=this.maxRow-t.h),b.Utils.samePos(t,s)||(t._dirty=!0),t}getDirtyNodes(t){return t?this.nodes.filter(e=>e._dirty&&!b.Utils.samePos(e,e._orig)):this.nodes.filter(e=>e._dirty)}_notify(t){if(this.batchMode||!this.onChange)return this;let e=(t||[]).concat(this.getDirtyNodes());return this.onChange(e),this}cleanNodes(){return this.batchMode?this:(this.nodes.forEach(t=>{delete t._dirty,delete t._lastTried}),this)}saveInitial(){return this.nodes.forEach(t=>{t._orig=b.Utils.copyPos({},t),delete t._dirty}),this._hasLocked=this.nodes.some(t=>t.locked),this}restoreInitial(){return this.nodes.forEach(t=>{b.Utils.samePos(t,t._orig)||(b.Utils.copyPos(t,t._orig),t._dirty=!0)}),this._notify(),this}addNode(t,e=!1){let s=this.nodes.find(r=>r._id===t._id);if(s)return s;if(t=this._inColumnResize?this.nodeBoundFix(t):this.prepareNode(t),delete t._temporaryRemoved,delete t._removeDOM,t.autoPosition){this.sortNodes();for(let r=0;;++r){let l=r%this.column,a=Math.floor(r/this.column);if(l+t.w>this.column)continue;let c={x:l,y:a,w:t.w,h:t.h};if(!this.nodes.find(d=>b.Utils.isIntercepted(c,d))){t.x=l,t.y=a,delete t.autoPosition;break}}}return this.nodes.push(t),e&&this.addedNodes.push(t),this._fixCollisions(t),this.batchMode||this._packNodes()._notify(),t}removeNode(t,e=!0,s=!1){return this.nodes.find(r=>r===t)?(s&&this.removedNodes.push(t),e&&(t._removeDOM=!0),this.nodes=this.nodes.filter(r=>r!==t),this._packNodes()._notify([t])):this}removeAll(t=!0){return delete this._layouts,this.nodes.length===0?this:(t&&this.nodes.forEach(e=>e._removeDOM=!0),this.removedNodes=this.nodes,this.nodes=[],this._notify(this.removedNodes))}moveNodeCheck(t,e){if(!this.changedPosConstrain(t,e))return!1;if(e.pack=!0,!this.maxRow)return this.moveNode(t,e);let s,r=new U({column:this.column,float:this.float,nodes:this.nodes.map(a=>a===t?(s=Object.assign({},a),s):Object.assign({},a))});if(!s)return!1;let l=r.moveNode(s,e)&&r.getRow()<=this.maxRow;if(!l&&!e.resizing){let a=this.collide(t,e);if(a&&this.swap(t,a))return this._notify(),!0}return l?(r.nodes.filter(a=>a._dirty).forEach(a=>{let c=this.nodes.find(d=>d._id===a._id);!c||(b.Utils.copyPos(c,a),c._dirty=!0)}),this._notify(),!0):!1}willItFit(t){if(delete t._willFitPos,!this.maxRow)return!0;let e=new U({column:this.column,float:this.float,nodes:this.nodes.map(r=>Object.assign({},r))}),s=Object.assign({},t);return this.cleanupNode(s),delete s.el,delete s._id,delete s.content,delete s.grid,e.addNode(s),e.getRow()<=this.maxRow?(t._willFitPos=b.Utils.copyPos({},s),!0):!1}changedPosConstrain(t,e){return e.w=e.w||t.w,e.h=e.h||t.h,t.x!==e.x||t.y!==e.y?!0:(t.maxW&&(e.w=Math.min(e.w,t.maxW)),t.maxH&&(e.h=Math.min(e.h,t.maxH)),t.minW&&(e.w=Math.max(e.w,t.minW)),t.minH&&(e.h=Math.max(e.h,t.minH)),t.w!==e.w||t.h!==e.h)}moveNode(t,e){if(!t||!e)return!1;e.pack===void 0&&(e.pack=!0),typeof e.x!="number"&&(e.x=t.x),typeof e.y!="number"&&(e.y=t.y),typeof e.w!="number"&&(e.w=t.w),typeof e.h!="number"&&(e.h=t.h);let s=t.w!==e.w||t.h!==e.h,r=b.Utils.copyPos({},t,!0);if(b.Utils.copyPos(r,e),r=this.nodeBoundFix(r,s),b.Utils.copyPos(e,r),b.Utils.samePos(t,e))return!1;let l=b.Utils.copyPos({},t),a=this.collideAll(t,r,e.skip),c=!0;if(a.length){let d=t._moving&&!e.nested?this.collideCoverage(t,e,a):a[0];d?c=!this._fixCollisions(t,r,d,e):c=!1}return c&&(t._dirty=!0,b.Utils.copyPos(t,r)),e.pack&&this._packNodes()._notify(),!b.Utils.samePos(t,l)}getRow(){return this.nodes.reduce((t,e)=>Math.max(t,e.y+e.h),0)}beginUpdate(t){return t._updating||(t._updating=!0,delete t._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){let t=this.nodes.find(e=>e._updating);return t&&(delete t._updating,delete t._skipDown),this}save(t=!0){var e;let s=(e=this._layouts)===null||e===void 0?void 0:e.length,r=s&&this.column!==s-1?this._layouts[s-1]:null,l=[];return this.sortNodes(),this.nodes.forEach(a=>{let c=r==null?void 0:r.find(i=>i._id===a._id),d=Object.assign({},a);c&&(d.x=c.x,d.y=c.y,d.w=c.w);for(let i in d)(i[0]==="_"||d[i]===null||d[i]===void 0)&&delete d[i];delete d.grid,t||delete d.el,d.autoPosition||delete d.autoPosition,d.noResize||delete d.noResize,d.noMove||delete d.noMove,d.locked||delete d.locked,l.push(d)}),l}layoutsNodesChange(t){return!this._layouts||this._inColumnResize?this:(this._layouts.forEach((e,s)=>{if(!e||s===this.column)return this;if(s<this.column)this._layouts[s]=void 0;else{let r=s/this.column;t.forEach(l=>{if(!l._orig)return;let a=e.find(c=>c._id===l._id);!a||(l.y!==l._orig.y&&(a.y+=l.y-l._orig.y),l.x!==l._orig.x&&(a.x=Math.round(l.x*r)),l.w!==l._orig.w&&(a.w=Math.round(l.w*r)))})}}),this)}updateNodeWidths(t,e,s,r="moveScale"){var l;if(!this.nodes.length||!e||t===e)return this;this.cacheLayout(this.nodes,t),this.batchUpdate();let a=[],c=!1;if(e===1&&(s==null?void 0:s.length)){c=!0;let i=0;s.forEach(o=>{o.x=0,o.w=1,o.y=Math.max(o.y,i),i=o.y+o.h}),a=s,s=[]}else s=b.Utils.sort(this.nodes,-1,t);let d=[];if(e>t){d=this._layouts[e]||[];let i=this._layouts.length-1;!d.length&&t!==i&&((l=this._layouts[i])===null||l===void 0?void 0:l.length)&&(t=i,this._layouts[i].forEach(o=>{let n=s.find(h=>h._id===o._id);n&&(n.x=o.x,n.y=o.y,n.w=o.w)}))}if(d.forEach(i=>{let o=s.findIndex(n=>n._id===i._id);o!==-1&&(s[o].x=i.x,s[o].y=i.y,s[o].w=i.w,a.push(s[o]),s.splice(o,1))}),s.length){if(typeof r=="function")r(e,t,a,s);else if(!c){let i=e/t,o=r==="move"||r==="moveScale",n=r==="scale"||r==="moveScale";s.forEach(h=>{h.x=e===1?0:o?Math.round(h.x*i):Math.min(h.x,e-1),h.w=e===1||t===1?1:n?Math.round(h.w*i)||1:Math.min(h.w,e),a.push(h)}),s=[]}}return a=b.Utils.sort(a,-1,e),this._inColumnResize=!0,this.nodes=[],a.forEach(i=>{this.addNode(i,!1),delete i._orig}),this.commit(),delete this._inColumnResize,this}cacheLayout(t,e,s=!1){let r=[];return t.forEach((l,a)=>{l._id=l._id||U._idSeq++,r[a]={x:l.x,y:l.y,w:l.w,_id:l._id}}),this._layouts=s?[]:this._layouts||[],this._layouts[e]=r,this}cacheOneLayout(t,e){t._id=t._id||U._idSeq++;let s={x:t.x,y:t.y,w:t.w,_id:t._id};this._layouts=this._layouts||[],this._layouts[e]=this._layouts[e]||[];let r=this._layouts[e].findIndex(l=>l._id===t._id);return r===-1?this._layouts[e].push(s):this._layouts[e][r]=s,this}cleanupNode(t){for(let e in t)e[0]==="_"&&e!=="_id"&&delete t[e];return this}}Y.GridStackEngine=U;U._idSeq=1;var X={};Object.defineProperty(X,"__esModule",{value:!0});X.GridStackDDI=void 0;class z{static registerPlugin(t){return z.ddi=new t,z.ddi}static get(){return z.ddi||z.registerPlugin(z)}remove(t){return this}}X.GridStackDDI=z;var mt={};Object.defineProperty(mt,"__esModule",{value:!0});(function(p){var t=Z&&Z.__createBinding||(Object.create?function(d,i,o,n){n===void 0&&(n=o),Object.defineProperty(d,n,{enumerable:!0,get:function(){return i[o]}})}:function(d,i,o,n){n===void 0&&(n=o),d[n]=i[o]}),e=Z&&Z.__exportStar||function(d,i){for(var o in d)o!=="default"&&!i.hasOwnProperty(o)&&t(i,d,o)};Object.defineProperty(p,"__esModule",{value:!0}),p.GridStack=void 0;/*!
 * GridStack 5.1.1
 * https://gridstackjs.com/
 *
 * Copyright (c) 2021-2022 Alain Dumesny
 * see root license https://github.com/gridstack/gridstack.js/tree/master/LICENSE
 */const s=Y,r=C,l=X;e(mt,p),e(C,p),e(Y,p),e(X,p);const a={column:12,minRow:0,maxRow:0,itemClass:"grid-stack-item",placeholderClass:"grid-stack-placeholder",placeholderText:"",handle:".grid-stack-item-content",handleClass:null,styleInHead:!1,cellHeight:"auto",cellHeightThrottle:100,margin:10,auto:!0,oneColumnSize:768,float:!1,staticGrid:!1,animate:!0,alwaysShowResizeHandle:!1,resizable:{autoHide:!0,handles:"se"},draggable:{handle:".grid-stack-item-content",scroll:!1,appendTo:"body"},disableDrag:!1,disableResize:!1,rtl:"auto",removable:!1,removableOptions:{accept:".grid-stack-item"},marginUnit:"px",cellHeightUnit:"px",disableOneColumnMode:!1,oneColumnModeDomSort:!1};class c{constructor(i,o={}){this._gsEventHandler={},this._extraDragRow=0,this.el=i,o=o||{},o.row&&(o.minRow=o.maxRow=o.row,delete o.row);let n=r.Utils.toNumber(i.getAttribute("gs-row"));o.column==="auto"&&delete o.column;let h=o;h.minWidth!==void 0&&(o.oneColumnSize=o.oneColumnSize||h.minWidth,delete h.minWidth);let g=Object.assign(Object.assign({},r.Utils.cloneDeep(a)),{column:r.Utils.toNumber(i.getAttribute("gs-column"))||12,minRow:n||r.Utils.toNumber(i.getAttribute("gs-min-row"))||0,maxRow:n||r.Utils.toNumber(i.getAttribute("gs-max-row"))||0,staticGrid:r.Utils.toBool(i.getAttribute("gs-static"))||!1,_styleSheetClass:"grid-stack-instance-"+(Math.random()*1e4).toFixed(0),alwaysShowResizeHandle:o.alwaysShowResizeHandle||!1,resizable:{autoHide:!o.alwaysShowResizeHandle,handles:"se"},draggable:{handle:(o.handleClass?"."+o.handleClass:o.handle?o.handle:"")||".grid-stack-item-content",scroll:!1,appendTo:"body"},removableOptions:{accept:"."+(o.itemClass||"grid-stack-item")}});i.getAttribute("gs-animate")&&(g.animate=r.Utils.toBool(i.getAttribute("gs-animate"))),this.opts=r.Utils.defaults(o,g),o=null,this._initMargin(),this.opts.column!==1&&!this.opts.disableOneColumnMode&&this._widthOrContainer()<=this.opts.oneColumnSize&&(this._prevColumn=this.getColumn(),this.opts.column=1),this.opts.rtl==="auto"&&(this.opts.rtl=i.style.direction==="rtl"),this.opts.rtl&&this.el.classList.add("grid-stack-rtl");let y=r.Utils.closestByClass(this.el,a.itemClass);y&&y.gridstackNode&&(this.opts._isNested=y.gridstackNode,this.opts._isNested.subGrid=this,y.classList.add("grid-stack-nested"),this.el.classList.add("grid-stack-nested")),this._isAutoCellHeight=this.opts.cellHeight==="auto",this._isAutoCellHeight||this.opts.cellHeight==="initial"?this.cellHeight(void 0,!1):(typeof this.opts.cellHeight=="number"&&this.opts.cellHeightUnit&&this.opts.cellHeightUnit!==a.cellHeightUnit&&(this.opts.cellHeight=this.opts.cellHeight+this.opts.cellHeightUnit,delete this.opts.cellHeightUnit),this.cellHeight(this.opts.cellHeight,!1)),this.el.classList.add(this.opts._styleSheetClass),this._setStaticClass();let u=this.opts.engineClass||c.engineClass||s.GridStackEngine;if(this.engine=new u({column:this.getColumn(),float:this.opts.float,maxRow:this.opts.maxRow,onChange:m=>{let _=0;this.engine.nodes.forEach(f=>{_=Math.max(_,f.y+f.h)}),m.forEach(f=>{let v=f.el;!v||(f._removeDOM?(v&&v.remove(),delete f._removeDOM):this._writePosAttr(v,f))}),this._updateStyles(!1,_)}}),this.opts.auto){this.batchUpdate();let m=[];this.getGridItems().forEach(_=>{let f=parseInt(_.getAttribute("gs-x")),v=parseInt(_.getAttribute("gs-y"));m.push({el:_,i:(Number.isNaN(f)?1e3:f)+(Number.isNaN(v)?1e3:v)*this.getColumn()})}),m.sort((_,f)=>_.i-f.i).forEach(_=>this._prepareElement(_.el)),this.commit()}this.setAnimation(this.opts.animate),this._updateStyles(),this.opts.column!=12&&this.el.classList.add("grid-stack-"+this.opts.column),this.opts.dragIn&&c.setupDragIn(this.opts.dragIn,this.opts.dragInOptions),delete this.opts.dragIn,delete this.opts.dragInOptions,this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateWindowResizeEvent()}static init(i={},o=".grid-stack"){let n=c.getGridElement(o);return n?(n.gridstack||(n.gridstack=new c(n,r.Utils.cloneDeep(i))),n.gridstack):(console.error(typeof o=="string"?'GridStack.initAll() no grid was found with selector "'+o+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`:"GridStack.init() no grid element was passed."),null)}static initAll(i={},o=".grid-stack"){let n=[];return c.getGridElements(o).forEach(h=>{h.gridstack||(h.gridstack=new c(h,r.Utils.cloneDeep(i)),delete i.dragIn,delete i.dragInOptions),n.push(h.gridstack)}),n.length===0&&console.error('GridStack.initAll() no grid was found with selector "'+o+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`),n}static addGrid(i,o={}){if(!i)return null;let n=i;if(!i.classList.contains("grid-stack")){let g=document.implementation.createHTMLDocument("");g.body.innerHTML=`<div class="grid-stack ${o.class||""}"></div>`,n=g.body.children[0],i.appendChild(n)}let h=c.init(o,n);if(h.opts.children){let g=h.opts.children;delete h.opts.children,h.load(g)}return h}static registerEngine(i){c.engineClass=i}get placeholder(){if(!this._placeholder){let i=document.createElement("div");i.className="placeholder-content",this.opts.placeholderText&&(i.innerHTML=this.opts.placeholderText),this._placeholder=document.createElement("div"),this._placeholder.classList.add(this.opts.placeholderClass,a.itemClass,this.opts.itemClass),this.placeholder.appendChild(i)}return this._placeholder}addWidget(i,o){if(arguments.length>2){console.warn("gridstack.ts: `addWidget(el, x, y, width...)` is deprecated. Use `addWidget({x, y, w, content, ...})`. It will be removed soon");let u=arguments,m=1,_={x:u[m++],y:u[m++],w:u[m++],h:u[m++],autoPosition:u[m++],minW:u[m++],maxW:u[m++],minH:u[m++],maxH:u[m++],id:u[m++]};return this.addWidget(i,_)}function n(u){return u.x!==void 0||u.y!==void 0||u.w!==void 0||u.h!==void 0||u.content!==void 0}let h;if(typeof i=="string"){let u=document.implementation.createHTMLDocument("");u.body.innerHTML=i,h=u.body.children[0]}else if(arguments.length===0||arguments.length===1&&n(i)){let u=i&&i.content||"";o=i;let m=document.implementation.createHTMLDocument("");m.body.innerHTML=`<div class="grid-stack-item ${this.opts.itemClass||""}"><div class="grid-stack-item-content">${u}</div></div>`,h=m.body.children[0]}else h=i;let g=this._readAttr(h);o=r.Utils.cloneDeep(o)||{},r.Utils.defaults(o,g);let y=this.engine.prepareNode(o);if(this._writeAttr(h,o),this._insertNotAppend?this.el.prepend(h):this.el.appendChild(h),this._prepareElement(h,!0,o),this._updateContainerHeight(),y.subGrid&&!y.subGrid.el){let u,m=y.subGrid;m.column==="auto"&&(m.column=y.w,m.disableOneColumnMode=!0,u=!0);let _=y.el.querySelector(".grid-stack-item-content");y.subGrid=c.addGrid(_,y.subGrid),u&&(y.subGrid._autoColumn=!0)}return this._triggerAddEvent(),this._triggerChangeEvent(),h}save(i=!0,o=!1){let n=this.engine.save(i);if(n.forEach(h=>{if(i&&h.el&&!h.subGrid){let g=h.el.querySelector(".grid-stack-item-content");h.content=g?g.innerHTML:void 0,h.content||delete h.content}else i||delete h.content,h.subGrid&&(h.subGrid=h.subGrid.save(i,!0));delete h.el}),o){let h=r.Utils.cloneDeep(this.opts);return h.marginBottom===h.marginTop&&h.marginRight===h.marginLeft&&h.marginTop===h.marginRight&&(h.margin=h.marginTop,delete h.marginTop,delete h.marginRight,delete h.marginBottom,delete h.marginLeft),h.rtl===(this.el.style.direction==="rtl")&&(h.rtl="auto"),this._isAutoCellHeight&&(h.cellHeight="auto"),this._autoColumn&&(h.column="auto",delete h.disableOneColumnMode),r.Utils.removeInternalAndSame(h,a),h.children=n,h}return n}load(i,o=!0){let n=c.Utils.sort([...i],-1,this._prevColumn||this.getColumn());this._insertNotAppend=!0,this._prevColumn&&this._prevColumn!==this.opts.column&&n.some(g=>g.x+g.w>this.opts.column)&&(this._ignoreLayoutsNodeChange=!0,this.engine.cacheLayout(n,this._prevColumn,!0));let h=[];return this.batchUpdate(),o&&[...this.engine.nodes].forEach(y=>{n.find(m=>y.id===m.id)||(typeof o=="function"?o(this,y,!1):(h.push(y),this.removeWidget(y.el,!0,!1)))}),n.forEach(g=>{let y=g.id||g.id===0?this.engine.nodes.find(u=>u.id===g.id):void 0;if(y){if(this.update(y.el,g),g.subGrid&&g.subGrid.children){let u=y.el.querySelector(".grid-stack");u&&u.gridstack&&(u.gridstack.load(g.subGrid.children),this._insertNotAppend=!0)}}else o&&(typeof o=="function"?g=o(this,g,!0).gridstackNode:g=this.addWidget(g).gridstackNode)}),this.engine.removedNodes=h,this.commit(),delete this._ignoreLayoutsNodeChange,delete this._insertNotAppend,this}batchUpdate(){return this.engine.batchUpdate(),this}getCellHeight(i=!1){if(this.opts.cellHeight&&this.opts.cellHeight!=="auto"&&(!i||!this.opts.cellHeightUnit||this.opts.cellHeightUnit==="px"))return this.opts.cellHeight;let o=this.el.querySelector("."+this.opts.itemClass);if(o){let h=r.Utils.toNumber(o.getAttribute("gs-h"));return Math.round(o.offsetHeight/h)}let n=parseInt(this.el.getAttribute("gs-current-row"));return n?Math.round(this.el.getBoundingClientRect().height/n):this.opts.cellHeight}cellHeight(i,o=!0){if(o&&i!==void 0&&this._isAutoCellHeight!==(i==="auto")&&(this._isAutoCellHeight=i==="auto",this._updateWindowResizeEvent()),(i==="initial"||i==="auto")&&(i=void 0),i===void 0){let h=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;i=this.cellWidth()+h}let n=r.Utils.parseHeight(i);return this.opts.cellHeightUnit===n.unit&&this.opts.cellHeight===n.h?this:(this.opts.cellHeightUnit=n.unit,this.opts.cellHeight=n.h,o&&this._updateStyles(!0,this.getRow()),this)}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(){return this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}commit(){return this.engine.commit(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent(),this}compact(){return this.engine.compact(),this._triggerChangeEvent(),this}column(i,o="moveScale"){if(i<1||this.opts.column===i)return this;let n=this.getColumn();i===1?this._prevColumn=n:delete this._prevColumn,this.el.classList.remove("grid-stack-"+n),this.el.classList.add("grid-stack-"+i),this.opts.column=this.engine.column=i;let h;return i===1&&this.opts.oneColumnModeDomSort&&(h=[],this.getGridItems().forEach(g=>{g.gridstackNode&&h.push(g.gridstackNode)}),h.length||(h=void 0)),this.engine.updateNodeWidths(n,i,h,o),this._isAutoCellHeight&&this.cellHeight(),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter(i=>i.matches("."+this.opts.itemClass)&&!i.matches("."+this.opts.placeholderClass))}destroy(i=!0){if(!!this.el)return this._updateWindowResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),i?this.el.parentNode.removeChild(this.el):(this.removeAll(i),this.el.classList.remove(this.opts._styleSheetClass)),this._removeStylesheet(),this.el.removeAttribute("gs-current-row"),delete this.opts._isNested,delete this.opts,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(i){return this.engine.float=i,this._triggerChangeEvent(),this}getFloat(){return this.engine.float}getCellFromPixel(i,o=!1){let n=this.el.getBoundingClientRect(),h;o?h={top:n.top+document.documentElement.scrollTop,left:n.left}:h={top:this.el.offsetTop,left:this.el.offsetLeft};let g=i.left-h.left,y=i.top-h.top,u=n.width/this.getColumn(),m=n.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(g/u),y:Math.floor(y/m)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow)}isAreaEmpty(i,o,n,h){return this.engine.isAreaEmpty(i,o,n,h)}makeWidget(i){let o=c.getElement(i);return this._prepareElement(o,!0),this._updateContainerHeight(),this._triggerAddEvent(),this._triggerChangeEvent(),o}on(i,o){return i.indexOf(" ")!==-1?(i.split(" ").forEach(h=>this.on(h,o)),this):(i==="change"||i==="added"||i==="removed"||i==="enable"||i==="disable"?(i==="enable"||i==="disable"?this._gsEventHandler[i]=h=>o(h):this._gsEventHandler[i]=h=>o(h,h.detail),this.el.addEventListener(i,this._gsEventHandler[i])):i==="drag"||i==="dragstart"||i==="dragstop"||i==="resizestart"||i==="resize"||i==="resizestop"||i==="dropped"?this._gsEventHandler[i]=o:console.log("GridStack.on("+i+') event not supported, but you can still use $(".grid-stack").on(...) while jquery-ui is still used internally.'),this)}off(i){return i.indexOf(" ")!==-1?(i.split(" ").forEach(n=>this.off(n)),this):((i==="change"||i==="added"||i==="removed"||i==="enable"||i==="disable")&&this._gsEventHandler[i]&&this.el.removeEventListener(i,this._gsEventHandler[i]),delete this._gsEventHandler[i],this)}removeWidget(i,o=!0,n=!0){return c.getElements(i).forEach(h=>{if(h.parentElement!==this.el)return;let g=h.gridstackNode;g||(g=this.engine.nodes.find(y=>h===y.el)),g&&(delete h.gridstackNode,l.GridStackDDI.get().remove(h),this.engine.removeNode(g,o,n),o&&h.parentElement&&h.remove())}),n&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this}removeAll(i=!0){return this.engine.nodes.forEach(o=>{delete o.el.gridstackNode,l.GridStackDDI.get().remove(o.el)}),this.engine.removeAll(i),this._triggerRemoveEvent(),this}setAnimation(i){return i?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this}setStatic(i,o=!0){return this.opts.staticGrid===i?this:(this.opts.staticGrid=i,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach(n=>this._prepareDragDropByNode(n)),o&&this._setStaticClass(),this)}update(i,o){if(arguments.length>2){console.warn("gridstack.ts: `update(el, x, y, w, h)` is deprecated. Use `update(el, {x, w, content, ...})`. It will be removed soon");let n=arguments,h=1;return o={x:n[h++],y:n[h++],w:n[h++],h:n[h++]},this.update(i,o)}return c.getElements(i).forEach(n=>{if(!n||!n.gridstackNode)return;let h=n.gridstackNode,g=r.Utils.cloneDeep(o);delete g.autoPosition;let y=["x","y","w","h"],u;if(y.some(f=>g[f]!==void 0&&g[f]!==h[f])&&(u={},y.forEach(f=>{u[f]=g[f]!==void 0?g[f]:h[f],delete g[f]})),!u&&(g.minW||g.minH||g.maxW||g.maxH)&&(u={}),g.content){let f=n.querySelector(".grid-stack-item-content");f&&f.innerHTML!==g.content&&(f.innerHTML=g.content),delete g.content}let m=!1,_=!1;for(const f in g)f[0]!=="_"&&h[f]!==g[f]&&(h[f]=g[f],m=!0,_=_||!this.opts.staticGrid&&(f==="noResize"||f==="noMove"||f==="locked"));u&&(this.engine.cleanNodes().beginUpdate(h).moveNode(h,u),this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate()),m&&this._writeAttr(n,h),_&&this._prepareDragDropByNode(h)}),this}margin(i){if(!(typeof i=="string"&&i.split(" ").length>1)){let n=r.Utils.parseHeight(i);if(this.opts.marginUnit===n.unit&&this.opts.margin===n.h)return}return this.opts.margin=i,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this._updateStyles(!0),this}getMargin(){return this.opts.margin}willItFit(i){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");let o=arguments,n=0,h={x:o[n++],y:o[n++],w:o[n++],h:o[n++],autoPosition:o[n++]};return this.willItFit(h)}return this.engine.willItFit(i)}_triggerChangeEvent(){if(this.engine.batchMode)return this;let i=this.engine.getDirtyNodes(!0);return i&&i.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(i),this._triggerEvent("change",i)),this.engine.saveInitial(),this}_triggerAddEvent(){return this.engine.batchMode?this:(this.engine.addedNodes&&this.engine.addedNodes.length>0&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach(i=>{delete i._dirty}),this._triggerEvent("added",this.engine.addedNodes),this.engine.addedNodes=[]),this)}_triggerRemoveEvent(){return this.engine.batchMode?this:(this.engine.removedNodes&&this.engine.removedNodes.length>0&&(this._triggerEvent("removed",this.engine.removedNodes),this.engine.removedNodes=[]),this)}_triggerEvent(i,o){let n=o?new CustomEvent(i,{bubbles:!1,detail:o}):new Event(i);return this.el.dispatchEvent(n),this}_removeStylesheet(){return this._styles&&(r.Utils.removeStylesheet(this._styles._id),delete this._styles),this}_updateStyles(i=!1,o){if(i&&this._removeStylesheet(),this._updateContainerHeight(),this.opts.cellHeight===0)return this;let n=this.opts.cellHeight,h=this.opts.cellHeightUnit,g=`.${this.opts._styleSheetClass} > .${this.opts.itemClass}`;if(!this._styles){let y="gridstack-style-"+(Math.random()*1e5).toFixed(),u=this.opts.styleInHead?void 0:this.el.parentNode;if(this._styles=r.Utils.createStylesheet(y,u),!this._styles)return this;this._styles._id=y,this._styles._max=0,r.Utils.addCSSRule(this._styles,g,`min-height: ${n}${h}`);let m=this.opts.marginTop+this.opts.marginUnit,_=this.opts.marginBottom+this.opts.marginUnit,f=this.opts.marginRight+this.opts.marginUnit,v=this.opts.marginLeft+this.opts.marginUnit,E=`${g} > .grid-stack-item-content`,N=`.${this.opts._styleSheetClass} > .grid-stack-placeholder > .placeholder-content`;r.Utils.addCSSRule(this._styles,E,`top: ${m}; right: ${f}; bottom: ${_}; left: ${v};`),r.Utils.addCSSRule(this._styles,N,`top: ${m}; right: ${f}; bottom: ${_}; left: ${v};`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-ne`,`right: ${f}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-e`,`right: ${f}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-se`,`right: ${f}; bottom: ${_}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-nw`,`left: ${v}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-w`,`left: ${v}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-sw`,`left: ${v}; bottom: ${_}`)}if(o=o||this._styles._max,o>this._styles._max){let y=u=>n*u+h;for(let u=this._styles._max+1;u<=o;u++){let m=y(u);r.Utils.addCSSRule(this._styles,`${g}[gs-y="${u-1}"]`,`top: ${y(u-1)}`),r.Utils.addCSSRule(this._styles,`${g}[gs-h="${u}"]`,`height: ${m}`),r.Utils.addCSSRule(this._styles,`${g}[gs-min-h="${u}"]`,`min-height: ${m}`),r.Utils.addCSSRule(this._styles,`${g}[gs-max-h="${u}"]`,`max-height: ${m}`)}this._styles._max=o}return this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;let i=this.getRow()+this._extraDragRow;if(this.el.setAttribute("gs-current-row",String(i)),i===0)return this.el.style.removeProperty("height"),this;let o=this.opts.cellHeight,n=this.opts.cellHeightUnit;return o?(this.el.style.height=i*o+n,this):this}_prepareElement(i,o=!1,n){n||(i.classList.add(this.opts.itemClass),n=this._readAttr(i)),i.gridstackNode=n,n.el=i,n.grid=this;let h=Object.assign({},n);return n=this.engine.addNode(n,o),r.Utils.same(n,h)||this._writeAttr(i,n),this._prepareDragDropByNode(n),this}_writePosAttr(i,o){return o.x!==void 0&&o.x!==null&&i.setAttribute("gs-x",String(o.x)),o.y!==void 0&&o.y!==null&&i.setAttribute("gs-y",String(o.y)),o.w&&i.setAttribute("gs-w",String(o.w)),o.h&&i.setAttribute("gs-h",String(o.h)),this}_writeAttr(i,o){if(!o)return this;this._writePosAttr(i,o);let n={autoPosition:"gs-auto-position",minW:"gs-min-w",minH:"gs-min-h",maxW:"gs-max-w",maxH:"gs-max-h",noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id",resizeHandles:"gs-resize-handles"};for(const h in n)o[h]?i.setAttribute(n[h],String(o[h])):i.removeAttribute(n[h]);return this}_readAttr(i){let o={};o.x=r.Utils.toNumber(i.getAttribute("gs-x")),o.y=r.Utils.toNumber(i.getAttribute("gs-y")),o.w=r.Utils.toNumber(i.getAttribute("gs-w")),o.h=r.Utils.toNumber(i.getAttribute("gs-h")),o.maxW=r.Utils.toNumber(i.getAttribute("gs-max-w")),o.minW=r.Utils.toNumber(i.getAttribute("gs-min-w")),o.maxH=r.Utils.toNumber(i.getAttribute("gs-max-h")),o.minH=r.Utils.toNumber(i.getAttribute("gs-min-h")),o.autoPosition=r.Utils.toBool(i.getAttribute("gs-auto-position")),o.noResize=r.Utils.toBool(i.getAttribute("gs-no-resize")),o.noMove=r.Utils.toBool(i.getAttribute("gs-no-move")),o.locked=r.Utils.toBool(i.getAttribute("gs-locked")),o.resizeHandles=i.getAttribute("gs-resize-handles"),o.id=i.getAttribute("gs-id");for(const n in o){if(!o.hasOwnProperty(n))return;!o[n]&&o[n]!==0&&delete o[n]}return o}_setStaticClass(){let i=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...i),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...i),this.el.removeAttribute("gs-static")),this}onParentResize(){if(!this.el||!this.el.clientWidth)return;let i=!1;if(this._autoColumn&&this.opts._isNested)this.opts.column!==this.opts._isNested.w&&(i=!0,this.column(this.opts._isNested.w,"none"));else{let o=!this.opts.disableOneColumnMode&&this.el.clientWidth<=this.opts.oneColumnSize;this.opts.column===1!==o&&(i=!0,this.opts.animate&&this.setAnimation(!1),this.column(o?1:this._prevColumn),this.opts.animate&&this.setAnimation(!0))}return this._isAutoCellHeight&&(!i&&this.opts.cellHeightThrottle?(this._cellHeightThrottle||(this._cellHeightThrottle=r.Utils.throttle(()=>this.cellHeight(),this.opts.cellHeightThrottle)),this._cellHeightThrottle()):this.cellHeight()),this.engine.nodes.forEach(o=>{o.subGrid&&o.subGrid.onParentResize()}),this}_updateWindowResizeEvent(i=!1){const o=(this._isAutoCellHeight||!this.opts.disableOneColumnMode)&&!this.opts._isNested;return!i&&o&&!this._windowResizeBind?(this._windowResizeBind=this.onParentResize.bind(this),window.addEventListener("resize",this._windowResizeBind)):(i||!o)&&this._windowResizeBind&&(window.removeEventListener("resize",this._windowResizeBind),delete this._windowResizeBind),this}static getElement(i=".grid-stack-item"){return r.Utils.getElement(i)}static getElements(i=".grid-stack-item"){return r.Utils.getElements(i)}static getGridElement(i){return c.getElement(i)}static getGridElements(i){return r.Utils.getElements(i)}_initMargin(){let i,o=0,n=[];return typeof this.opts.margin=="string"&&(n=this.opts.margin.split(" ")),n.length===2?(this.opts.marginTop=this.opts.marginBottom=n[0],this.opts.marginLeft=this.opts.marginRight=n[1]):n.length===4?(this.opts.marginTop=n[0],this.opts.marginRight=n[1],this.opts.marginBottom=n[2],this.opts.marginLeft=n[3]):(i=r.Utils.parseHeight(this.opts.margin),this.opts.marginUnit=i.unit,o=this.opts.margin=i.h),this.opts.marginTop===void 0?this.opts.marginTop=o:(i=r.Utils.parseHeight(this.opts.marginTop),this.opts.marginTop=i.h,delete this.opts.margin),this.opts.marginBottom===void 0?this.opts.marginBottom=o:(i=r.Utils.parseHeight(this.opts.marginBottom),this.opts.marginBottom=i.h,delete this.opts.margin),this.opts.marginRight===void 0?this.opts.marginRight=o:(i=r.Utils.parseHeight(this.opts.marginRight),this.opts.marginRight=i.h,delete this.opts.margin),this.opts.marginLeft===void 0?this.opts.marginLeft=o:(i=r.Utils.parseHeight(this.opts.marginLeft),this.opts.marginLeft=i.h,delete this.opts.margin),this.opts.marginUnit=i.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop),this}static setupDragIn(i,o){}movable(i,o){return this}resizable(i,o){return this}disable(){return this}enable(){return this}enableMove(i){return this}enableResize(i){return this}_setupAcceptWidget(){return this}_setupRemoveDrop(){return this}_prepareDragDropByNode(i){return this}_onStartMoving(i,o,n,h,g,y){}_dragOrResize(i,o,n,h,g,y){}_leave(i,o){}}p.GridStack=c,c.Utils=r.Utils,c.Engine=s.GridStackEngine})(pt);var R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dt={},V={},x={};Object.defineProperty(x,"__esModule",{value:!0});x.Utils=x.obsoleteAttr=x.obsoleteOptsDel=x.obsoleteOpts=x.obsolete=void 0;function Ct(p,t,e,s,r){let l=(...a)=>(console.warn("gridstack.js: Function `"+e+"` is deprecated in "+r+" and has been replaced with `"+s+"`. It will be **completely** removed in v1.0"),t.apply(p,a));return l.prototype=t.prototype,l}x.obsolete=Ct;function St(p,t,e,s){p[t]!==void 0&&(p[e]=p[t],console.warn("gridstack.js: Option `"+t+"` is deprecated in "+s+" and has been replaced with `"+e+"`. It will be **completely** removed in v1.0"))}x.obsoleteOpts=St;function Nt(p,t,e,s){p[t]!==void 0&&console.warn("gridstack.js: Option `"+t+"` is deprecated in "+e+s)}x.obsoleteOptsDel=Nt;function Rt(p,t,e,s){let r=p.getAttribute(t);r!==null&&(p.setAttribute(e,r),console.warn("gridstack.js: attribute `"+t+"`="+r+" is deprecated on this object in "+s+" and has been replaced with `"+e+"`. It will be **completely** removed in v1.0"))}x.obsoleteAttr=Rt;class q{static getElements(t){if(typeof t=="string"){let e=document.querySelectorAll(t);return!e.length&&t[0]!=="."&&t[0]!=="#"&&(e=document.querySelectorAll("."+t),e.length||(e=document.querySelectorAll("#"+t))),Array.from(e)}return[t]}static getElement(t){if(typeof t=="string"){if(!t.length)return null;if(t[0]==="#")return document.getElementById(t.substring(1));if(t[0]==="."||t[0]==="[")return document.querySelector(t);if(!isNaN(+t[0]))return document.getElementById(t);let e=document.querySelector(t);return e||(e=document.getElementById(t)),e||(e=document.querySelector("."+t)),e}return t}static isIntercepted(t,e){return!(t.y>=e.y+e.h||t.y+t.h<=e.y||t.x+t.w<=e.x||t.x>=e.x+e.w)}static isTouching(t,e){return q.isIntercepted(t,{x:e.x-.5,y:e.y-.5,w:e.w+1,h:e.h+1})}static sort(t,e,s){return s=s||t.reduce((r,l)=>Math.max(l.x+l.w,r),0)||12,e===-1?t.sort((r,l)=>l.x+l.y*s-(r.x+r.y*s)):t.sort((r,l)=>r.x+r.y*s-(l.x+l.y*s))}static createStylesheet(t,e){let s=document.createElement("style");return s.setAttribute("type","text/css"),s.setAttribute("gs-style-id",t),s.styleSheet?s.styleSheet.cssText="":s.appendChild(document.createTextNode("")),e?e.insertBefore(s,e.firstChild):(e=document.getElementsByTagName("head")[0],e.appendChild(s)),s.sheet}static removeStylesheet(t){let e=document.querySelector("STYLE[gs-style-id="+t+"]");e&&e.parentNode&&e.remove()}static addCSSRule(t,e,s){typeof t.addRule=="function"?t.addRule(e,s):typeof t.insertRule=="function"&&t.insertRule(`${e}{${s}}`)}static toBool(t){return typeof t=="boolean"?t:typeof t=="string"?(t=t.toLowerCase(),!(t===""||t==="no"||t==="false"||t==="0")):Boolean(t)}static toNumber(t){return t===null||t.length===0?void 0:Number(t)}static parseHeight(t){let e,s="px";if(typeof t=="string"){let r=t.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%)?$/);if(!r)throw new Error("Invalid height");s=r[2]||"px",e=parseFloat(r[1])}else e=t;return{h:e,unit:s}}static defaults(t,...e){return e.forEach(s=>{for(const r in s){if(!s.hasOwnProperty(r))return;t[r]===null||t[r]===void 0?t[r]=s[r]:typeof s[r]=="object"&&typeof t[r]=="object"&&this.defaults(t[r],s[r])}}),t}static same(t,e){if(typeof t!="object")return t==e;if(typeof t!=typeof e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}static copyPos(t,e,s=!1){return t.x=e.x,t.y=e.y,t.w=e.w,t.h=e.h,s&&(e.minW&&(t.minW=e.minW),e.minH&&(t.minH=e.minH),e.maxW&&(t.maxW=e.maxW),e.maxH&&(t.maxH=e.maxH)),t}static samePos(t,e){return t&&e&&t.x===e.x&&t.y===e.y&&t.w===e.w&&t.h===e.h}static removeInternalAndSame(t,e){if(!(typeof t!="object"||typeof e!="object"))for(let s in t){let r=t[s];if(s[0]==="_"||r===e[s])delete t[s];else if(r&&typeof r=="object"&&e[s]!==void 0){for(let l in r)(r[l]===e[s][l]||l[0]==="_")&&delete r[l];Object.keys(r).length||delete t[s]}}}static closestByClass(t,e){for(;t;){if(t.classList.contains(e))return t;t=t.parentElement}return null}static throttle(t,e){let s=!1;return(...r)=>{s||(s=!0,setTimeout(()=>{t(...r),s=!1},e))}}static removePositioningStyles(t){let e=t.style;e.position&&e.removeProperty("position"),e.left&&e.removeProperty("left"),e.top&&e.removeProperty("top"),e.width&&e.removeProperty("width"),e.height&&e.removeProperty("height")}static getScrollElement(t){if(!t)return document.scrollingElement||document.documentElement;const e=getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowY)?t:this.getScrollElement(t.parentElement)}static updateScrollPosition(t,e,s){let r=t.getBoundingClientRect(),l=window.innerHeight||document.documentElement.clientHeight;if(r.top<0||r.bottom>l){let a=r.bottom-l,c=r.top,d=this.getScrollElement(t);if(d!==null){let i=d.scrollTop;r.top<0&&s<0?t.offsetHeight>l?d.scrollTop+=s:d.scrollTop+=Math.abs(c)>Math.abs(s)?s:c:s>0&&(t.offsetHeight>l?d.scrollTop+=s:d.scrollTop+=a>s?s:a),e.top+=d.scrollTop-i}}}static updateScrollResize(t,e,s){const r=this.getScrollElement(e),l=r.clientHeight,a=r===this.getScrollElement()?0:r.getBoundingClientRect().top,c=t.clientY-a,d=c<s,i=c>l-s;d?r.scrollBy({behavior:"smooth",top:c-s}):i&&r.scrollBy({behavior:"smooth",top:s-(l-c)})}static clone(t){return t==null||typeof t!="object"?t:t instanceof Array?[...t]:Object.assign({},t)}static cloneDeep(t){const e=q.clone(t);for(const s in e)e.hasOwnProperty(s)&&typeof e[s]=="object"&&s.substring(0,2)!=="__"&&!Ht.find(r=>r===s)&&(e[s]=q.cloneDeep(t[s]));return e}}x.Utils=q;const Ht=["_isNested","el","grid","subGrid","engine"];Object.defineProperty(V,"__esModule",{value:!0});V.GridStackEngine=void 0;const w=x;class O{constructor(t={}){this.addedNodes=[],this.removedNodes=[],this.column=t.column||12,this.maxRow=t.maxRow,this._float=t.float,this.nodes=t.nodes||[],this.onChange=t.onChange}batchUpdate(){return this.batchMode?this:(this.batchMode=!0,this._prevFloat=this._float,this._float=!0,this.saveInitial())}commit(){return this.batchMode?(this.batchMode=!1,this._float=this._prevFloat,delete this._prevFloat,this._packNodes()._notify()):this}_useEntireRowArea(t,e){return!this.float&&!this._hasLocked&&(!t._moving||t._skipDown||e.y<=t.y)}_fixCollisions(t,e=t,s,r={}){if(this.sortNodes(-1),s=s||this.collide(t,e),!s)return!1;if(t._moving&&!r.nested&&!this.float&&this.swap(t,s))return!0;let l=e;this._useEntireRowArea(t,e)&&(l={x:0,w:this.column,y:e.y,h:e.h},s=this.collide(t,l,r.skip));let a=!1,c={nested:!0,pack:!1};for(;s=s||this.collide(t,l,r.skip);){let d;if(s.locked||t._moving&&!t._skipDown&&e.y>t.y&&!this.float&&(!this.collide(s,Object.assign(Object.assign({},s),{y:t.y}),t)||!this.collide(s,Object.assign(Object.assign({},s),{y:e.y-s.h}),t))?(t._skipDown=t._skipDown||e.y>t.y,d=this.moveNode(t,Object.assign(Object.assign(Object.assign({},e),{y:s.y+s.h}),c)),s.locked&&d?w.Utils.copyPos(e,t):!s.locked&&d&&r.pack&&(this._packNodes(),e.y=s.y+s.h,w.Utils.copyPos(t,e)),a=a||d):d=this.moveNode(s,Object.assign(Object.assign(Object.assign({},s),{y:e.y+e.h,skip:t}),c)),!d)return a;s=void 0}return a}collide(t,e=t,s){return this.nodes.find(r=>r!==t&&r!==s&&w.Utils.isIntercepted(r,e))}collideAll(t,e=t,s){return this.nodes.filter(r=>r!==t&&r!==s&&w.Utils.isIntercepted(r,e))}collideCoverage(t,e,s){if(!e.rect||!t._rect)return;let r=t._rect,l=Object.assign({},e.rect);l.y>r.y?(l.h+=l.y-r.y,l.y=r.y):l.h+=r.y-l.y,l.x>r.x?(l.w+=l.x-r.x,l.x=r.x):l.w+=r.x-l.x;let a;return s.forEach(c=>{if(c.locked||!c._rect)return;let d=c._rect,i=Number.MAX_VALUE,o=Number.MAX_VALUE,n=.5;r.y<d.y?i=(l.y+l.h-d.y)/d.h:r.y+r.h>d.y+d.h&&(i=(d.y+d.h-l.y)/d.h),r.x<d.x?o=(l.x+l.w-d.x)/d.w:r.x+r.w>d.x+d.w&&(o=(d.x+d.w-l.x)/d.w);let h=Math.min(o,i);h>n&&(n=h,a=c)}),a}cacheRects(t,e,s,r,l,a){return this.nodes.forEach(c=>c._rect={y:c.y*e+s,x:c.x*t+a,w:c.w*t-a-r,h:c.h*e-s-l}),this}swap(t,e){if(!e||e.locked||!t||t.locked)return!1;function s(){let l=e.x,a=e.y;return e.x=t.x,e.y=t.y,t.h!=e.h?(t.x=l,t.y=e.y+e.h):t.w!=e.w?(t.x=e.x+e.w,t.y=a):(t.x=l,t.y=a),t._dirty=e._dirty=!0,!0}let r;if(t.w===e.w&&t.h===e.h&&(t.x===e.x||t.y===e.y)&&(r=w.Utils.isTouching(t,e)))return s();if(r!==!1){if(t.w===e.w&&t.x===e.x&&(r||(r=w.Utils.isTouching(t,e)))){if(e.y<t.y){let l=t;t=e,e=l}return s()}if(r!==!1){if(t.h===e.h&&t.y===e.y&&(r||(r=w.Utils.isTouching(t,e)))){if(e.x<t.x){let l=t;t=e,e=l}return s()}return!1}}}isAreaEmpty(t,e,s,r){let l={x:t||0,y:e||0,w:s||1,h:r||1};return!this.collide(l)}compact(){if(this.nodes.length===0)return this;this.batchUpdate().sortNodes();let t=this.nodes;return this.nodes=[],t.forEach(e=>{e.locked||(e.autoPosition=!0),this.addNode(e,!1),e._dirty=!0}),this.commit()}set float(t){this._float!==t&&(this._float=t||!1,t||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(t){return this.nodes=w.Utils.sort(this.nodes,t,this.column),this}_packNodes(){return this.batchMode?this:(this.sortNodes(),this.float?this.nodes.forEach(t=>{if(t._updating||t._orig===void 0||t.y===t._orig.y)return;let e=t.y;for(;e>t._orig.y;)--e,this.collide(t,{x:t.x,y:e,w:t.w,h:t.h})||(t._dirty=!0,t.y=e)}):this.nodes.forEach((t,e)=>{if(!t.locked)for(;t.y>0;){let s=e===0?0:t.y-1;if(!(e===0||!this.collide(t,{x:t.x,y:s,w:t.w,h:t.h})))break;t._dirty=t.y!==s,t.y=s}}),this)}prepareNode(t,e){t=t||{},t._id=t._id||O._idSeq++,(t.x===void 0||t.y===void 0||t.x===null||t.y===null)&&(t.autoPosition=!0);let s={x:0,y:0,w:1,h:1};return w.Utils.defaults(t,s),t.autoPosition||delete t.autoPosition,t.noResize||delete t.noResize,t.noMove||delete t.noMove,typeof t.x=="string"&&(t.x=Number(t.x)),typeof t.y=="string"&&(t.y=Number(t.y)),typeof t.w=="string"&&(t.w=Number(t.w)),typeof t.h=="string"&&(t.h=Number(t.h)),isNaN(t.x)&&(t.x=s.x,t.autoPosition=!0),isNaN(t.y)&&(t.y=s.y,t.autoPosition=!0),isNaN(t.w)&&(t.w=s.w),isNaN(t.h)&&(t.h=s.h),this.nodeBoundFix(t,e)}nodeBoundFix(t,e){let s=t._orig||w.Utils.copyPos({},t);return t.maxW&&(t.w=Math.min(t.w,t.maxW)),t.maxH&&(t.h=Math.min(t.h,t.maxH)),t.minW&&t.minW<=this.column&&(t.w=Math.max(t.w,t.minW)),t.minH&&(t.h=Math.max(t.h,t.minH)),t.w>this.column?(this.column<12&&!this._inColumnResize&&(t.w=Math.min(12,t.w),this.cacheOneLayout(t,12)),t.w=this.column):t.w<1&&(t.w=1),this.maxRow&&t.h>this.maxRow?t.h=this.maxRow:t.h<1&&(t.h=1),t.x<0&&(t.x=0),t.y<0&&(t.y=0),t.x+t.w>this.column&&(e?t.w=this.column-t.x:t.x=this.column-t.w),this.maxRow&&t.y+t.h>this.maxRow&&(e?t.h=this.maxRow-t.y:t.y=this.maxRow-t.h),w.Utils.samePos(t,s)||(t._dirty=!0),t}getDirtyNodes(t){return t?this.nodes.filter(e=>e._dirty&&!w.Utils.samePos(e,e._orig)):this.nodes.filter(e=>e._dirty)}_notify(t){if(this.batchMode||!this.onChange)return this;let e=(t||[]).concat(this.getDirtyNodes());return this.onChange(e),this}cleanNodes(){return this.batchMode?this:(this.nodes.forEach(t=>{delete t._dirty,delete t._lastTried}),this)}saveInitial(){return this.nodes.forEach(t=>{t._orig=w.Utils.copyPos({},t),delete t._dirty}),this._hasLocked=this.nodes.some(t=>t.locked),this}restoreInitial(){return this.nodes.forEach(t=>{w.Utils.samePos(t,t._orig)||(w.Utils.copyPos(t,t._orig),t._dirty=!0)}),this._notify(),this}addNode(t,e=!1){let s=this.nodes.find(r=>r._id===t._id);if(s)return s;if(t=this._inColumnResize?this.nodeBoundFix(t):this.prepareNode(t),delete t._temporaryRemoved,delete t._removeDOM,t.autoPosition){this.sortNodes();for(let r=0;;++r){let l=r%this.column,a=Math.floor(r/this.column);if(l+t.w>this.column)continue;let c={x:l,y:a,w:t.w,h:t.h};if(!this.nodes.find(d=>w.Utils.isIntercepted(c,d))){t.x=l,t.y=a,delete t.autoPosition;break}}}return this.nodes.push(t),e&&this.addedNodes.push(t),this._fixCollisions(t),this.batchMode||this._packNodes()._notify(),t}removeNode(t,e=!0,s=!1){return this.nodes.find(r=>r===t)?(s&&this.removedNodes.push(t),e&&(t._removeDOM=!0),this.nodes=this.nodes.filter(r=>r!==t),this._packNodes()._notify([t])):this}removeAll(t=!0){return delete this._layouts,this.nodes.length===0?this:(t&&this.nodes.forEach(e=>e._removeDOM=!0),this.removedNodes=this.nodes,this.nodes=[],this._notify(this.removedNodes))}moveNodeCheck(t,e){if(!this.changedPosConstrain(t,e))return!1;if(e.pack=!0,!this.maxRow)return this.moveNode(t,e);let s,r=new O({column:this.column,float:this.float,nodes:this.nodes.map(a=>a===t?(s=Object.assign({},a),s):Object.assign({},a))});if(!s)return!1;let l=r.moveNode(s,e)&&r.getRow()<=this.maxRow;if(!l&&!e.resizing){let a=this.collide(t,e);if(a&&this.swap(t,a))return this._notify(),!0}return l?(r.nodes.filter(a=>a._dirty).forEach(a=>{let c=this.nodes.find(d=>d._id===a._id);!c||(w.Utils.copyPos(c,a),c._dirty=!0)}),this._notify(),!0):!1}willItFit(t){if(delete t._willFitPos,!this.maxRow)return!0;let e=new O({column:this.column,float:this.float,nodes:this.nodes.map(r=>Object.assign({},r))}),s=Object.assign({},t);return this.cleanupNode(s),delete s.el,delete s._id,delete s.content,delete s.grid,e.addNode(s),e.getRow()<=this.maxRow?(t._willFitPos=w.Utils.copyPos({},s),!0):!1}changedPosConstrain(t,e){return e.w=e.w||t.w,e.h=e.h||t.h,t.x!==e.x||t.y!==e.y?!0:(t.maxW&&(e.w=Math.min(e.w,t.maxW)),t.maxH&&(e.h=Math.min(e.h,t.maxH)),t.minW&&(e.w=Math.max(e.w,t.minW)),t.minH&&(e.h=Math.max(e.h,t.minH)),t.w!==e.w||t.h!==e.h)}moveNode(t,e){if(!t||!e)return!1;e.pack===void 0&&(e.pack=!0),typeof e.x!="number"&&(e.x=t.x),typeof e.y!="number"&&(e.y=t.y),typeof e.w!="number"&&(e.w=t.w),typeof e.h!="number"&&(e.h=t.h);let s=t.w!==e.w||t.h!==e.h,r=w.Utils.copyPos({},t,!0);if(w.Utils.copyPos(r,e),r=this.nodeBoundFix(r,s),w.Utils.copyPos(e,r),w.Utils.samePos(t,e))return!1;let l=w.Utils.copyPos({},t),a=this.collideAll(t,r,e.skip),c=!0;if(a.length){let d=t._moving&&!e.nested?this.collideCoverage(t,e,a):a[0];d?c=!this._fixCollisions(t,r,d,e):c=!1}return c&&(t._dirty=!0,w.Utils.copyPos(t,r)),e.pack&&this._packNodes()._notify(),!w.Utils.samePos(t,l)}getRow(){return this.nodes.reduce((t,e)=>Math.max(t,e.y+e.h),0)}beginUpdate(t){return t._updating||(t._updating=!0,delete t._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){let t=this.nodes.find(e=>e._updating);return t&&(delete t._updating,delete t._skipDown),this}save(t=!0){var e;let s=(e=this._layouts)===null||e===void 0?void 0:e.length,r=s&&this.column!==s-1?this._layouts[s-1]:null,l=[];return this.sortNodes(),this.nodes.forEach(a=>{let c=r==null?void 0:r.find(i=>i._id===a._id),d=Object.assign({},a);c&&(d.x=c.x,d.y=c.y,d.w=c.w);for(let i in d)(i[0]==="_"||d[i]===null||d[i]===void 0)&&delete d[i];delete d.grid,t||delete d.el,d.autoPosition||delete d.autoPosition,d.noResize||delete d.noResize,d.noMove||delete d.noMove,d.locked||delete d.locked,l.push(d)}),l}layoutsNodesChange(t){return!this._layouts||this._inColumnResize?this:(this._layouts.forEach((e,s)=>{if(!e||s===this.column)return this;if(s<this.column)this._layouts[s]=void 0;else{let r=s/this.column;t.forEach(l=>{if(!l._orig)return;let a=e.find(c=>c._id===l._id);!a||(l.y!==l._orig.y&&(a.y+=l.y-l._orig.y),l.x!==l._orig.x&&(a.x=Math.round(l.x*r)),l.w!==l._orig.w&&(a.w=Math.round(l.w*r)))})}}),this)}updateNodeWidths(t,e,s,r="moveScale"){var l;if(!this.nodes.length||!e||t===e)return this;this.cacheLayout(this.nodes,t),this.batchUpdate();let a=[],c=!1;if(e===1&&(s==null?void 0:s.length)){c=!0;let i=0;s.forEach(o=>{o.x=0,o.w=1,o.y=Math.max(o.y,i),i=o.y+o.h}),a=s,s=[]}else s=w.Utils.sort(this.nodes,-1,t);let d=[];if(e>t){d=this._layouts[e]||[];let i=this._layouts.length-1;!d.length&&t!==i&&((l=this._layouts[i])===null||l===void 0?void 0:l.length)&&(t=i,this._layouts[i].forEach(o=>{let n=s.find(h=>h._id===o._id);n&&(n.x=o.x,n.y=o.y,n.w=o.w)}))}if(d.forEach(i=>{let o=s.findIndex(n=>n._id===i._id);o!==-1&&(s[o].x=i.x,s[o].y=i.y,s[o].w=i.w,a.push(s[o]),s.splice(o,1))}),s.length){if(typeof r=="function")r(e,t,a,s);else if(!c){let i=e/t,o=r==="move"||r==="moveScale",n=r==="scale"||r==="moveScale";s.forEach(h=>{h.x=e===1?0:o?Math.round(h.x*i):Math.min(h.x,e-1),h.w=e===1||t===1?1:n?Math.round(h.w*i)||1:Math.min(h.w,e),a.push(h)}),s=[]}}return a=w.Utils.sort(a,-1,e),this._inColumnResize=!0,this.nodes=[],a.forEach(i=>{this.addNode(i,!1),delete i._orig}),this.commit(),delete this._inColumnResize,this}cacheLayout(t,e,s=!1){let r=[];return t.forEach((l,a)=>{l._id=l._id||O._idSeq++,r[a]={x:l.x,y:l.y,w:l.w,_id:l._id}}),this._layouts=s?[]:this._layouts||[],this._layouts[e]=r,this}cacheOneLayout(t,e){t._id=t._id||O._idSeq++;let s={x:t.x,y:t.y,w:t.w,_id:t._id};this._layouts=this._layouts||[],this._layouts[e]=this._layouts[e]||[];let r=this._layouts[e].findIndex(l=>l._id===t._id);return r===-1?this._layouts[e].push(s):this._layouts[e][r]=s,this}cleanupNode(t){for(let e in t)e[0]==="_"&&e!=="_id"&&delete t[e];return this}}V.GridStackEngine=O;O._idSeq=1;var I={};Object.defineProperty(I,"__esModule",{value:!0});I.GridStackDDI=void 0;class L{static registerPlugin(t){return L.ddi=new t,L.ddi}static get(){return L.ddi||L.registerPlugin(L)}remove(t){return this}}I.GridStackDDI=L;var ft={};Object.defineProperty(ft,"__esModule",{value:!0});(function(p){var t=R&&R.__createBinding||(Object.create?function(d,i,o,n){n===void 0&&(n=o),Object.defineProperty(d,n,{enumerable:!0,get:function(){return i[o]}})}:function(d,i,o,n){n===void 0&&(n=o),d[n]=i[o]}),e=R&&R.__exportStar||function(d,i){for(var o in d)o!=="default"&&!i.hasOwnProperty(o)&&t(i,d,o)};Object.defineProperty(p,"__esModule",{value:!0}),p.GridStack=void 0;/*!
 * GridStack 5.1.1
 * https://gridstackjs.com/
 *
 * Copyright (c) 2021-2022 Alain Dumesny
 * see root license https://github.com/gridstack/gridstack.js/tree/master/LICENSE
 */const s=V,r=x,l=I;e(ft,p),e(x,p),e(V,p),e(I,p);const a={column:12,minRow:0,maxRow:0,itemClass:"grid-stack-item",placeholderClass:"grid-stack-placeholder",placeholderText:"",handle:".grid-stack-item-content",handleClass:null,styleInHead:!1,cellHeight:"auto",cellHeightThrottle:100,margin:10,auto:!0,oneColumnSize:768,float:!1,staticGrid:!1,animate:!0,alwaysShowResizeHandle:!1,resizable:{autoHide:!0,handles:"se"},draggable:{handle:".grid-stack-item-content",scroll:!1,appendTo:"body"},disableDrag:!1,disableResize:!1,rtl:"auto",removable:!1,removableOptions:{accept:".grid-stack-item"},marginUnit:"px",cellHeightUnit:"px",disableOneColumnMode:!1,oneColumnModeDomSort:!1};class c{constructor(i,o={}){this._gsEventHandler={},this._extraDragRow=0,this.el=i,o=o||{},o.row&&(o.minRow=o.maxRow=o.row,delete o.row);let n=r.Utils.toNumber(i.getAttribute("gs-row"));o.column==="auto"&&delete o.column;let h=o;h.minWidth!==void 0&&(o.oneColumnSize=o.oneColumnSize||h.minWidth,delete h.minWidth);let g=Object.assign(Object.assign({},r.Utils.cloneDeep(a)),{column:r.Utils.toNumber(i.getAttribute("gs-column"))||12,minRow:n||r.Utils.toNumber(i.getAttribute("gs-min-row"))||0,maxRow:n||r.Utils.toNumber(i.getAttribute("gs-max-row"))||0,staticGrid:r.Utils.toBool(i.getAttribute("gs-static"))||!1,_styleSheetClass:"grid-stack-instance-"+(Math.random()*1e4).toFixed(0),alwaysShowResizeHandle:o.alwaysShowResizeHandle||!1,resizable:{autoHide:!o.alwaysShowResizeHandle,handles:"se"},draggable:{handle:(o.handleClass?"."+o.handleClass:o.handle?o.handle:"")||".grid-stack-item-content",scroll:!1,appendTo:"body"},removableOptions:{accept:"."+(o.itemClass||"grid-stack-item")}});i.getAttribute("gs-animate")&&(g.animate=r.Utils.toBool(i.getAttribute("gs-animate"))),this.opts=r.Utils.defaults(o,g),o=null,this._initMargin(),this.opts.column!==1&&!this.opts.disableOneColumnMode&&this._widthOrContainer()<=this.opts.oneColumnSize&&(this._prevColumn=this.getColumn(),this.opts.column=1),this.opts.rtl==="auto"&&(this.opts.rtl=i.style.direction==="rtl"),this.opts.rtl&&this.el.classList.add("grid-stack-rtl");let y=r.Utils.closestByClass(this.el,a.itemClass);y&&y.gridstackNode&&(this.opts._isNested=y.gridstackNode,this.opts._isNested.subGrid=this,y.classList.add("grid-stack-nested"),this.el.classList.add("grid-stack-nested")),this._isAutoCellHeight=this.opts.cellHeight==="auto",this._isAutoCellHeight||this.opts.cellHeight==="initial"?this.cellHeight(void 0,!1):(typeof this.opts.cellHeight=="number"&&this.opts.cellHeightUnit&&this.opts.cellHeightUnit!==a.cellHeightUnit&&(this.opts.cellHeight=this.opts.cellHeight+this.opts.cellHeightUnit,delete this.opts.cellHeightUnit),this.cellHeight(this.opts.cellHeight,!1)),this.el.classList.add(this.opts._styleSheetClass),this._setStaticClass();let u=this.opts.engineClass||c.engineClass||s.GridStackEngine;if(this.engine=new u({column:this.getColumn(),float:this.opts.float,maxRow:this.opts.maxRow,onChange:m=>{let _=0;this.engine.nodes.forEach(f=>{_=Math.max(_,f.y+f.h)}),m.forEach(f=>{let v=f.el;!v||(f._removeDOM?(v&&v.remove(),delete f._removeDOM):this._writePosAttr(v,f))}),this._updateStyles(!1,_)}}),this.opts.auto){this.batchUpdate();let m=[];this.getGridItems().forEach(_=>{let f=parseInt(_.getAttribute("gs-x")),v=parseInt(_.getAttribute("gs-y"));m.push({el:_,i:(Number.isNaN(f)?1e3:f)+(Number.isNaN(v)?1e3:v)*this.getColumn()})}),m.sort((_,f)=>_.i-f.i).forEach(_=>this._prepareElement(_.el)),this.commit()}this.setAnimation(this.opts.animate),this._updateStyles(),this.opts.column!=12&&this.el.classList.add("grid-stack-"+this.opts.column),this.opts.dragIn&&c.setupDragIn(this.opts.dragIn,this.opts.dragInOptions),delete this.opts.dragIn,delete this.opts.dragInOptions,this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateWindowResizeEvent()}static init(i={},o=".grid-stack"){let n=c.getGridElement(o);return n?(n.gridstack||(n.gridstack=new c(n,r.Utils.cloneDeep(i))),n.gridstack):(console.error(typeof o=="string"?'GridStack.initAll() no grid was found with selector "'+o+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`:"GridStack.init() no grid element was passed."),null)}static initAll(i={},o=".grid-stack"){let n=[];return c.getGridElements(o).forEach(h=>{h.gridstack||(h.gridstack=new c(h,r.Utils.cloneDeep(i)),delete i.dragIn,delete i.dragInOptions),n.push(h.gridstack)}),n.length===0&&console.error('GridStack.initAll() no grid was found with selector "'+o+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`),n}static addGrid(i,o={}){if(!i)return null;let n=i;if(!i.classList.contains("grid-stack")){let g=document.implementation.createHTMLDocument("");g.body.innerHTML=`<div class="grid-stack ${o.class||""}"></div>`,n=g.body.children[0],i.appendChild(n)}let h=c.init(o,n);if(h.opts.children){let g=h.opts.children;delete h.opts.children,h.load(g)}return h}static registerEngine(i){c.engineClass=i}get placeholder(){if(!this._placeholder){let i=document.createElement("div");i.className="placeholder-content",this.opts.placeholderText&&(i.innerHTML=this.opts.placeholderText),this._placeholder=document.createElement("div"),this._placeholder.classList.add(this.opts.placeholderClass,a.itemClass,this.opts.itemClass),this.placeholder.appendChild(i)}return this._placeholder}addWidget(i,o){if(arguments.length>2){console.warn("gridstack.ts: `addWidget(el, x, y, width...)` is deprecated. Use `addWidget({x, y, w, content, ...})`. It will be removed soon");let u=arguments,m=1,_={x:u[m++],y:u[m++],w:u[m++],h:u[m++],autoPosition:u[m++],minW:u[m++],maxW:u[m++],minH:u[m++],maxH:u[m++],id:u[m++]};return this.addWidget(i,_)}function n(u){return u.x!==void 0||u.y!==void 0||u.w!==void 0||u.h!==void 0||u.content!==void 0}let h;if(typeof i=="string"){let u=document.implementation.createHTMLDocument("");u.body.innerHTML=i,h=u.body.children[0]}else if(arguments.length===0||arguments.length===1&&n(i)){let u=i&&i.content||"";o=i;let m=document.implementation.createHTMLDocument("");m.body.innerHTML=`<div class="grid-stack-item ${this.opts.itemClass||""}"><div class="grid-stack-item-content">${u}</div></div>`,h=m.body.children[0]}else h=i;let g=this._readAttr(h);o=r.Utils.cloneDeep(o)||{},r.Utils.defaults(o,g);let y=this.engine.prepareNode(o);if(this._writeAttr(h,o),this._insertNotAppend?this.el.prepend(h):this.el.appendChild(h),this._prepareElement(h,!0,o),this._updateContainerHeight(),y.subGrid&&!y.subGrid.el){let u,m=y.subGrid;m.column==="auto"&&(m.column=y.w,m.disableOneColumnMode=!0,u=!0);let _=y.el.querySelector(".grid-stack-item-content");y.subGrid=c.addGrid(_,y.subGrid),u&&(y.subGrid._autoColumn=!0)}return this._triggerAddEvent(),this._triggerChangeEvent(),h}save(i=!0,o=!1){let n=this.engine.save(i);if(n.forEach(h=>{if(i&&h.el&&!h.subGrid){let g=h.el.querySelector(".grid-stack-item-content");h.content=g?g.innerHTML:void 0,h.content||delete h.content}else i||delete h.content,h.subGrid&&(h.subGrid=h.subGrid.save(i,!0));delete h.el}),o){let h=r.Utils.cloneDeep(this.opts);return h.marginBottom===h.marginTop&&h.marginRight===h.marginLeft&&h.marginTop===h.marginRight&&(h.margin=h.marginTop,delete h.marginTop,delete h.marginRight,delete h.marginBottom,delete h.marginLeft),h.rtl===(this.el.style.direction==="rtl")&&(h.rtl="auto"),this._isAutoCellHeight&&(h.cellHeight="auto"),this._autoColumn&&(h.column="auto",delete h.disableOneColumnMode),r.Utils.removeInternalAndSame(h,a),h.children=n,h}return n}load(i,o=!0){let n=c.Utils.sort([...i],-1,this._prevColumn||this.getColumn());this._insertNotAppend=!0,this._prevColumn&&this._prevColumn!==this.opts.column&&n.some(g=>g.x+g.w>this.opts.column)&&(this._ignoreLayoutsNodeChange=!0,this.engine.cacheLayout(n,this._prevColumn,!0));let h=[];return this.batchUpdate(),o&&[...this.engine.nodes].forEach(g=>{n.find(y=>g.id===y.id)||(typeof o=="function"?o(this,g,!1):(h.push(g),this.removeWidget(g.el,!0,!1)))}),n.forEach(g=>{let y=g.id||g.id===0?this.engine.nodes.find(u=>u.id===g.id):void 0;if(y){if(this.update(y.el,g),g.subGrid&&g.subGrid.children){let u=y.el.querySelector(".grid-stack");u&&u.gridstack&&(u.gridstack.load(g.subGrid.children),this._insertNotAppend=!0)}}else o&&(typeof o=="function"?g=o(this,g,!0).gridstackNode:g=this.addWidget(g).gridstackNode)}),this.engine.removedNodes=h,this.commit(),delete this._ignoreLayoutsNodeChange,delete this._insertNotAppend,this}batchUpdate(){return this.engine.batchUpdate(),this}getCellHeight(i=!1){if(this.opts.cellHeight&&this.opts.cellHeight!=="auto"&&(!i||!this.opts.cellHeightUnit||this.opts.cellHeightUnit==="px"))return this.opts.cellHeight;let o=this.el.querySelector("."+this.opts.itemClass);if(o){let h=r.Utils.toNumber(o.getAttribute("gs-h"));return Math.round(o.offsetHeight/h)}let n=parseInt(this.el.getAttribute("gs-current-row"));return n?Math.round(this.el.getBoundingClientRect().height/n):this.opts.cellHeight}cellHeight(i,o=!0){if(o&&i!==void 0&&this._isAutoCellHeight!==(i==="auto")&&(this._isAutoCellHeight=i==="auto",this._updateWindowResizeEvent()),(i==="initial"||i==="auto")&&(i=void 0),i===void 0){let h=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;i=this.cellWidth()+h}let n=r.Utils.parseHeight(i);return this.opts.cellHeightUnit===n.unit&&this.opts.cellHeight===n.h?this:(this.opts.cellHeightUnit=n.unit,this.opts.cellHeight=n.h,o&&this._updateStyles(!0,this.getRow()),this)}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(){return this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}commit(){return this.engine.commit(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent(),this}compact(){return this.engine.compact(),this._triggerChangeEvent(),this}column(i,o="moveScale"){if(i<1||this.opts.column===i)return this;let n=this.getColumn();i===1?this._prevColumn=n:delete this._prevColumn,this.el.classList.remove("grid-stack-"+n),this.el.classList.add("grid-stack-"+i),this.opts.column=this.engine.column=i;let h;return i===1&&this.opts.oneColumnModeDomSort&&(h=[],this.getGridItems().forEach(g=>{g.gridstackNode&&h.push(g.gridstackNode)}),h.length||(h=void 0)),this.engine.updateNodeWidths(n,i,h,o),this._isAutoCellHeight&&this.cellHeight(),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter(i=>i.matches("."+this.opts.itemClass)&&!i.matches("."+this.opts.placeholderClass))}destroy(i=!0){if(this.el)return this._updateWindowResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),i?this.el.parentNode.removeChild(this.el):(this.removeAll(i),this.el.classList.remove(this.opts._styleSheetClass)),this._removeStylesheet(),this.el.removeAttribute("gs-current-row"),delete this.opts._isNested,delete this.opts,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(i){return this.engine.float=i,this._triggerChangeEvent(),this}getFloat(){return this.engine.float}getCellFromPixel(i,o=!1){let n=this.el.getBoundingClientRect(),h;o?h={top:n.top+document.documentElement.scrollTop,left:n.left}:h={top:this.el.offsetTop,left:this.el.offsetLeft};let g=i.left-h.left,y=i.top-h.top,u=n.width/this.getColumn(),m=n.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(g/u),y:Math.floor(y/m)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow)}isAreaEmpty(i,o,n,h){return this.engine.isAreaEmpty(i,o,n,h)}makeWidget(i){let o=c.getElement(i);return this._prepareElement(o,!0),this._updateContainerHeight(),this._triggerAddEvent(),this._triggerChangeEvent(),o}on(i,o){return i.indexOf(" ")!==-1?(i.split(" ").forEach(n=>this.on(n,o)),this):(i==="change"||i==="added"||i==="removed"||i==="enable"||i==="disable"?(i==="enable"||i==="disable"?this._gsEventHandler[i]=n=>o(n):this._gsEventHandler[i]=n=>o(n,n.detail),this.el.addEventListener(i,this._gsEventHandler[i])):i==="drag"||i==="dragstart"||i==="dragstop"||i==="resizestart"||i==="resize"||i==="resizestop"||i==="dropped"?this._gsEventHandler[i]=o:console.log("GridStack.on("+i+') event not supported, but you can still use $(".grid-stack").on(...) while jquery-ui is still used internally.'),this)}off(i){return i.indexOf(" ")!==-1?(i.split(" ").forEach(o=>this.off(o)),this):((i==="change"||i==="added"||i==="removed"||i==="enable"||i==="disable")&&this._gsEventHandler[i]&&this.el.removeEventListener(i,this._gsEventHandler[i]),delete this._gsEventHandler[i],this)}removeWidget(i,o=!0,n=!0){return c.getElements(i).forEach(h=>{if(h.parentElement!==this.el)return;let g=h.gridstackNode;g||(g=this.engine.nodes.find(y=>h===y.el)),g&&(delete h.gridstackNode,l.GridStackDDI.get().remove(h),this.engine.removeNode(g,o,n),o&&h.parentElement&&h.remove())}),n&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this}removeAll(i=!0){return this.engine.nodes.forEach(o=>{delete o.el.gridstackNode,l.GridStackDDI.get().remove(o.el)}),this.engine.removeAll(i),this._triggerRemoveEvent(),this}setAnimation(i){return i?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this}setStatic(i,o=!0){return this.opts.staticGrid===i?this:(this.opts.staticGrid=i,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach(n=>this._prepareDragDropByNode(n)),o&&this._setStaticClass(),this)}update(i,o){if(arguments.length>2){console.warn("gridstack.ts: `update(el, x, y, w, h)` is deprecated. Use `update(el, {x, w, content, ...})`. It will be removed soon");let n=arguments,h=1;return o={x:n[h++],y:n[h++],w:n[h++],h:n[h++]},this.update(i,o)}return c.getElements(i).forEach(n=>{if(!n||!n.gridstackNode)return;let h=n.gridstackNode,g=r.Utils.cloneDeep(o);delete g.autoPosition;let y=["x","y","w","h"],u;if(y.some(f=>g[f]!==void 0&&g[f]!==h[f])&&(u={},y.forEach(f=>{u[f]=g[f]!==void 0?g[f]:h[f],delete g[f]})),!u&&(g.minW||g.minH||g.maxW||g.maxH)&&(u={}),g.content){let f=n.querySelector(".grid-stack-item-content");f&&f.innerHTML!==g.content&&(f.innerHTML=g.content),delete g.content}let m=!1,_=!1;for(const f in g)f[0]!=="_"&&h[f]!==g[f]&&(h[f]=g[f],m=!0,_=_||!this.opts.staticGrid&&(f==="noResize"||f==="noMove"||f==="locked"));u&&(this.engine.cleanNodes().beginUpdate(h).moveNode(h,u),this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate()),m&&this._writeAttr(n,h),_&&this._prepareDragDropByNode(h)}),this}margin(i){if(!(typeof i=="string"&&i.split(" ").length>1)){let o=r.Utils.parseHeight(i);if(this.opts.marginUnit===o.unit&&this.opts.margin===o.h)return}return this.opts.margin=i,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this._updateStyles(!0),this}getMargin(){return this.opts.margin}willItFit(i){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");let o=arguments,n=0,h={x:o[n++],y:o[n++],w:o[n++],h:o[n++],autoPosition:o[n++]};return this.willItFit(h)}return this.engine.willItFit(i)}_triggerChangeEvent(){if(this.engine.batchMode)return this;let i=this.engine.getDirtyNodes(!0);return i&&i.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(i),this._triggerEvent("change",i)),this.engine.saveInitial(),this}_triggerAddEvent(){return this.engine.batchMode?this:(this.engine.addedNodes&&this.engine.addedNodes.length>0&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach(i=>{delete i._dirty}),this._triggerEvent("added",this.engine.addedNodes),this.engine.addedNodes=[]),this)}_triggerRemoveEvent(){return this.engine.batchMode?this:(this.engine.removedNodes&&this.engine.removedNodes.length>0&&(this._triggerEvent("removed",this.engine.removedNodes),this.engine.removedNodes=[]),this)}_triggerEvent(i,o){let n=o?new CustomEvent(i,{bubbles:!1,detail:o}):new Event(i);return this.el.dispatchEvent(n),this}_removeStylesheet(){return this._styles&&(r.Utils.removeStylesheet(this._styles._id),delete this._styles),this}_updateStyles(i=!1,o){if(i&&this._removeStylesheet(),this._updateContainerHeight(),this.opts.cellHeight===0)return this;let n=this.opts.cellHeight,h=this.opts.cellHeightUnit,g=`.${this.opts._styleSheetClass} > .${this.opts.itemClass}`;if(!this._styles){let y="gridstack-style-"+(Math.random()*1e5).toFixed(),u=this.opts.styleInHead?void 0:this.el.parentNode;if(this._styles=r.Utils.createStylesheet(y,u),!this._styles)return this;this._styles._id=y,this._styles._max=0,r.Utils.addCSSRule(this._styles,g,`min-height: ${n}${h}`);let m=this.opts.marginTop+this.opts.marginUnit,_=this.opts.marginBottom+this.opts.marginUnit,f=this.opts.marginRight+this.opts.marginUnit,v=this.opts.marginLeft+this.opts.marginUnit,E=`${g} > .grid-stack-item-content`,N=`.${this.opts._styleSheetClass} > .grid-stack-placeholder > .placeholder-content`;r.Utils.addCSSRule(this._styles,E,`top: ${m}; right: ${f}; bottom: ${_}; left: ${v};`),r.Utils.addCSSRule(this._styles,N,`top: ${m}; right: ${f}; bottom: ${_}; left: ${v};`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-ne`,`right: ${f}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-e`,`right: ${f}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-se`,`right: ${f}; bottom: ${_}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-nw`,`left: ${v}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-w`,`left: ${v}`),r.Utils.addCSSRule(this._styles,`${g} > .ui-resizable-sw`,`left: ${v}; bottom: ${_}`)}if(o=o||this._styles._max,o>this._styles._max){let y=u=>n*u+h;for(let u=this._styles._max+1;u<=o;u++){let m=y(u);r.Utils.addCSSRule(this._styles,`${g}[gs-y="${u-1}"]`,`top: ${y(u-1)}`),r.Utils.addCSSRule(this._styles,`${g}[gs-h="${u}"]`,`height: ${m}`),r.Utils.addCSSRule(this._styles,`${g}[gs-min-h="${u}"]`,`min-height: ${m}`),r.Utils.addCSSRule(this._styles,`${g}[gs-max-h="${u}"]`,`max-height: ${m}`)}this._styles._max=o}return this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;let i=this.getRow()+this._extraDragRow;if(this.el.setAttribute("gs-current-row",String(i)),i===0)return this.el.style.removeProperty("height"),this;let o=this.opts.cellHeight,n=this.opts.cellHeightUnit;return o?(this.el.style.height=i*o+n,this):this}_prepareElement(i,o=!1,n){n||(i.classList.add(this.opts.itemClass),n=this._readAttr(i)),i.gridstackNode=n,n.el=i,n.grid=this;let h=Object.assign({},n);return n=this.engine.addNode(n,o),r.Utils.same(n,h)||this._writeAttr(i,n),this._prepareDragDropByNode(n),this}_writePosAttr(i,o){return o.x!==void 0&&o.x!==null&&i.setAttribute("gs-x",String(o.x)),o.y!==void 0&&o.y!==null&&i.setAttribute("gs-y",String(o.y)),o.w&&i.setAttribute("gs-w",String(o.w)),o.h&&i.setAttribute("gs-h",String(o.h)),this}_writeAttr(i,o){if(!o)return this;this._writePosAttr(i,o);let n={autoPosition:"gs-auto-position",minW:"gs-min-w",minH:"gs-min-h",maxW:"gs-max-w",maxH:"gs-max-h",noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id",resizeHandles:"gs-resize-handles"};for(const h in n)o[h]?i.setAttribute(n[h],String(o[h])):i.removeAttribute(n[h]);return this}_readAttr(i){let o={};o.x=r.Utils.toNumber(i.getAttribute("gs-x")),o.y=r.Utils.toNumber(i.getAttribute("gs-y")),o.w=r.Utils.toNumber(i.getAttribute("gs-w")),o.h=r.Utils.toNumber(i.getAttribute("gs-h")),o.maxW=r.Utils.toNumber(i.getAttribute("gs-max-w")),o.minW=r.Utils.toNumber(i.getAttribute("gs-min-w")),o.maxH=r.Utils.toNumber(i.getAttribute("gs-max-h")),o.minH=r.Utils.toNumber(i.getAttribute("gs-min-h")),o.autoPosition=r.Utils.toBool(i.getAttribute("gs-auto-position")),o.noResize=r.Utils.toBool(i.getAttribute("gs-no-resize")),o.noMove=r.Utils.toBool(i.getAttribute("gs-no-move")),o.locked=r.Utils.toBool(i.getAttribute("gs-locked")),o.resizeHandles=i.getAttribute("gs-resize-handles"),o.id=i.getAttribute("gs-id");for(const n in o){if(!o.hasOwnProperty(n))return;!o[n]&&o[n]!==0&&delete o[n]}return o}_setStaticClass(){let i=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...i),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...i),this.el.removeAttribute("gs-static")),this}onParentResize(){if(!this.el||!this.el.clientWidth)return;let i=!1;if(this._autoColumn&&this.opts._isNested)this.opts.column!==this.opts._isNested.w&&(i=!0,this.column(this.opts._isNested.w,"none"));else{let o=!this.opts.disableOneColumnMode&&this.el.clientWidth<=this.opts.oneColumnSize;this.opts.column===1!==o&&(i=!0,this.opts.animate&&this.setAnimation(!1),this.column(o?1:this._prevColumn),this.opts.animate&&this.setAnimation(!0))}return this._isAutoCellHeight&&(!i&&this.opts.cellHeightThrottle?(this._cellHeightThrottle||(this._cellHeightThrottle=r.Utils.throttle(()=>this.cellHeight(),this.opts.cellHeightThrottle)),this._cellHeightThrottle()):this.cellHeight()),this.engine.nodes.forEach(o=>{o.subGrid&&o.subGrid.onParentResize()}),this}_updateWindowResizeEvent(i=!1){const o=(this._isAutoCellHeight||!this.opts.disableOneColumnMode)&&!this.opts._isNested;return!i&&o&&!this._windowResizeBind?(this._windowResizeBind=this.onParentResize.bind(this),window.addEventListener("resize",this._windowResizeBind)):(i||!o)&&this._windowResizeBind&&(window.removeEventListener("resize",this._windowResizeBind),delete this._windowResizeBind),this}static getElement(i=".grid-stack-item"){return r.Utils.getElement(i)}static getElements(i=".grid-stack-item"){return r.Utils.getElements(i)}static getGridElement(i){return c.getElement(i)}static getGridElements(i){return r.Utils.getElements(i)}_initMargin(){let i,o=0,n=[];return typeof this.opts.margin=="string"&&(n=this.opts.margin.split(" ")),n.length===2?(this.opts.marginTop=this.opts.marginBottom=n[0],this.opts.marginLeft=this.opts.marginRight=n[1]):n.length===4?(this.opts.marginTop=n[0],this.opts.marginRight=n[1],this.opts.marginBottom=n[2],this.opts.marginLeft=n[3]):(i=r.Utils.parseHeight(this.opts.margin),this.opts.marginUnit=i.unit,o=this.opts.margin=i.h),this.opts.marginTop===void 0?this.opts.marginTop=o:(i=r.Utils.parseHeight(this.opts.marginTop),this.opts.marginTop=i.h,delete this.opts.margin),this.opts.marginBottom===void 0?this.opts.marginBottom=o:(i=r.Utils.parseHeight(this.opts.marginBottom),this.opts.marginBottom=i.h,delete this.opts.margin),this.opts.marginRight===void 0?this.opts.marginRight=o:(i=r.Utils.parseHeight(this.opts.marginRight),this.opts.marginRight=i.h,delete this.opts.margin),this.opts.marginLeft===void 0?this.opts.marginLeft=o:(i=r.Utils.parseHeight(this.opts.marginLeft),this.opts.marginLeft=i.h,delete this.opts.margin),this.opts.marginUnit=i.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop),this}static setupDragIn(i,o){}movable(i,o){return this}resizable(i,o){return this}disable(){return this}enable(){return this}enableMove(i){return this}enableResize(i){return this}_setupAcceptWidget(){return this}_setupRemoveDrop(){return this}_prepareDragDropByNode(i){return this}_onStartMoving(i,o,n,h,g,y){}_dragOrResize(i,o,n,h,g,y){}_leave(i,o){}}p.GridStack=c,c.Utils=r.Utils,c.Engine=s.GridStackEngine})(dt);var kt={},j={};Object.defineProperty(j,"__esModule",{value:!0});j.DDManager=void 0;class Ut{}j.DDManager=Ut;var it={},st={},rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.DDResizableHandle=void 0;class ot{constructor(t,e,s){this.moving=!1,this.host=t,this.dir=e,this.option=s,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._init()}_init(){const t=document.createElement("div");return t.classList.add("ui-resizable-handle"),t.classList.add(`${ot.prefix}${this.dir}`),t.style.zIndex="100",t.style.userSelect="none",this.el=t,this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),this}destroy(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),this.host.removeChild(this.el),delete this.el,delete this.host,this}_mouseDown(t){t.preventDefault(),this.mouseDownEvent=t,document.addEventListener("mousemove",this._mouseMove,!0),document.addEventListener("mouseup",this._mouseUp)}_mouseMove(t){let e=this.mouseDownEvent;!this.moving&&Math.abs(t.x-e.x)+Math.abs(t.y-e.y)>2?(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent)):this.moving&&this._triggerEvent("move",t)}_mouseUp(t){this.moving&&this._triggerEvent("stop",t),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp),delete this.moving,delete this.mouseDownEvent}_triggerEvent(t,e){return this.option[t]&&this.option[t](e),this}}rt.DDResizableHandle=ot;ot.prefix="ui-resizable-";var W={};Object.defineProperty(W,"__esModule",{value:!0});W.DDBaseImplement=void 0;class Ot{constructor(){this._disabled=!1,this._eventRegister={}}get disabled(){return this._disabled}on(t,e){this._eventRegister[t]=e}off(t){delete this._eventRegister[t]}enable(){this._disabled=!1}disable(){this._disabled=!0}destroy(){delete this._eventRegister}triggerEvent(t,e){if(!this.disabled&&this._eventRegister&&this._eventRegister[t])return this._eventRegister[t](e)}}W.DDBaseImplement=Ot;var B={};Object.defineProperty(B,"__esModule",{value:!0});B.DDUtils=void 0;class yt{static clone(t){const e=t.cloneNode(!0);return e.removeAttribute("id"),e}static appendTo(t,e){let s;typeof e=="string"?s=document.querySelector(e):s=e,s&&s.appendChild(t)}static setPositionRelative(t){/^(?:r|a|f)/.test(window.getComputedStyle(t).position)||(t.style.position="relative")}static addElStyles(t,e){if(e instanceof Object)for(const s in e)e.hasOwnProperty(s)&&(Array.isArray(e[s])?e[s].forEach(r=>{t.style[s]=r}):t.style[s]=e[s])}static initEvent(t,e){const s={type:e.type},r={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:e.target?e.target:t.target};return t.dataTransfer&&(s.dataTransfer=t.dataTransfer),["altKey","ctrlKey","metaKey","shiftKey"].forEach(l=>s[l]=t[l]),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach(l=>s[l]=t[l]),Object.assign(Object.assign({},s),r)}static inside(t,e){let s=t.relatedTarget||t.fromElement;if(!s){const{bottom:r,left:l,right:a,top:c}=e.getBoundingClientRect();return t.x<a&&t.x>l&&t.y<r&&t.y>c}return e.contains(s)}}B.DDUtils=yt;yt.isEventSupportPassiveOption=(()=>{let p=!1,t=()=>{};return document.addEventListener("test",t,{get passive(){return p=!0,!0}}),document.removeEventListener("test",t),p})();Object.defineProperty(st,"__esModule",{value:!0});st.DDResizable=void 0;const Mt=rt,At=W,at=B,zt=x;class K extends At.DDBaseImplement{constructor(t,e={}){super(),this._showHandlers=()=>{this.el.classList.remove("ui-resizable-autohide")},this._hideHandlers=()=>{this.el.classList.add("ui-resizable-autohide")},this._ui=()=>{const s=this.el.parentElement.getBoundingClientRect(),r={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},l=this.temporalRect||r;return{position:{left:l.left-s.left,top:l.top-s.top},size:{width:l.width,height:l.height}}},this.el=t,this.option=e,this.enable(),this._setupAutoHide(),this._setupHandlers()}on(t,e){super.on(t,e)}off(t){super.off(t)}enable(){super.enable(),this.el.classList.add("ui-resizable"),this.el.classList.remove("ui-resizable-disabled")}disable(){super.disable(),this.el.classList.add("ui-resizable-disabled"),this.el.classList.remove("ui-resizable")}destroy(){this._removeHandlers(),this.option.autoHide&&(this.el.removeEventListener("mouseover",this._showHandlers),this.el.removeEventListener("mouseout",this._hideHandlers)),this.el.classList.remove("ui-resizable"),delete this.el,super.destroy()}updateOption(t){let e=t.handles&&t.handles!==this.option.handles,s=t.autoHide&&t.autoHide!==this.option.autoHide;return Object.keys(t).forEach(r=>this.option[r]=t[r]),e&&(this._removeHandlers(),this._setupHandlers()),s&&this._setupAutoHide(),this}_setupAutoHide(){return this.option.autoHide?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._showHandlers),this.el.addEventListener("mouseout",this._hideHandlers)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._showHandlers),this.el.removeEventListener("mouseout",this._hideHandlers)),this}_setupHandlers(){let t=this.option.handles||"e,s,se";return t==="all"&&(t="n,e,s,w,se,sw,ne,nw"),this.handlers=t.split(",").map(e=>e.trim()).map(e=>new Mt.DDResizableHandle(this.el,e,{start:s=>{this._resizeStart(s)},stop:s=>{this._resizeStop(s)},move:s=>{this._resizing(s,e)}})),this}_resizeStart(t){this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=zt.Utils.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=t,this._setupHelper(),this._applyChange();const e=at.DDUtils.initEvent(t,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(e,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",e),this}_resizing(t,e){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(t,e),this._applyChange();const s=at.DDUtils.initEvent(t,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(s,this._ui()),this.triggerEvent("resize",s),this}_resizeStop(t){const e=at.DDUtils.initEvent(t,{type:"resizestop",target:this.el});return this.option.stop&&this.option.stop(e),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",e),this._cleanHelper(),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}_setupHelper(){return this.elOriginStyleVal=K._originStyleProp.map(t=>this.el.style[t]),this.parentOriginStylePosition=this.el.parentElement.style.position,window.getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}_cleanHelper(){return K._originStyleProp.forEach((t,e)=>{this.el.style[t]=this.elOriginStyleVal[e]||null}),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}_getChange(t,e){const s=this.startEvent,r={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},l=t.clientX-s.clientX,a=t.clientY-s.clientY;e.indexOf("e")>-1?r.width+=l:e.indexOf("w")>-1&&(r.width-=l,r.left+=l),e.indexOf("s")>-1?r.height+=a:e.indexOf("n")>-1&&(r.height-=a,r.top+=a);const c=this._constrainSize(r.width,r.height);return Math.round(r.width)!==Math.round(c.width)&&(e.indexOf("w")>-1&&(r.left+=r.width-c.width),r.width=c.width),Math.round(r.height)!==Math.round(c.height)&&(e.indexOf("n")>-1&&(r.top+=r.height-c.height),r.height=c.height),r}_constrainSize(t,e){const s=this.option.maxWidth||Number.MAX_SAFE_INTEGER,r=this.option.minWidth||t,l=this.option.maxHeight||Number.MAX_SAFE_INTEGER,a=this.option.minHeight||e,c=Math.min(s,Math.max(r,t)),d=Math.min(l,Math.max(a,e));return{width:c,height:d}}_applyChange(){let t={left:0,top:0,width:0,height:0};if(this.el.style.position==="absolute"){const e=this.el.parentElement,{left:s,top:r}=e.getBoundingClientRect();t={left:s,top:r,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach(e=>{const s=this.temporalRect[e];this.el.style[e]=s-t[e]+"px"}),this):this}_removeHandlers(){return this.handlers.forEach(t=>t.destroy()),delete this.handlers,this}}st.DDResizable=K;K._originStyleProp=["width","height","position","left","top","opacity","zIndex"];var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.DDDraggable=void 0;const ut=j,P=B,Lt=W;class M extends Lt.DDBaseImplement{constructor(t,e={}){super(),this.dragging=!1,this.ui=()=>{const r=this.el.parentElement.getBoundingClientRect(),l=this.helper.getBoundingClientRect();return{position:{top:l.top-r.top,left:l.left-r.left}}},this.el=t,this.option=e;let s=e.handle.substring(1);this.dragEl=t.classList.contains(s)?t:t.querySelector(e.handle)||t,this._dragStart=this._dragStart.bind(this),this._drag=this._drag.bind(this),this._dragEnd=this._dragEnd.bind(this),this.enable()}on(t,e){super.on(t,e)}off(t){super.off(t)}enable(){super.enable(),this.dragEl.draggable=!0,this.dragEl.addEventListener("dragstart",this._dragStart),this.el.classList.remove("ui-draggable-disabled"),this.el.classList.add("ui-draggable")}disable(t=!1){super.disable(),this.dragEl.removeAttribute("draggable"),this.dragEl.removeEventListener("dragstart",this._dragStart),this.el.classList.remove("ui-draggable"),t||this.el.classList.add("ui-draggable-disabled")}destroy(){this.dragging&&this._dragEnd({}),this.disable(!0),delete this.el,delete this.helper,delete this.option,super.destroy()}updateOption(t){return Object.keys(t).forEach(e=>this.option[e]=t[e]),this}_dragStart(t){ut.DDManager.dragElement=this,this.helper=this._createHelper(t),this._setupHelperContainmentStyle(),this.dragOffset=this._getDragOffset(t,this.el,this.helperContainment);const e=P.DDUtils.initEvent(t,{target:this.el,type:"dragstart"});this.helper!==this.el?(this._setupDragFollowNodeNotifyStart(e),this._dragFollow(t)):this.dragFollowTimer=window.setTimeout(()=>{delete this.dragFollowTimer,this._setupDragFollowNodeNotifyStart(e)},0),this._cancelDragGhost(t)}_setupDragFollowNodeNotifyStart(t){return this._setupHelperStyle(),document.addEventListener("dragover",this._drag,M.dragEventListenerOption),this.dragEl.addEventListener("dragend",this._dragEnd),this.option.start&&this.option.start(t,this.ui()),this.dragging=!0,this.helper.classList.add("ui-draggable-dragging"),this.triggerEvent("dragstart",t),this}_drag(t){t.preventDefault(),this._dragFollow(t);const e=P.DDUtils.initEvent(t,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(e,this.ui()),this.triggerEvent("drag",e)}_dragEnd(t){if(this.dragFollowTimer){clearTimeout(this.dragFollowTimer),delete this.dragFollowTimer;return}else this.paintTimer&&cancelAnimationFrame(this.paintTimer),document.removeEventListener("dragover",this._drag,M.dragEventListenerOption),this.dragEl.removeEventListener("dragend",this._dragEnd);this.dragging=!1,this.helper.classList.remove("ui-draggable-dragging"),this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper===this.el?this._removeHelperStyle():this.helper.remove();const e=P.DDUtils.initEvent(t,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(e),this.triggerEvent("dragstop",e),delete ut.DDManager.dragElement,delete this.helper}_createHelper(t){let e=this.el;return typeof this.option.helper=="function"?e=this.option.helper(t):this.option.helper==="clone"&&(e=P.DDUtils.clone(this.el)),document.body.contains(e)||P.DDUtils.appendTo(e,this.option.appendTo==="parent"?this.el.parentNode:this.option.appendTo),e===this.el&&(this.dragElementOriginStyle=M.originStyleProp.map(s=>this.el.style[s])),e}_setupHelperStyle(){const t=this.helper.getBoundingClientRect(),e=this.helper.style;return e.pointerEvents="none",e["min-width"]=0,e.width=this.dragOffset.width+"px",e.height=this.dragOffset.height+"px",e.willChange="left, top",e.position="fixed",e.left=t.left+"px",e.top=t.top+"px",e.transition="none",setTimeout(()=>{this.helper&&(e.transition=null)},0),this}_removeHelperStyle(){var t;let e=(t=this.helper)===null||t===void 0?void 0:t.gridstackNode;if(this.dragElementOriginStyle&&(!e||!e._isAboutToRemove)){let s=this.helper,r=this.dragElementOriginStyle.transition||null;s.style.transition=this.dragElementOriginStyle.transition="none",M.originStyleProp.forEach(l=>s.style[l]=this.dragElementOriginStyle[l]||null),setTimeout(()=>s.style.transition=r,50)}return delete this.dragElementOriginStyle,this}_dragFollow(t){this.paintTimer&&cancelAnimationFrame(this.paintTimer),this.paintTimer=requestAnimationFrame(()=>{delete this.paintTimer;const e=this.dragOffset;let s={left:0,top:0};if(this.helper.style.position==="absolute"){const{left:r,top:l}=this.helperContainment.getBoundingClientRect();s={left:r,top:l}}this.helper.style.left=t.clientX+e.offsetLeft-s.left+"px",this.helper.style.top=t.clientY+e.offsetTop-s.top+"px"})}_setupHelperContainmentStyle(){return this.helperContainment=this.helper.parentElement,this.helper.style.position!=="fixed"&&(this.parentOriginStylePosition=this.helperContainment.style.position,window.getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}_cancelDragGhost(t){let e=document.createElement("div");return e.style.width="1px",e.style.height="1px",e.style.position="fixed",document.body.appendChild(e),t.dataTransfer.setDragImage(e,0,0),setTimeout(()=>document.body.removeChild(e)),t.stopPropagation(),this}_getDragOffset(t,e,s){let r=0,l=0;if(s){const c=document.createElement("div");P.DDUtils.addElStyles(c,{opacity:"0",position:"fixed",top:0+"px",left:0+"px",width:"1px",height:"1px",zIndex:"-999999"}),s.appendChild(c);const d=c.getBoundingClientRect();s.removeChild(c),r=d.left,l=d.top}const a=e.getBoundingClientRect();return{left:a.left,top:a.top,offsetLeft:-t.clientX+a.left-r,offsetTop:-t.clientY+a.top-l,width:a.width,height:a.height}}}nt.DDDraggable=M;M.dragEventListenerOption=!0;M.originStyleProp=["transition","pointerEvents","position","left","top","opacity","zIndex","width","height","willChange","min-width"];var lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.DDDroppable=void 0;const T=j,Pt=W,$=B;class k extends Pt.DDBaseImplement{constructor(t,e={}){super(),this.el=t,this.option=e,this._dragEnter=this._dragEnter.bind(this),this._dragOver=this._dragOver.bind(this),this._dragLeave=this._dragLeave.bind(this),this._drop=this._drop.bind(this),this.el.classList.add("ui-droppable"),this.el.addEventListener("dragenter",this._dragEnter),this._setupAccept()}on(t,e){super.on(t,e)}off(t){super.off(t)}enable(){!this.disabled||(super.enable(),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("dragenter",this._dragEnter))}disable(t=!1){this.disabled||(super.disable(),t||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("dragenter",this._dragEnter))}destroy(){this._removeLeaveCallbacks(),this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),super.destroy()}updateOption(t){return Object.keys(t).forEach(e=>this.option[e]=t[e]),this._setupAccept(),this}_dragEnter(t){if(!this._canDrop()||(t.preventDefault(),t.stopPropagation(),this.moving))return;this.moving=!0;const e=$.DDUtils.initEvent(t,{target:this.el,type:"dropover"});this.option.over&&this.option.over(e,this._ui(T.DDManager.dragElement)),this.triggerEvent("dropover",e),this.el.addEventListener("dragover",this._dragOver),this.el.addEventListener("drop",this._drop),this.el.addEventListener("dragleave",this._dragLeave),k.lastActive&&k.lastActive!==this&&k.lastActive._dragLeave(t,!0),k.lastActive=this}_dragOver(t){t.preventDefault(),t.stopPropagation()}_dragLeave(t,e){var s;if(t.preventDefault(),t.stopPropagation(),!e){let r=$.DDUtils.inside(t,this.el),l=T.DDManager.dragElement.el;if(r&&!(!((s=l.gridstackNode)===null||s===void 0)&&s.subGrid)&&(r=!this.el.gridstack.engine.nodes.filter(a=>a.subGrid).map(a=>a.subGrid.el).some(a=>$.DDUtils.inside(t,a))),r)return}if(this.moving){const r=$.DDUtils.initEvent(t,{target:this.el,type:"dropout"});this.option.out&&this.option.out(r,this._ui(T.DDManager.dragElement)),this.triggerEvent("dropout",r)}this._removeLeaveCallbacks(),k.lastActive===this&&delete k.lastActive}_drop(t){if(!this.moving)return;t.preventDefault();const e=$.DDUtils.initEvent(t,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(e,this._ui(T.DDManager.dragElement)),this.triggerEvent("drop",e),this._removeLeaveCallbacks()}_removeLeaveCallbacks(){!this.moving||(delete this.moving,this.el.removeEventListener("dragover",this._dragOver),this.el.removeEventListener("drop",this._drop),this.el.removeEventListener("dragleave",this._dragLeave))}_canDrop(){return T.DDManager.dragElement&&(!this.accept||this.accept(T.DDManager.dragElement.el))}_setupAccept(){return this.option.accept&&typeof this.option.accept=="string"?this.accept=t=>t.matches(this.option.accept):this.accept=this.option.accept,this}_ui(t){return Object.assign({draggable:t.el},t.ui())}}lt.DDDroppable=k;Object.defineProperty(it,"__esModule",{value:!0});it.DDElement=void 0;const Tt=st,It=nt,jt=lt;class gt{constructor(t){this.el=t}static init(t){return t.ddElement||(t.ddElement=new gt(t)),t.ddElement}on(t,e){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(t)>-1?this.ddDraggable.on(t,e):this.ddDroppable&&["drop","dropover","dropout"].indexOf(t)>-1?this.ddDroppable.on(t,e):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(t)>-1&&this.ddResizable.on(t,e),this}off(t){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(t)>-1?this.ddDraggable.off(t):this.ddDroppable&&["drop","dropover","dropout"].indexOf(t)>-1?this.ddDroppable.off(t):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(t)>-1&&this.ddResizable.off(t),this}setupDraggable(t){return this.ddDraggable?this.ddDraggable.updateOption(t):this.ddDraggable=new It.DDDraggable(this.el,t),this}cleanDraggable(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}setupResizable(t){return this.ddResizable?this.ddResizable.updateOption(t):this.ddResizable=new Tt.DDResizable(this.el,t),this}cleanResizable(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}setupDroppable(t){return this.ddDroppable?this.ddDroppable.updateOption(t):this.ddDroppable=new jt.DDDroppable(this.el,t),this}cleanDroppable(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}}it.DDElement=gt;var J={};Object.defineProperty(J,"__esModule",{value:!0});J.GridStackDD=void 0;const ct=I,D=dt,H=x;class S extends ct.GridStackDDI{static get(){return ct.GridStackDDI.get()}remove(t){return this.draggable(t,"destroy").resizable(t,"destroy"),t.gridstackNode&&delete t.gridstackNode._initDD,this}}J.GridStackDD=S;D.GridStack.prototype._setupAcceptWidget=function(){if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return S.get().droppable(this.el,"destroy"),this;let p,t,e=(s,r,l)=>{let a=r.gridstackNode;if(!a)return;l=l||r;let c=this.el.getBoundingClientRect(),{top:d,left:i}=l.getBoundingClientRect();i-=c.left,d-=c.top;let o={position:{top:d,left:i}};if(a._temporaryRemoved){if(a.x=Math.max(0,Math.round(i/t)),a.y=Math.max(0,Math.round(d/p)),delete a.autoPosition,this.engine.nodeBoundFix(a),!this.engine.willItFit(a)){if(a.autoPosition=!0,!this.engine.willItFit(a)){S.get().off(r,"drag");return}a._willFitPos&&(H.Utils.copyPos(a,a._willFitPos),delete a._willFitPos)}this._onStartMoving(l,s,o,a,t,p)}else this._dragOrResize(l,s,o,a,t,p)};return S.get().droppable(this.el,{accept:s=>{let r=s.gridstackNode;if((r==null?void 0:r.grid)===this)return!0;if(!this.opts.acceptWidgets||r!=null&&r.subGrid)return!1;let l=!0;if(typeof this.opts.acceptWidgets=="function")l=this.opts.acceptWidgets(s);else{let a=this.opts.acceptWidgets===!0?".grid-stack-item":this.opts.acceptWidgets;l=s.matches(a)}if(l&&r&&this.opts.maxRow){let a={w:r.w,h:r.h,minW:r.minW,minH:r.minH};l=this.engine.willItFit(a)}return l}}).on(this.el,"dropover",(s,r,l)=>{let a=r.gridstackNode;if((a==null?void 0:a.grid)===this&&!a._temporaryRemoved)return!1;(a==null?void 0:a.grid)&&a.grid!==this&&!a._temporaryRemoved&&a.grid._leave(r,l),t=this.cellWidth(),p=this.getCellHeight(!0),a||(a=this._readAttr(r)),a.grid||(a._isExternal=!0,r.gridstackNode=a),l=l||r;let c=a.w||Math.round(l.offsetWidth/t)||1,d=a.h||Math.round(l.offsetHeight/p)||1;return a.grid&&a.grid!==this?(r._gridstackNodeOrig||(r._gridstackNodeOrig=a),r.gridstackNode=a=Object.assign(Object.assign({},a),{w:c,h:d,grid:this}),this.engine.cleanupNode(a).nodeBoundFix(a),a._initDD=a._isExternal=a._temporaryRemoved=!0):(a.w=c,a.h=d,a._temporaryRemoved=!0),tt(a.el,!1),S.get().on(r,"drag",e),e(s,r,l),!1}).on(this.el,"dropout",(s,r,l)=>{let a=r.gridstackNode;return a&&(!a.grid||a.grid===this)&&this._leave(r,l),!1}).on(this.el,"drop",(s,r,l)=>{let a=r.gridstackNode;if((a==null?void 0:a.grid)===this&&!a._isExternal)return!1;let c=!!this.placeholder.parentElement;this.placeholder.remove();let d=r._gridstackNodeOrig;if(delete r._gridstackNodeOrig,c&&d&&d.grid&&d.grid!==this){let i=d.grid;i.engine.removedNodes.push(d),i._triggerRemoveEvent()}return!a||(c&&(this.engine.cleanupNode(a),a.grid=this),S.get().off(r,"drag"),l!==r?(l.remove(),r.gridstackNode=d,c&&(r=r.cloneNode(!0))):(r.remove(),S.get().remove(r)),!c)||(r.gridstackNode=a,a.el=r,H.Utils.copyPos(a,this._readAttr(this.placeholder)),H.Utils.removePositioningStyles(r),this._writeAttr(r,a),this.el.appendChild(r),this._updateContainerHeight(),this.engine.addedNodes.push(a),this._triggerAddEvent(),this._triggerChangeEvent(),this.engine.endUpdate(),this._gsEventHandler.dropped&&this._gsEventHandler.dropped(Object.assign(Object.assign({},s),{type:"dropped"}),d&&d.grid?d:void 0,a),window.setTimeout(()=>{a.el&&a.el.parentElement?this._prepareDragDropByNode(a):this.engine.removeNode(a)})),!1}),this};function tt(p,t){let e=p?p.gridstackNode:void 0;!e||!e.grid||(t?e._isAboutToRemove=!0:delete e._isAboutToRemove,t?p.classList.add("grid-stack-item-removing"):p.classList.remove("grid-stack-item-removing"))}D.GridStack.prototype._setupRemoveDrop=function(){if(!this.opts.staticGrid&&typeof this.opts.removable=="string"){let p=document.querySelector(this.opts.removable);if(!p)return this;S.get().isDroppable(p)||S.get().droppable(p,this.opts.removableOptions).on(p,"dropover",(t,e)=>tt(e,!0)).on(p,"dropout",(t,e)=>tt(e,!1))}return this};D.GridStack.setupDragIn=function(p,t){let e,s;const r={revert:"invalid",handle:".grid-stack-item-content",scroll:!1,appendTo:"body"};if(p&&(e=p,s=Object.assign(Object.assign({},r),t||{})),typeof e!="string")return;let l=S.get();H.Utils.getElements(e).forEach(a=>{l.isDraggable(a)||l.dragIn(a,s)})};D.GridStack.prototype._prepareDragDropByNode=function(p){let t=p.el,e=S.get();if(this.opts.staticGrid||(p.noMove||this.opts.disableDrag)&&(p.noResize||this.opts.disableResize))return p._initDD&&(e.remove(t),delete p._initDD),t.classList.add("ui-draggable-disabled","ui-resizable-disabled"),this;if(!p._initDD){let s,r,l=(d,i)=>{this._gsEventHandler[d.type]&&this._gsEventHandler[d.type](d,d.target),s=this.cellWidth(),r=this.getCellHeight(!0),this._onStartMoving(t,d,i,p,s,r)},a=(d,i)=>{this._dragOrResize(t,d,i,p,s,r)},c=d=>{this.placeholder.remove(),delete p._moving,delete p._lastTried;let i=d.target;if(!(!i.gridstackNode||i.gridstackNode.grid!==this)){if(p.el=i,p._isAboutToRemove){let o=t.gridstackNode.grid;o._gsEventHandler[d.type]&&o._gsEventHandler[d.type](d,i),e.remove(t),o.engine.removedNodes.push(p),o._triggerRemoveEvent(),delete t.gridstackNode,delete p.el,t.remove()}else p._temporaryRemoved?(H.Utils.removePositioningStyles(i),H.Utils.copyPos(p,p._orig),this._writePosAttr(i,p),this.engine.addNode(p)):(H.Utils.removePositioningStyles(i),this._writePosAttr(i,p)),this._gsEventHandler[d.type]&&this._gsEventHandler[d.type](d,i);this._extraDragRow=0,this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate()}};e.draggable(t,{start:l,stop:c,drag:a}).resizable(t,{start:l,stop:c,resize:a}),p._initDD=!0}return p.noMove||this.opts.disableDrag?(e.draggable(t,"disable"),t.classList.add("ui-draggable-disabled")):(e.draggable(t,"enable"),t.classList.remove("ui-draggable-disabled")),p.noResize||this.opts.disableResize?(e.resizable(t,"disable"),t.classList.add("ui-resizable-disabled")):(e.resizable(t,"enable"),t.classList.remove("ui-resizable-disabled")),this};D.GridStack.prototype._onStartMoving=function(p,t,e,s,r,l){if(this.engine.cleanNodes().beginUpdate(s),this._writePosAttr(this.placeholder,s),this.el.appendChild(this.placeholder),s.el=this.placeholder,s._lastUiPosition=e.position,s._prevYPix=e.position.top,s._moving=t.type==="dragstart",delete s._lastTried,t.type==="dropover"&&s._temporaryRemoved&&(this.engine.addNode(s),s._moving=!0),this.engine.cacheRects(r,l,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),t.type==="resizestart"){let a=S.get().resizable(p,"option","minWidth",r*(s.minW||1)).resizable(p,"option","minHeight",l*(s.minH||1));s.maxW&&a.resizable(p,"option","maxWidth",r*s.maxW),s.maxH&&a.resizable(p,"option","maxHeight",l*s.maxH)}};D.GridStack.prototype._leave=function(p,t){let e=p.gridstackNode;!e||(S.get().off(p,"drag"),!e._temporaryRemoved&&(e._temporaryRemoved=!0,this.engine.removeNode(e),e.el=e._isExternal&&t?t:p,this.opts.removable===!0&&tt(p,!0),p._gridstackNodeOrig?(p.gridstackNode=p._gridstackNodeOrig,delete p._gridstackNodeOrig):e._isExternal&&(delete e.el,delete p.gridstackNode,this.engine.restoreInitial())))};D.GridStack.prototype._dragOrResize=function(p,t,e,s,r,l){let a=Object.assign({},s._orig),c,d=this.opts.marginLeft,i=this.opts.marginRight,o=this.opts.marginTop,n=this.opts.marginBottom,h=Math.round(l*.1),g=Math.round(r*.1);if(d=Math.min(d,g),i=Math.min(i,g),o=Math.min(o,h),n=Math.min(n,h),t.type==="drag"){if(s._temporaryRemoved)return;let u=e.position.top-s._prevYPix;s._prevYPix=e.position.top,H.Utils.updateScrollPosition(p,e.position,u);let m=e.position.left+(e.position.left>s._lastUiPosition.left?-i:d),_=e.position.top+(e.position.top>s._lastUiPosition.top?-n:o);a.x=Math.round(m/r),a.y=Math.round(_/l);let f=this._extraDragRow;if(this.engine.collide(s,a)){let v=this.getRow(),E=Math.max(0,a.y+s.h-v);this.opts.maxRow&&v+E>this.opts.maxRow&&(E=Math.max(0,this.opts.maxRow-v)),this._extraDragRow=E}else this._extraDragRow=0;if(this._extraDragRow!==f&&this._updateContainerHeight(),s.x===a.x&&s.y===a.y)return}else if(t.type==="resize"){if(a.x<0||(H.Utils.updateScrollResize(t,p,l),a.w=Math.round((e.size.width-d)/r),a.h=Math.round((e.size.height-o)/l),s.w===a.w&&s.h===a.h)||s._lastTried&&s._lastTried.w===a.w&&s._lastTried.h===a.h)return;let u=e.position.left+d,m=e.position.top+o;a.x=Math.round(u/r),a.y=Math.round(m/l),c=!0}s._lastTried=a;let y={x:e.position.left+d,y:e.position.top+o,w:(e.size?e.size.width:s.w*r)-d-i,h:(e.size?e.size.height:s.h*l)-o-n};if(this.engine.moveNodeCheck(s,Object.assign(Object.assign({},a),{cellWidth:r,cellHeight:l,rect:y,resizing:c}))){s._lastUiPosition=e.position,this.engine.cacheRects(r,l,o,i,n,d),delete s._skipDown,c&&s.subGrid&&s.subGrid.onParentResize(),this._extraDragRow=0,this._updateContainerHeight();let u=t.target;this._writePosAttr(u,s),this._gsEventHandler[t.type]&&this._gsEventHandler[t.type](t,u)}};D.GridStack.prototype.movable=function(p,t){return this.opts.staticGrid?this:(D.GridStack.getElements(p).forEach(e=>{let s=e.gridstackNode;!s||(t?delete s.noMove:s.noMove=!0,this._prepareDragDropByNode(s))}),this)};D.GridStack.prototype.resizable=function(p,t){return this.opts.staticGrid?this:(D.GridStack.getElements(p).forEach(e=>{let s=e.gridstackNode;!s||(t?delete s.noResize:s.noResize=!0,this._prepareDragDropByNode(s))}),this)};D.GridStack.prototype.disable=function(){if(!this.opts.staticGrid)return this.enableMove(!1),this.enableResize(!1),this._triggerEvent("disable"),this};D.GridStack.prototype.enable=function(){if(!this.opts.staticGrid)return this.enableMove(!0),this.enableResize(!0),this._triggerEvent("enable"),this};D.GridStack.prototype.enableMove=function(p){return this.opts.staticGrid?this:(this.opts.disableDrag=!p,this.engine.nodes.forEach(t=>this.movable(t.el,p)),this)};D.GridStack.prototype.enableResize=function(p){return this.opts.staticGrid?this:(this.opts.disableResize=!p,this.engine.nodes.forEach(t=>this.resizable(t.el,p)),this)};(function(p){var t=R&&R.__createBinding||(Object.create?function(d,i,o,n){n===void 0&&(n=o),Object.defineProperty(d,n,{enumerable:!0,get:function(){return i[o]}})}:function(d,i,o,n){n===void 0&&(n=o),d[n]=i[o]}),e=R&&R.__exportStar||function(d,i){for(var o in d)o!=="default"&&!i.hasOwnProperty(o)&&t(i,d,o)};Object.defineProperty(p,"__esModule",{value:!0}),p.GridStackDDNative=void 0;const s=j,r=it,l=J,a=x;e(J,p);class c extends l.GridStackDD{resizable(i,o,n,h){return this._getDDElements(i).forEach(g=>{if(o==="disable"||o==="enable")g.ddResizable&&g.ddResizable[o]();else if(o==="destroy")g.ddResizable&&g.cleanResizable();else if(o==="option")g.setupResizable({[n]:h});else{const y=g.el.gridstackNode.grid;let u=g.el.getAttribute("gs-resize-handles")?g.el.getAttribute("gs-resize-handles"):y.opts.resizable.handles;g.setupResizable(Object.assign(Object.assign(Object.assign({},y.opts.resizable),{handles:u}),{start:o.start,stop:o.stop,resize:o.resize}))}}),this}draggable(i,o,n,h){return this._getDDElements(i).forEach(g=>{if(o==="disable"||o==="enable")g.ddDraggable&&g.ddDraggable[o]();else if(o==="destroy")g.ddDraggable&&g.cleanDraggable();else if(o==="option")g.setupDraggable({[n]:h});else{const y=g.el.gridstackNode.grid;g.setupDraggable(Object.assign(Object.assign({},y.opts.draggable),{containment:y.opts._isNested&&!y.opts.dragOut?y.el.parentElement:y.opts.draggable.containment||null,start:o.start,stop:o.stop,drag:o.drag}))}}),this}dragIn(i,o){return this._getDDElements(i).forEach(n=>n.setupDraggable(o)),this}droppable(i,o,n,h){return typeof o.accept=="function"&&!o._accept&&(o._accept=o.accept,o.accept=g=>o._accept(g)),this._getDDElements(i).forEach(g=>{o==="disable"||o==="enable"?g.ddDroppable&&g.ddDroppable[o]():o==="destroy"?g.ddDroppable&&g.cleanDroppable():o==="option"?g.setupDroppable({[n]:h}):g.setupDroppable(o)}),this}isDroppable(i){return!!(i&&i.ddElement&&i.ddElement.ddDroppable&&!i.ddElement.ddDroppable.disabled)}isDraggable(i){return!!(i&&i.ddElement&&i.ddElement.ddDraggable&&!i.ddElement.ddDraggable.disabled)}isResizable(i){return!!(i&&i.ddElement&&i.ddElement.ddResizable&&!i.ddElement.ddResizable.disabled)}on(i,o,n){return this._getDDElements(i).forEach(h=>h.on(o,g=>{n(g,s.DDManager.dragElement?s.DDManager.dragElement.el:g.target,s.DDManager.dragElement?s.DDManager.dragElement.helper:null)})),this}off(i,o){return this._getDDElements(i).forEach(n=>n.off(o)),this}_getDDElements(i,o=!0){let n=a.Utils.getElements(i);if(!n.length)return[];let h=n.map(g=>g.ddElement||(o?r.DDElement.init(g):null));return o||h.filter(g=>g),h}}p.GridStackDDNative=c,l.GridStackDD.registerPlugin(c)})(kt);var et={exports:{}};(function(p,t){(function(e,s){var r={};e.PubSub?(r=e.PubSub,console.warn("PubSub already loaded, using existing version")):(e.PubSub=r,s(r)),p!==void 0&&p.exports&&(t=p.exports=r),t.PubSub=r,p.exports=t=r})(typeof window=="object"&&window||R,function(e){var s={},r=-1,l="*";function a(u){var m;for(m in u)if(Object.prototype.hasOwnProperty.call(u,m))return!0;return!1}function c(u){return function(){throw u}}function d(u,m,_){try{u(m,_)}catch(f){setTimeout(c(f),0)}}function i(u,m,_){u(m,_)}function o(u,m,_,f){var v=s[m],E=f?i:d,N;if(Object.prototype.hasOwnProperty.call(s,m))for(N in v)Object.prototype.hasOwnProperty.call(v,N)&&E(v[N],u,_)}function n(u,m,_){return function(){var f=String(u),v=f.lastIndexOf(".");for(o(u,u,m,_);v!==-1;)f=f.substr(0,v),v=f.lastIndexOf("."),o(u,f,m,_);o(u,l,m,_)}}function h(u){var m=String(u),_=Boolean(Object.prototype.hasOwnProperty.call(s,m)&&a(s[m]));return _}function g(u){for(var m=String(u),_=h(m)||h(l),f=m.lastIndexOf(".");!_&&f!==-1;)m=m.substr(0,f),f=m.lastIndexOf("."),_=h(m);return _}function y(u,m,_,f){u=typeof u=="symbol"?u.toString():u;var v=n(u,m,f),E=g(u);return E?(_===!0?v():setTimeout(v,0),!0):!1}e.publish=function(u,m){return y(u,m,!1,e.immediateExceptions)},e.publishSync=function(u,m){return y(u,m,!0,e.immediateExceptions)},e.subscribe=function(u,m){if(typeof m!="function")return!1;u=typeof u=="symbol"?u.toString():u,Object.prototype.hasOwnProperty.call(s,u)||(s[u]={});var _="uid_"+String(++r);return s[u][_]=m,_},e.subscribeAll=function(u){return e.subscribe(l,u)},e.subscribeOnce=function(u,m){var _=e.subscribe(u,function(){e.unsubscribe(_),m.apply(this,arguments)});return e},e.clearAllSubscriptions=function(){s={}},e.clearSubscriptions=function(u){var m;for(m in s)Object.prototype.hasOwnProperty.call(s,m)&&m.indexOf(u)===0&&delete s[m]},e.countSubscriptions=function(u){var m,_,f=0;for(m in s)if(Object.prototype.hasOwnProperty.call(s,m)&&m.indexOf(u)===0){for(_ in s[m])f++;break}return f},e.getSubscriptions=function(u){var m,_=[];for(m in s)Object.prototype.hasOwnProperty.call(s,m)&&m.indexOf(u)===0&&_.push(m);return _},e.unsubscribe=function(u){var m=function(vt){var ht;for(ht in s)if(Object.prototype.hasOwnProperty.call(s,ht)&&ht.indexOf(vt)===0)return!0;return!1},_=typeof u=="string"&&(Object.prototype.hasOwnProperty.call(s,u)||m(u)),f=!_&&typeof u=="string",v=typeof u=="function",E=!1,N,A,Q;if(_){e.clearSubscriptions(u);return}for(N in s)if(Object.prototype.hasOwnProperty.call(s,N)){if(A=s[N],f&&A[u]){delete A[u],E=u;break}if(v)for(Q in A)Object.prototype.hasOwnProperty.call(A,Q)&&A[Q]===u&&(delete A[Q],E=!0)}return E}})})(et,et.exports);const Wt={first(p,t){return p.reduce(function(e,s,r,l){return l[0]},t)}},Bt=".gsg",Gt="#gsg-images";function _t(p={selector:Bt,images:[],gridItemTemplate:t=>`<img class="cursor-pointer rounded-lg object-cover" src="${t}" />`}){p=$t(p);let t=Ft(p);return t=qt(t,p),t.compact(),t=Yt(t),t}function $t(p){if(!(p.images.length>0)){const t=document.querySelector(Gt);t&&t.textContent&&(p.images=JSON.parse(t.textContent))}return p}function Ft(p){return dt.GridStack.init({disableOneColumnMode:!0,margin:"1px"},p.selector)}function qt(p,t){const e=p.batchUpdate();for(let r of t.images)console.log(r),p.addWidget({content:t.gridItemTemplate(r),h:2,w:2});const s=Wt.first(e.getGridItems());return s&&e.update(s,{h:8,w:8}),e.commit(),p}function Yt(p){return p.getGridItems().forEach(function(t){Xt(t)}),et.exports.subscribe("gsg.swap.image",function(t,e){var s;const r=p.batchUpdate();for(const l of p.getGridItems())l===e.el?(r.update(l,{w:8,h:8}),(((s=l.gridstackNode)==null?void 0:s.w)||0)<8&&p.update(l,{x:2,y:2,w:8,h:8})):r.update(l,{w:2,h:2});r.commit(),p.compact()}),p}function Xt(p){p.addEventListener("click",function(){p.querySelectorAll("img").forEach(()=>{et.exports.publish("gsg.swap.image",{el:p})})})}typeof window!==void 0&&(window.GridStackGallery=_t);const G=pt.GridStack.init({disableOneColumnMode:!0}),Vt=setInterval(function(){document.querySelectorAll(".app .gsg").length&&(_t(),clearInterval(Vt))},100);G.batchUpdate();G.addWidget({w:6,h:6,content:document.querySelector("#title").innerHTML});G.addWidget({w:6,h:6,content:document.querySelector("#example").innerHTML});G.addWidget({w:6,h:6,content:document.querySelector("#about").innerHTML});G.addWidget({w:6,h:6,content:document.querySelector("#contact").innerHTML});G.commit();
